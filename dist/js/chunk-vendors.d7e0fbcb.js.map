{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///C:/Users/Mauricio/node_modules/paper/dist/paper-full.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack:///./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack:///./node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///C:/Users/Mauricio/node_modules/paper/dist/paper-core.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/acorn/dist/acorn.mjs","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/draggable/dist/draggable.min.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","bind","this","partArgs","boundFunction","concat","prototype","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","O","P","fails","createElement","defineProperty","get","all","n","Map","on","t","e","push","set","off","splice","indexOf","emit","map","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","Constructor","name","TypeError","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","next","done","Array","from","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","userAgent","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","foo","Boolean","anObject","isArrayIteratorMethod","toLength","getIteratorMethod","iteratorClose","Result","stopped","result","iterable","unboundFunction","options","iterator","iterFn","index","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","value","toInteger","max","Math","min","integer","redefine","setGlobal","copyConstructorProperties","isForced","source","FORCED","target","key","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","proto","includes","searchString","_assertThisInitialized","self","ReferenceError","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","p","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","configurable","_setPrototypeOf","o","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","writable","returnMethod","_isNativeReflectConstruct","Reflect","Proxy","Date","_typeof","obj","Symbol","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","Super","getPrototypeOf","NewTarget","possibleConstructorReturn","defer","channel","port","html","IS_IOS","IS_NODE","location","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","hasOwnProperty","runner","listener","event","data","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","match","version","versions","v8","split","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","classof","Iterators","objectKeys","defineProperties","Properties","keys","charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","type","string","point","state","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","console","MATCH","isRegExp","_superPropBase","property","_get","receiver","base","superPropBase","desc","defaultConstructor","S","getOwnPropertySymbols","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","Target","newTarget","$args","instance","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","argument","IS_PURE","store","mode","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","whitespaces","whitespace","ltrim","rtrim","TYPE","replace","start","end","trim","bitmap","enumerable","getOwnPropertyDescriptorModule","propertyKey","IndexedObject","nativeAssign","assign","A","B","symbol","alphabet","chr","T","argumentsLength","j","CONVERT_TO_STRING","pos","first","second","position","size","charCodeAt","codeAt","isArray","originalArray","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","WeakMap","enforce","wmget","wmhas","wmset","metadata","facade","STATE","document","Base","hidden","describe","define","iter","l","forIn","dst","src","each","inject","dest","beans","preserve","beansNames","field","val","substring","bean","isFunc","res","prev","toLowerCase","isPlainObject","part","statics","extend","ctor","initialize","clone","pick","begin","_id","_class","_name","Formatter","number","getClassName","importJSON","json","exportJSON","toJSON","serialize","props","exclude","filter","_prioritize","equals","obj1","obj2","read","amount","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","entry","readNamed","getNamed","hasValue","getSource","__unfiltered","readSupported","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","add","item","ref","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","JSON","stringify","parse","useTarget","Item","Layer","insert","items","itemsLength","startLength","remove","append","_index","removed","capitalize","str","toUpperCase","camelize","hyphenate","Emitter","func","types","_eventTypes","handlers","_callbacks","install","uninstall","once","handler","setTarget","currentTarget","responds","attach","detach","fire","_installEvents","events","_events","isString","PaperScope","paper","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","os","platform","browser","v1","v2","rv","chrome","v","versionNumber","parseFloat","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","code","PaperScript","View","updateFocus","scope","setup","element","Project","createCanvas","width","height","getCanvas","activate","handleAttribute","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","left","top","right","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","sort","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","curPri1","collisions","multiplier","pow","round","pair","val1","val2","separator","x","y","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","log","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","D","E","ad","bd","cd","dp","q","dq","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","isMachineZero","integrate","w","m","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","count","boundless","minB","maxB","isFinite","solveCubic","d","b1","c2","qd","evaluate","x0","tmp","r","s","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","getLength","setLength","_angle","cos","sin","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","NaN","dot","acos","atan2","getQuadrant","getDirectedAngle","cross","getDistance","squared","normalize","current","rotate","center","subtract","transform","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isNaN","isInQuadrant","point1","point2","random","y1","y2","op","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","to","frm","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","Error","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","line","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","uMin","uMax","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","_selectionItems","_selectionCount","_updateVersion","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","other","draw","pixelRatio","save","param","offset","viewMatrix","matrices","updateMatrix","restore","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","parent","fields","fontSize","Group","_defaults","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","flag","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","floor","bottomRight","getBottomRight","ceil","raster","Raster","canvas","setCanvas","_contains","_asPathItem","Path","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","fill","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","path","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","pop","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","hash","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","getElementById","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","DomEvent","load","complete","naturalWidth","_context","_change","setContext","context","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","sampleSize","_sampleContext","clearRect","pixels","getImageData","channels","total","alpha","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","values","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curve","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","divideAtTime","getTimeAt","_setHandles","tMin","tMax","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","geomEpsilon","getNearestTime","minDist","minT","refine","dist","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","len","a3","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMinClip","tMaxClip","fatLineEpsilon","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","getSquaredLineLength","timeEpsilon","straightBoth","l1","l2","pairs","den","times","num","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_setPath","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_offset","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","pathData","isClockwise","setClockwise","clockwise","setPathData","previous","control","relative","getCoord","command","lower","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","flattener","PathFlattener","PathFitter","fit","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawHandles","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawSegments","drawSegment","dashLength","drawPart","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","resolveCrossings","reorient","createResult","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","results","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","windingEpsilon","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","otherPath","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","branch","visited","valid","finished","branches","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","detXC1","c0","segLength","eps","degree","maxDist","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","fromCSS","parseInt","isHSL","component","unit","turn","grad","hsbIndices","converters","g","achromatic","t3s","t3","properties","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","canvasGradient","_stops","origin","destination","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","prefix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","body","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","removeEventListener","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","timer","nativeRequest","requested","callbacks","handleCallbacks","functions","callback","setInterval","getCanvasSize","setAttribute","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","handleMouseMove","scroll","_handleMouseEvent","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","substr","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","MouseEvent","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","metaFixMap","downKey","keyLookup","charLookup","keyMap","charMap","alt","meta","capsLock","space","option","mac","getKey","keyIdentifier","fromCharCode","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","then","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","calculateBinary","Http","request","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","message","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","tag","attributes","createElementNS","namespace","getAttributeNS","setAttributeNS","SvgStyles","true","false","attribute","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportRaster","embedImages","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","definitionItem","viewBox","overflow","exportGradient","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportText","textContent","exporters","applyStyle","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importPath","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","text","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","acorn","root","mod","input","inputLen","sourceFile","inpt","initTokenState","parseTopLevel","program","defaultOptions","ecmaVersion","strictSemicolons","allowTrailingCommas","forbidReserved","allowReturnOutsideFunction","onComment","ranges","directSourceFile","opt","tokPos","tokStart","tokEnd","tokStartLoc","tokEndLoc","tokType","tokVal","tokRegexpAllowed","tokCurLine","tokLineStart","lastStart","lastEnd","lastEndLoc","inFunction","labels","strict","getLineInfo","cur","lineBreak","lastIndex","column","raise","err","SyntaxError","raisedAt","tokenize","getToken","forceRegexp","readToken","startLoc","endLoc","jumpTo","reAllowed","skipSpace","empty","_num","_regexp","_string","_eof","_break","keyword","_case","beforeExpr","_catch","_continue","_debugger","_do","isLoop","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_while","_with","_new","_this","_null","atomValue","_true","_false","binop","keywordTypes","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","isAssign","_assign","_incDec","postfix","isUpdate","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","kw","tokTypes","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","question","slash","eq","eof","regexp","makePredicate","words","cats","compareTo","arr","cat","containsEsc","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","nonASCIIwhitespace","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","newline","isIdentifierStart","isIdentifierChar","line_loc_t","finishToken","skipBlockComment","skipLineComment","ch","readToken_dot","readNumber","readToken_slash","readRegexp","finishOp","readToken_mult_modulo","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","getTokenFromCode","readHexNumber","readString","readWord","tok","escaped","inClass","mods","readWord1","readInt","radix","startsWithDot","isFloat","octal","quote","readHexChar","word","esc","escStr","setStrict","strct","lastIndexOf","node_t","node_loc_t","startNode","range","startNodeFrom","finishNode","isUseStrict","stmt","expression","eat","canInsertSemicolon","semicolon","unexpected","expect","checkLVal","expr","parseStatement","loopLabel","kind","switchLabel","starttype","isBreak","label","parseIdent","lab","parseParenExpression","parseFor","init","parseVar","declarations","parseForIn","parseExpression","parseFunction","consequent","alternate","discriminant","cases","sawDefault","isCase","block","parseBlock","clause","guard","guardedHandlers","finalizer","maybeName","allowStrict","oldStrict","noIn","decl","noComma","parseMaybeAssign","expressions","parseMaybeConditional","parseExprOps","parseExprOp","parseMaybeUnary","minPrec","prec","exprNode","parseExprSubscripts","parseSubscripts","parseExprAtom","noCalls","computed","callee","parseExprList","raw","tokStartLoc1","tokStart1","elements","parseObj","parseNew","sawGetSet","parsePropertyName","isGetSet","conflict","isStatement","params","oldInFunc","oldLabels","close","allowTrailingComma","allowEmpty","elts","liberal","binaryOperators","unaryOperators","__self","__$__","$__","compile","insertions","insertion","getCode","getBetween","replaceCode","handleOverloading","between","parentType","exp","handleExports","declaration","specifiers","dec","specifier","walkAST","paperFeatures","operatorOverloading","moduleExports","encodeVLQ","base64","sourceMaps","offsetCode","lineBreaks","getElementsByTagName","innerHTML","safari","mappings","file","names","sourceRoot","sources","sourcesContent","preserveParens","sourceType","btoa","unescape","encodeURIComponent","toolHandlers","compiled","expose","script","head","createTextNode","__paperscript__","onResize","setOnResize","setOnFrame","loadScript","canvasId","scopeAttribute","baseURI","loadAll","readyState","calculateUnary","PlacedSymbol","inspectSource","enforceInternalState","TEMPLATE","simple","dummy","Wrapper","NewTargetPrototype","wrappedWellKnownSymbolModule","NAME","targetMap","effectStack","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","isEffect","_isEffect","effect","createReactiveEffect","lazy","active","onStop","uid","scheduler","enableTracking","resetTracking","allowRecurse","deps","delete","shouldTrack","trackStack","pauseTracking","track","depsMap","dep","Set","trigger","newValue","oldValue","oldTarget","effects","effectsToAdd","builtInSymbols","createGetter","shallowGet","readonlyGet","shallowReadonlyGet","arrayInstrumentations","isReadonly","shallow","readonlyMap","reactiveMap","targetIsArray","isRef","shouldUnwrap","readonly","reactive","toRaw","createSetter","shallowSet","hadKey","Number","deleteProperty","ownKeys","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toReactive","toReadonly","toShallow","getProto","get$1","isShallow","rawTarget","rawKey","wrap","has$1","set$1","deleteEntry","hadItems","createForEach","thisArg","observed","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","createReadonlyMethod","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","iteratorMethods","createInstrumentationGetter","instrumentations","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","isProxy","__v_isRef","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ObjectRefImpl","_object","_key","newVal","toRef","ComputedRefImpl","getter","_dirty","_value","getterOrOptions","callWithErrorHandling","handleError","callWithAsyncErrorHandling","catch","throwInDev","contextVNode","vnode","exposedInstance","errorInfo","errorCapturedHooks","ec","appErrorHandler","appContext","config","errorHandler","logError","isFlushing","isFlushPending","flushIndex","pendingPreFlushCbs","activePreFlushCbs","preFlushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","Promise","currentFlushPromise","currentPreFlushParentJob","queueJob","job","queueFlush","flushJobs","invalidateJob","queueCb","cb","activeQueue","pendingQueue","queuePreFlushCb","queuePostFlushCb","flushPreFlushCbs","seen","parentJob","flushPostFlushCbs","deduped","rawArgs","isModelListener","startsWith","modelArg","modifiersKey","handlerName","onceHandler","emitted","normalizeEmitsOptions","comp","asMixin","deopt","__emits","emits","hasExtends","extendEmits","mixins","extends","isEmitListener","currentRenderingInstance","setCurrentRenderingInstance","renderComponentRoot","Component","withProxy","propsOptions","slots","render","renderCache","setupState","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","getFunctionalFallthrough","inheritAttrs","some","filterModelListeners","cloneVNode","dirs","transition","createVNode","Comment","filterSingleRoot","singleRoot","isVNode","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","normalizeSuspenseChildren","normalizeSuspenseSlot","default","singleChild","queueEffectWithSuspense","suspense","pendingBranch","isRenderingCompiledSlot","setCompiledSlotRendering","renderSlot","slot","openBlock","validSlotContent","ensureValidVNode","rendered","createBlock","Fragment","_","vnodes","withCtx","renderFnWithContext","closeBlock","currentScopeId","scopeIdStack","pushScopeId","popScopeId","withScopeId","initProps","rawProps","isStateful","isSSR","InternalObjectKey","setFullProps","updateProps","rawPrevProps","rawCurrentProps","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","camelKey","hasDefault","setCurrentInstance","normalizePropsOptions","__props","extendProps","normalizedKey","validatePropName","booleanIndex","getTypeIndex","stringIndex","isSameType","expectedTypes","injectHook","hook","currentInstance","hooks","wrappedHook","__weh","isUnmounted","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onUnmounted","onRenderTriggered","onRenderTracked","onErrorCaptured","INITIAL_WATCHER_VALUE","watch","doWatch","immediate","flush","onTrack","onTrigger","cleanup","forceTrigger","_shallow","traverse","onInvalidate","baseGetter","queuePostRenderEffect","isMounted","recordInstanceBoundEffect","instanceWatch","publicThis","useTransitionState","isLeaving","isUnmounting","leavingVNodes","TransitionHookValidator","BaseTransitionImpl","appear","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getCurrentInstance","prevTransitionKey","getTransitionRawChildren","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","isSameVNodeType","leavingHooks","afterLeave","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook","leavingVNode","afterHook","cancelHook","_enterCb","cancelled","isKeepAlive","ssContent","ssFallback","keepComment","ret","keyedFragmentCount","__isKeepAlive","displayName","pattern","onActivated","registerKeepAliveHook","onDeactivated","__wdc","isDeactivated","injectToKeepAliveRoot","keepAliveRoot","injected","resetShapeFlag","getInnerChild","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","invokeDirectiveHook","bindings","oldBindings","binding","createAppContext","app","isNativeTag","performance","globalProperties","optionMergeStrategies","isCustomElement","warnHandler","directives","provides","createAppAPI","hydrate","rootComponent","rootProps","installedPlugins","_uid","_component","_props","_container","plugin","mixin","directive","rootContainer","isHydrate","__vue_app__","initFeatureFlags","isAsyncWrapper","__asyncLoader","prodEffectOptions","setRef","rawRef","oldRawRef","parentSuspense","exposed","oldRef","refs","doSet","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","patchProp","hostPatchProp","forcePatchProp","hostForcePatchProp","hostCreateElement","createText","hostCreateText","createComment","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","hostParentNode","hostNextSibling","setScopeId","hostSetScopeId","cloneNode","hostCloneNode","insertStaticContent","hostInsertStaticContent","patch","n1","n2","parentComponent","isSVG","getNextHostNode","unmount","dynamicChildren","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","patchElement","vnodeHook","scopeId","is","mountChildren","unmountChildren","onVnodeBeforeMount","invokeVNodeHook","needCallTransitionHooks","beforeEnter","onVnodeMounted","enter","treeOwnerId","__scopeId","cloneIfMounted","oldProps","newProps","onVnodeBeforeUpdate","patchProps","areChildrenSVG","patchBlockChildren","patchChildren","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","traverseStaticChildren","mountComponent","updateComponent","initialVNode","createComponentInstance","renderer","setupComponent","asyncDep","registerDep","setupRenderEffect","placeholder","asyncResolved","updateComponentPreRender","bu","originNext","nextTree","prevTree","bm","hydrateNode","prevShapeFlag","patchKeyedChildren","patchUnkeyedChildren","oldLength","newLength","commonLength","nextChild","parentAnchor","e1","e2","nextPos","keyToNewIndexMap","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","moveType","needTransition","leave","performLeave","doRemove","deactivate","shouldInvokeDirs","onVnodeBeforeUnmount","unmountComponent","isTeleportDisabled","onVnodeUnmounted","removeFragment","performRemove","bum","um","suspenseId","pendingId","_vnode","mt","mc","pc","pbc","createApp","ch1","ch2","arrI","isTeleport","__isTeleport","disabled","COMPONENTS","resolveComponent","resolveAsset","NULL_DYNAMIC_COMPONENT","warnMissing","selfName","registry","blockStack","currentBlock","disableTracking","__v_isVNode","normalizeKey","normalizeRef","_createVNode","isBlockNode","cloned","normalizeChildren","isClassComponent","__vccOpts","klass","targetAnchor","staticCount","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","createStaticVNode","numberOfNodes","createCommentVNode","asBlock","slotFlag","toMerge","existing","incoming","provide","parentProvides","treatDefaultAsFactory","isInBeforeCreate","applyOptions","deferredData","deferredWatch","deferredProvide","extendsOptions","dataOptions","computedOptions","watchOptions","provideOptions","injectOptions","beforeMount","mounted","beforeUpdate","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","globalMixins","callSyncHook","applyMixins","methodHandler","dataFn","resolveData","createWatcher","callHookFromMixins","callHookFromExtends","selfHook","baseHook","chainedMixins","createPathGetter","resolveMergedOptions","__merged","mergeOptions","strats","getPublicInstance","publicPropertiesMap","$el","$data","$props","$attrs","$slots","$refs","$parent","$root","$emit","$options","$forceUpdate","$nextTick","$watch","PublicInstanceProxyHandlers","accessCache","normalizedProps","publicGetter","cssModule","__cssModules","RuntimeCompiledPublicInstanceProxyHandlers","unscopables","emptyAppContext","uid$1","setupContext","bc","da","rtg","rtc","setupResult","setupStatefulComponent","createSetupContext","resolvedResult","handleSetupResult","finishComponentSetup","template","delimiters","_rc","propsOrChildren","renderList","renderItem","svgNS","tempContainer","tempSVGContainer","nodeOps","nodeValue","querySelector","selector","patchClass","transitionClasses","_vtc","className","patchStyle","cssText","removeAttribute","importantRE","setProperty","prefixed","autoPrefix","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","isBoolean","patchDOMProp","_getNow","createEvent","cachedNow","getNow","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","initialValue","attached","patchStopImmediatePropagation","originalStop","stopImmediatePropagation","_stopped","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","TRANSITION","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","css","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","cachedTransition","transitionProperty","NumberOf","cls","classList","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","timeout","propCount","getTransitionInfo","endEvent","ended","onEnd","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","toMs","rendererOptions","ensureRenderer","mount","containerOrSelector","normalizeContainer","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","NullProtoObject","domain","ActiveXObject","createIteratorConstructor","setToStringTag","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","_getPrototypeOf","functionToString","replacement","feature","detection","POLYFILL","NATIVE","nativeDefineProperty","Attributes","makeMap","expectsLowerCase","GLOBALS_WHITE_LISTED","isGloballyWhitelisted","specialBooleanAttrs","isSpecialBooleanAttr","normalizeStyle","parseStringStyle","listDelimiterRE","propertyDelimiterRE","normalizeClass","HTML_TAGS","SVG_TAGS","isHTMLTag","isSVGTag","looseCompareArrays","equal","looseEqual","aValidType","isDate","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","findIndex","toDisplayString","replacer","isMap","isSet","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE","isOn","hasOwn","toTypeString","isSymbol","isPromise","objectToString","toRawType","isIntegerKey","isReservedProp","cacheStringFunction","camelizeRE","hyphenateRE","toHandlerKey","hasChanged","invokeArrayFns","fns","def","toNumber","_globalThis","getGlobalThis","globalThis","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$Symbol","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","$replacer","valueOf","NativePromise","speciesConstructor","promiseResolve","NON_GENERIC","real","onFinally","inheritIfRequired","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","maxCode","digits","NumberWrapper","error1","error2","ignoreCase","multiline","dotAll","unicode","sticky","_defineProperty","thrower","argument0","argument1","PrototypeOfArrayIteratorPrototype","arrayIterator","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","reservedWords","3","5","6","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","astral","TokenType","conf","startsExpr","updateContext","keywords$1","questionDot","arrow","invalidTemplate","ellipsis","backQuote","dollarBraceL","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","star","starstar","coalesce","_const","_super","_extends","_export","_import","_instanceof","_void","_delete","lineBreakG","isNewLine","ecma2019String","skipWhiteSpace","propName","wordsRegexp","Position","SourceLocation","onInsertedSemicolon","onTrailingComma","allowReserved","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","onToken","tokens","token","pushComment","comment","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","lineStart","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","undefinedExports","scopeStack","enterScope","regexpState","prototypeAccessors","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","nextToken","currentVarScope","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","plugins","parseExpressionAt","tokenizer","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","spaceAfter","isContextual","eatContextual","expectContextual","insertSemicolon","afterTrailingComma","notNext","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","pp$1","adaptDirectivePrologue","isLet","skip","nextCh","ident","isAsyncFunction","topLevel","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","parseLabeledStatement","awaitAt","init$1","await","toAssignable","isAsync","declarationPosition","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","exitScope","parseBindingAtom","i$1","label$1","statementStart","createNewLexicalScope","exitStrict","isForIn","isFor","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","parseBindingList","parseClassId","parseClassSuper","classBody","hadConstructor","parseClassElement","constructorAllowsSuper","this$1","tryContextual","noLineBreak","startNodeAt","static","isGenerator","allowsDirectSuper","parseClassMethod","parseMethod","exported","checkExport","fNode","cNode","shouldParseExportStatement","checkVariableExport","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","list$1","elt","decls","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","pp$2","isBinding","toAssignableList","exprList","parseSpread","parseRestBinding","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","redefinition","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","leftStartPos","leftStartLoc","logical","buildBinary","sawUnary","parseAwait","maybeAsyncArrow","optionalChained","parseSubscript","optional","chainNode","optionalSupported","parseArrowExpression","quasi","parseTemplate","isTagged","canBeArrow","parseLiteral","regex","parseParenAndDistinguishExpression","parseExprImport","parseDynamicImport","parseImportMeta","errorPos","bigint","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","empty$1","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","allowDuplicates","nameHash","re","delegate","pp$4","pp$5","Scope","var","lexical","redeclared","scope$1","scope$2","scope$3","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","curContext","inGeneratorContext","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","ecma11BinaryProperties","unicodeBinaryProperties","9","10","11","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","unicodeScriptValues","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","at","forceU","lookahead","advance","validateRegExpFlags","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","Token","pp$9","stringToNumber","isLegacyOctalNumericLiteral","stringToBigInt","BigInt","codePointToString$1","ignoreEscapeSequenceInKeyword","fullCharCodeAtPos","startSkip","next2","readToken_mult_modulo_exp","tokentype","readToken_question","next2$1","readRadixNumber","flagsStart","maybeLegacyOctalNumericLiteral","allowSeparators","lastCode","val$1","readCodePoint","codePos","invalidStringToken","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","inTemplate","octalStr","escStart","tokContexts","notify","toggle","promise","macrotask","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","exit","observe","characterData","task","createWellKnownSymbol","withoutSetter","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","specificCreate","every","find","filterOut","_defineProperties","_createClass","protoProps","staticProps","PREFERRED_STRING","SHARED","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","$includes","addToUnscopables","EXISTS","newPromiseCapability","promiseCapability","variable","NASHORN_BUG","aPossiblePrototype","CORRECT_SETTER","TAG","_classCallCheck","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","ARRAY_ITERATOR","Arguments","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","redefineAll","setSpecies","anInstance","iterate","checkCorrectnessOfIteration","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","reactions","exited","reaction","fail","reject","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","PromiseCapability","$$resolve","$$reject","classofRaw","CORRECT_ARGUMENTS","tryGet","grid","filterTarget","limit","setCursor","smoothDrag","useGPU","onDrag","onDragStart","onDragEnd","addEvent","removeEvent","Element","attachEvent","detachEvent","touchstart","touchmove","touchend","HTMLDocument","setOption","dragEvent","original","started","_dimensions","offsetHeight","offsetLeft","offsetTop","offsetWidth","margin","cursor","setLimit","getCursor","returnValue","oldZindex","zIndex","_cursor","scrollHeight","scrollWidth","offsetParent","destroy","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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AG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,KAAK,GAAG,EAAE,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,MAGpyCC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAA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","file":"js/chunk-vendors.d7e0fbcb.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i&&i.push(e)||n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&i.splice(i.indexOf(e)>>>0,1)},emit:function(t,e){(n.get(t)||[]).slice().map(function(n){n(e)}),(n.get(\"*\")||[]).slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.es.js.map\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = {};\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","/*!\n * Paper.js v0.12.11 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Fri Jun 19 19:14:33 2020 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jrg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.11\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\t\tvar exports = paper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t\treturn exports;\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(resolution, insert) {\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\tif (!size.isZero()) {\n\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t\traster.setCanvas(canvas);\n\t\t}\n\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t.scale(1 / scale));\n\t\tif (insert === undefined || insert)\n\t\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: true,\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element)\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = smoothing;\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx, 'imageSmoothingEnabled', this._smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: {\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nBase.exports.PaperScript = function() {\n\tvar global = this,\n\t\tacorn = global.acorn;\n\tif (!acorn && typeof require !== 'undefined') {\n\t\ttry { acorn = require('acorn'); } catch(e) {}\n\t}\n\tif (!acorn) {\n\t\tvar exports, module;\n\t\tacorn = exports = module = {};\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n  mod(root.acorn || (root.acorn = {}));\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.5.0\";\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\treturn parseTopLevel(options.program);\n  };\n\n  var defaultOptions = exports.defaultOptions = {\n\tecmaVersion: 5,\n\tstrictSemicolons: false,\n\tallowTrailingCommas: true,\n\tforbidReserved: false,\n\tallowReturnOutsideFunction: false,\n\tlocations: false,\n\tonComment: null,\n\tranges: false,\n\tprogram: null,\n\tsourceFile: null,\n\tdirectSourceFile: null\n  };\n\n  function setOptions(opts) {\n\toptions = opts || {};\n\tfor (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n\t  options[opt] = defaultOptions[opt];\n\tsourceFile = options.sourceFile || null;\n  }\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n\tfor (var line = 1, cur = 0;;) {\n\t  lineBreak.lastIndex = cur;\n\t  var match = lineBreak.exec(input);\n\t  if (match && match.index < offset) {\n\t\t++line;\n\t\tcur = match.index + match[0].length;\n\t  } else break;\n\t}\n\treturn {line: line, column: offset - cur};\n  };\n\n  exports.tokenize = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\n\tvar t = {};\n\tfunction getToken(forceRegexp) {\n\t  lastEnd = tokEnd;\n\t  readToken(forceRegexp);\n\t  t.start = tokStart; t.end = tokEnd;\n\t  t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n\t  t.type = tokType; t.value = tokVal;\n\t  return t;\n\t}\n\tgetToken.jumpTo = function(pos, reAllowed) {\n\t  tokPos = pos;\n\t  if (options.locations) {\n\t\ttokCurLine = 1;\n\t\ttokLineStart = lineBreak.lastIndex = 0;\n\t\tvar match;\n\t\twhile ((match = lineBreak.exec(input)) && match.index < pos) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = match.index + match[0].length;\n\t\t}\n\t  }\n\t  tokRegexpAllowed = reAllowed;\n\t  skipSpace();\n\t};\n\treturn getToken;\n  };\n\n  var tokPos;\n\n  var tokStart, tokEnd;\n\n  var tokStartLoc, tokEndLoc;\n\n  var tokType, tokVal;\n\n  var tokRegexpAllowed;\n\n  var tokCurLine, tokLineStart;\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  var inFunction, labels, strict;\n\n  function raise(pos, message) {\n\tvar loc = getLineInfo(input, pos);\n\tmessage += \" (\" + loc.line + \":\" + loc.column + \")\";\n\tvar err = new SyntaxError(message);\n\terr.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n\tthrow err;\n  }\n\n  var empty = [];\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n\t\t\t\t\t  \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n\t\t\t\t\t  \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n\t\t\t\t\t  \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n\t\t\t\t\t  \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n\t\t\t\t\t  \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n\t\t\t\t\t  \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n\t\t\t\t\t  \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n\t\t\t\t\t  parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n\t\t\t\t\t  dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n\t\t\t\t\t  num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  function makePredicate(words) {\n\twords = words.split(\" \");\n\tvar f = \"\", cats = [];\n\tout: for (var i = 0; i < words.length; ++i) {\n\t  for (var j = 0; j < cats.length; ++j)\n\t\tif (cats[j][0].length == words[i].length) {\n\t\t  cats[j].push(words[i]);\n\t\t  continue out;\n\t\t}\n\t  cats.push([words[i]]);\n\t}\n\tfunction compareTo(arr) {\n\t  if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n\t  f += \"switch(str){\";\n\t  for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\t  f += \"return true}return false;\";\n\t}\n\n\tif (cats.length > 3) {\n\t  cats.sort(function(a, b) {return b.length - a.length;});\n\t  f += \"switch(str.length){\";\n\t  for (var i = 0; i < cats.length; ++i) {\n\t\tvar cat = cats[i];\n\t\tf += \"case \" + cat[0].length + \":\";\n\t\tcompareTo(cat);\n\t  }\n\t  f += \"}\";\n\n\t} else {\n\t  compareTo(words);\n\t}\n\treturn new Function(\"str\", f);\n  }\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n\tif (code < 65) return code === 36;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n\tif (code < 48) return code === 36;\n\tif (code < 58) return true;\n\tif (code < 65) return false;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  function line_loc_t() {\n\tthis.line = tokCurLine;\n\tthis.column = tokPos - tokLineStart;\n  }\n\n  function initTokenState() {\n\ttokCurLine = 1;\n\ttokPos = tokLineStart = 0;\n\ttokRegexpAllowed = true;\n\tskipSpace();\n  }\n\n  function finishToken(type, val) {\n\ttokEnd = tokPos;\n\tif (options.locations) tokEndLoc = new line_loc_t;\n\ttokType = type;\n\tskipSpace();\n\ttokVal = val;\n\ttokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n\tif (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n\ttokPos = end + 2;\n\tif (options.locations) {\n\t  lineBreak.lastIndex = start;\n\t  var match;\n\t  while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n\t\t++tokCurLine;\n\t\ttokLineStart = match.index + match[0].length;\n\t  }\n\t}\n\tif (options.onComment)\n\t  options.onComment(true, input.slice(start + 2, end), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n\tvar start = tokPos;\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar ch = input.charCodeAt(tokPos+=2);\n\twhile (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n\t  ++tokPos;\n\t  ch = input.charCodeAt(tokPos);\n\t}\n\tif (options.onComment)\n\t  options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipSpace() {\n\twhile (tokPos < inputLen) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === 32) {\n\t\t++tokPos;\n\t  } else if (ch === 13) {\n\t\t++tokPos;\n\t\tvar next = input.charCodeAt(tokPos);\n\t\tif (next === 10) {\n\t\t  ++tokPos;\n\t\t}\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch === 10 || ch === 8232 || ch === 8233) {\n\t\t++tokPos;\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch > 8 && ch < 14) {\n\t\t++tokPos;\n\t  } else if (ch === 47) {\n\t\tvar next = input.charCodeAt(tokPos + 1);\n\t\tif (next === 42) {\n\t\t  skipBlockComment();\n\t\t} else if (next === 47) {\n\t\t  skipLineComment();\n\t\t} else break;\n\t  } else if (ch === 160) {\n\t\t++tokPos;\n\t  } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n\t\t++tokPos;\n\t  } else {\n\t\tbreak;\n\t  }\n\t}\n  }\n\n  function readToken_dot() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next >= 48 && next <= 57) return readNumber(true);\n\t++tokPos;\n\treturn finishToken(_dot);\n  }\n\n  function readToken_slash() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (tokRegexpAllowed) {++tokPos; return readRegexp();}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) {\n\t  if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n\t\t  newline.test(input.slice(lastEnd, tokPos))) {\n\t\ttokPos += 3;\n\t\tskipLineComment();\n\t\tskipSpace();\n\t\treturn readToken();\n\t  }\n\t  return finishOp(_incDec, 2);\n\t}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tvar size = 1;\n\tif (next === code) {\n\t  size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n\t  if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n\t  return finishOp(_bitShift, size);\n\t}\n\tif (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n\t\tinput.charCodeAt(tokPos + 3) == 45) {\n\t  tokPos += 4;\n\t  skipLineComment();\n\t  skipSpace();\n\t  return readToken();\n\t}\n\tif (next === 61)\n\t  size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n\treturn finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n\treturn finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n\tswitch(code) {\n\tcase 46:\n\t  return readToken_dot();\n\n\tcase 40: ++tokPos; return finishToken(_parenL);\n\tcase 41: ++tokPos; return finishToken(_parenR);\n\tcase 59: ++tokPos; return finishToken(_semi);\n\tcase 44: ++tokPos; return finishToken(_comma);\n\tcase 91: ++tokPos; return finishToken(_bracketL);\n\tcase 93: ++tokPos; return finishToken(_bracketR);\n\tcase 123: ++tokPos; return finishToken(_braceL);\n\tcase 125: ++tokPos; return finishToken(_braceR);\n\tcase 58: ++tokPos; return finishToken(_colon);\n\tcase 63: ++tokPos; return finishToken(_question);\n\n\tcase 48:\n\t  var next = input.charCodeAt(tokPos + 1);\n\t  if (next === 120 || next === 88) return readHexNumber();\n\tcase 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57:\n\t  return readNumber(false);\n\n\tcase 34: case 39:\n\t  return readString(code);\n\n\tcase 47:\n\t  return readToken_slash(code);\n\n\tcase 37: case 42:\n\t  return readToken_mult_modulo();\n\n\tcase 124: case 38:\n\t  return readToken_pipe_amp(code);\n\n\tcase 94:\n\t  return readToken_caret();\n\n\tcase 43: case 45:\n\t  return readToken_plus_min(code);\n\n\tcase 60: case 62:\n\t  return readToken_lt_gt(code);\n\n\tcase 61: case 33:\n\t  return readToken_eq_excl(code);\n\n\tcase 126:\n\t  return finishOp(_prefix, 1);\n\t}\n\n\treturn false;\n  }\n\n  function readToken(forceRegexp) {\n\tif (!forceRegexp) tokStart = tokPos;\n\telse tokPos = tokStart + 1;\n\tif (options.locations) tokStartLoc = new line_loc_t;\n\tif (forceRegexp) return readRegexp();\n\tif (tokPos >= inputLen) return finishToken(_eof);\n\n\tvar code = input.charCodeAt(tokPos);\n\tif (isIdentifierStart(code) || code === 92 ) return readWord();\n\n\tvar tok = getTokenFromCode(code);\n\n\tif (tok === false) {\n\t  var ch = String.fromCharCode(code);\n\t  if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n\t  raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n\t}\n\treturn tok;\n  }\n\n  function finishOp(type, size) {\n\tvar str = input.slice(tokPos, tokPos + size);\n\ttokPos += size;\n\tfinishToken(type, str);\n  }\n\n  function readRegexp() {\n\tvar content = \"\", escaped, inClass, start = tokPos;\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n\t  var ch = input.charAt(tokPos);\n\t  if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\t  if (!escaped) {\n\t\tif (ch === \"[\") inClass = true;\n\t\telse if (ch === \"]\" && inClass) inClass = false;\n\t\telse if (ch === \"/\" && !inClass) break;\n\t\tescaped = ch === \"\\\\\";\n\t  } else escaped = false;\n\t  ++tokPos;\n\t}\n\tvar content = input.slice(start, tokPos);\n\t++tokPos;\n\tvar mods = readWord1();\n\tif (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\ttry {\n\t  var value = new RegExp(content, mods);\n\t} catch (e) {\n\t  if (e instanceof SyntaxError) raise(start, e.message);\n\t  raise(e);\n\t}\n\treturn finishToken(_regexp, value);\n  }\n\n  function readInt(radix, len) {\n\tvar start = tokPos, total = 0;\n\tfor (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n\t  var code = input.charCodeAt(tokPos), val;\n\t  if (code >= 97) val = code - 97 + 10;\n\t  else if (code >= 65) val = code - 65 + 10;\n\t  else if (code >= 48 && code <= 57) val = code - 48;\n\t  else val = Infinity;\n\t  if (val >= radix) break;\n\t  ++tokPos;\n\t  total = total * radix + val;\n\t}\n\tif (tokPos === start || len != null && tokPos - start !== len) return null;\n\n\treturn total;\n  }\n\n  function readHexNumber() {\n\ttokPos += 2;\n\tvar val = readInt(16);\n\tif (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\treturn finishToken(_num, val);\n  }\n\n  function readNumber(startsWithDot) {\n\tvar start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n\tif (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\tif (input.charCodeAt(tokPos) === 46) {\n\t  ++tokPos;\n\t  readInt(10);\n\t  isFloat = true;\n\t}\n\tvar next = input.charCodeAt(tokPos);\n\tif (next === 69 || next === 101) {\n\t  next = input.charCodeAt(++tokPos);\n\t  if (next === 43 || next === 45) ++tokPos;\n\t  if (readInt(10) === null) raise(start, \"Invalid number\");\n\t  isFloat = true;\n\t}\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n\tvar str = input.slice(start, tokPos), val;\n\tif (isFloat) val = parseFloat(str);\n\telse if (!octal || str.length === 1) val = parseInt(str, 10);\n\telse if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n\telse val = parseInt(str, 8);\n\treturn finishToken(_num, val);\n  }\n\n  function readString(quote) {\n\ttokPos++;\n\tvar out = \"\";\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === quote) {\n\t\t++tokPos;\n\t\treturn finishToken(_string, out);\n\t  }\n\t  if (ch === 92) {\n\t\tch = input.charCodeAt(++tokPos);\n\t\tvar octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n\t\tif (octal) octal = octal[0];\n\t\twhile (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\t\tif (octal === \"0\") octal = null;\n\t\t++tokPos;\n\t\tif (octal) {\n\t\t  if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n\t\t  out += String.fromCharCode(parseInt(octal, 8));\n\t\t  tokPos += octal.length - 1;\n\t\t} else {\n\t\t  switch (ch) {\n\t\t  case 110: out += \"\\n\"; break;\n\t\t  case 114: out += \"\\r\"; break;\n\t\t  case 120: out += String.fromCharCode(readHexChar(2)); break;\n\t\t  case 117: out += String.fromCharCode(readHexChar(4)); break;\n\t\t  case 85: out += String.fromCharCode(readHexChar(8)); break;\n\t\t  case 116: out += \"\\t\"; break;\n\t\t  case 98: out += \"\\b\"; break;\n\t\t  case 118: out += \"\\u000b\"; break;\n\t\t  case 102: out += \"\\f\"; break;\n\t\t  case 48: out += \"\\0\"; break;\n\t\t  case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\t\t  case 10:\n\t\t\tif (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n\t\t\tbreak;\n\t\t  default: out += String.fromCharCode(ch); break;\n\t\t  }\n\t\t}\n\t  } else {\n\t\tif (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n\t\tout += String.fromCharCode(ch);\n\t\t++tokPos;\n\t  }\n\t}\n  }\n\n  function readHexChar(len) {\n\tvar n = readInt(16, len);\n\tif (n === null) raise(tokStart, \"Bad character escape sequence\");\n\treturn n;\n  }\n\n  var containsEsc;\n\n  function readWord1() {\n\tcontainsEsc = false;\n\tvar word, first = true, start = tokPos;\n\tfor (;;) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (isIdentifierChar(ch)) {\n\t\tif (containsEsc) word += input.charAt(tokPos);\n\t\t++tokPos;\n\t  } else if (ch === 92) {\n\t\tif (!containsEsc) word = input.slice(start, tokPos);\n\t\tcontainsEsc = true;\n\t\tif (input.charCodeAt(++tokPos) != 117)\n\t\t  raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n\t\t++tokPos;\n\t\tvar esc = readHexChar(4);\n\t\tvar escStr = String.fromCharCode(esc);\n\t\tif (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n\t\tif (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n\t\t  raise(tokPos - 4, \"Invalid Unicode escape\");\n\t\tword += escStr;\n\t  } else {\n\t\tbreak;\n\t  }\n\t  first = false;\n\t}\n\treturn containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  function readWord() {\n\tvar word = readWord1();\n\tvar type = _name;\n\tif (!containsEsc && isKeyword(word))\n\t  type = keywordTypes[word];\n\treturn finishToken(type, word);\n  }\n\n  function next() {\n\tlastStart = tokStart;\n\tlastEnd = tokEnd;\n\tlastEndLoc = tokEndLoc;\n\treadToken();\n  }\n\n  function setStrict(strct) {\n\tstrict = strct;\n\ttokPos = tokStart;\n\tif (options.locations) {\n\t  while (tokPos < tokLineStart) {\n\t\ttokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n\t\t--tokCurLine;\n\t  }\n\t}\n\tskipSpace();\n\treadToken();\n  }\n\n  function node_t() {\n\tthis.type = null;\n\tthis.start = tokStart;\n\tthis.end = null;\n  }\n\n  function node_loc_t() {\n\tthis.start = tokStartLoc;\n\tthis.end = null;\n\tif (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n\tvar node = new node_t();\n\tif (options.locations)\n\t  node.loc = new node_loc_t();\n\tif (options.directSourceFile)\n\t  node.sourceFile = options.directSourceFile;\n\tif (options.ranges)\n\t  node.range = [tokStart, 0];\n\treturn node;\n  }\n\n  function startNodeFrom(other) {\n\tvar node = new node_t();\n\tnode.start = other.start;\n\tif (options.locations) {\n\t  node.loc = new node_loc_t();\n\t  node.loc.start = other.loc.start;\n\t}\n\tif (options.ranges)\n\t  node.range = [other.range[0], 0];\n\n\treturn node;\n  }\n\n  function finishNode(node, type) {\n\tnode.type = type;\n\tnode.end = lastEnd;\n\tif (options.locations)\n\t  node.loc.end = lastEndLoc;\n\tif (options.ranges)\n\t  node.range[1] = lastEnd;\n\treturn node;\n  }\n\n  function isUseStrict(stmt) {\n\treturn options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n\t  stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  function eat(type) {\n\tif (tokType === type) {\n\t  next();\n\t  return true;\n\t}\n  }\n\n  function canInsertSemicolon() {\n\treturn !options.strictSemicolons &&\n\t  (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  function semicolon() {\n\tif (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  function expect(type) {\n\tif (tokType === type) next();\n\telse unexpected();\n  }\n\n  function unexpected() {\n\traise(tokStart, \"Unexpected token\");\n  }\n\n  function checkLVal(expr) {\n\tif (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n\t  raise(expr.start, \"Assigning to rvalue\");\n\tif (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n\t  raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  function parseTopLevel(program) {\n\tlastStart = lastEnd = tokPos;\n\tif (options.locations) lastEndLoc = new line_loc_t;\n\tinFunction = strict = null;\n\tlabels = [];\n\treadToken();\n\n\tvar node = program || startNode(), first = true;\n\tif (!program) node.body = [];\n\twhile (tokType !== _eof) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && isUseStrict(stmt)) setStrict(true);\n\t  first = false;\n\t}\n\treturn finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  function parseStatement() {\n\tif (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n\t  readToken(true);\n\n\tvar starttype = tokType, node = startNode();\n\n\tswitch (starttype) {\n\tcase _break: case _continue:\n\t  next();\n\t  var isBreak = starttype === _break;\n\t  if (eat(_semi) || canInsertSemicolon()) node.label = null;\n\t  else if (tokType !== _name) unexpected();\n\t  else {\n\t\tnode.label = parseIdent();\n\t\tsemicolon();\n\t  }\n\n\t  for (var i = 0; i < labels.length; ++i) {\n\t\tvar lab = labels[i];\n\t\tif (node.label == null || lab.name === node.label.name) {\n\t\t  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n\t\t  if (node.label && isBreak) break;\n\t\t}\n\t  }\n\t  if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n\t  return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n\tcase _debugger:\n\t  next();\n\t  semicolon();\n\t  return finishNode(node, \"DebuggerStatement\");\n\n\tcase _do:\n\t  next();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  expect(_while);\n\t  node.test = parseParenExpression();\n\t  semicolon();\n\t  return finishNode(node, \"DoWhileStatement\");\n\n\tcase _for:\n\t  next();\n\t  labels.push(loopLabel);\n\t  expect(_parenL);\n\t  if (tokType === _semi) return parseFor(node, null);\n\t  if (tokType === _var) {\n\t\tvar init = startNode();\n\t\tnext();\n\t\tparseVar(init, true);\n\t\tfinishNode(init, \"VariableDeclaration\");\n\t\tif (init.declarations.length === 1 && eat(_in))\n\t\t  return parseForIn(node, init);\n\t\treturn parseFor(node, init);\n\t  }\n\t  var init = parseExpression(false, true);\n\t  if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n\t  return parseFor(node, init);\n\n\tcase _function:\n\t  next();\n\t  return parseFunction(node, true);\n\n\tcase _if:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  node.consequent = parseStatement();\n\t  node.alternate = eat(_else) ? parseStatement() : null;\n\t  return finishNode(node, \"IfStatement\");\n\n\tcase _return:\n\t  if (!inFunction && !options.allowReturnOutsideFunction)\n\t\traise(tokStart, \"'return' outside of function\");\n\t  next();\n\n\t  if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n\t  else { node.argument = parseExpression(); semicolon(); }\n\t  return finishNode(node, \"ReturnStatement\");\n\n\tcase _switch:\n\t  next();\n\t  node.discriminant = parseParenExpression();\n\t  node.cases = [];\n\t  expect(_braceL);\n\t  labels.push(switchLabel);\n\n\t  for (var cur, sawDefault; tokType != _braceR;) {\n\t\tif (tokType === _case || tokType === _default) {\n\t\t  var isCase = tokType === _case;\n\t\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t\t  node.cases.push(cur = startNode());\n\t\t  cur.consequent = [];\n\t\t  next();\n\t\t  if (isCase) cur.test = parseExpression();\n\t\t  else {\n\t\t\tif (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n\t\t\tcur.test = null;\n\t\t  }\n\t\t  expect(_colon);\n\t\t} else {\n\t\t  if (!cur) unexpected();\n\t\t  cur.consequent.push(parseStatement());\n\t\t}\n\t  }\n\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t  next();\n\t  labels.pop();\n\t  return finishNode(node, \"SwitchStatement\");\n\n\tcase _throw:\n\t  next();\n\t  if (newline.test(input.slice(lastEnd, tokStart)))\n\t\traise(lastEnd, \"Illegal newline after throw\");\n\t  node.argument = parseExpression();\n\t  semicolon();\n\t  return finishNode(node, \"ThrowStatement\");\n\n\tcase _try:\n\t  next();\n\t  node.block = parseBlock();\n\t  node.handler = null;\n\t  if (tokType === _catch) {\n\t\tvar clause = startNode();\n\t\tnext();\n\t\texpect(_parenL);\n\t\tclause.param = parseIdent();\n\t\tif (strict && isStrictBadIdWord(clause.param.name))\n\t\t  raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n\t\texpect(_parenR);\n\t\tclause.guard = null;\n\t\tclause.body = parseBlock();\n\t\tnode.handler = finishNode(clause, \"CatchClause\");\n\t  }\n\t  node.guardedHandlers = empty;\n\t  node.finalizer = eat(_finally) ? parseBlock() : null;\n\t  if (!node.handler && !node.finalizer)\n\t\traise(node.start, \"Missing catch or finally clause\");\n\t  return finishNode(node, \"TryStatement\");\n\n\tcase _var:\n\t  next();\n\t  parseVar(node);\n\t  semicolon();\n\t  return finishNode(node, \"VariableDeclaration\");\n\n\tcase _while:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  return finishNode(node, \"WhileStatement\");\n\n\tcase _with:\n\t  if (strict) raise(tokStart, \"'with' in strict mode\");\n\t  next();\n\t  node.object = parseParenExpression();\n\t  node.body = parseStatement();\n\t  return finishNode(node, \"WithStatement\");\n\n\tcase _braceL:\n\t  return parseBlock();\n\n\tcase _semi:\n\t  next();\n\t  return finishNode(node, \"EmptyStatement\");\n\n\tdefault:\n\t  var maybeName = tokVal, expr = parseExpression();\n\t  if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n\t\tfor (var i = 0; i < labels.length; ++i)\n\t\t  if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\t\tvar kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n\t\tlabels.push({name: maybeName, kind: kind});\n\t\tnode.body = parseStatement();\n\t\tlabels.pop();\n\t\tnode.label = expr;\n\t\treturn finishNode(node, \"LabeledStatement\");\n\t  } else {\n\t\tnode.expression = expr;\n\t\tsemicolon();\n\t\treturn finishNode(node, \"ExpressionStatement\");\n\t  }\n\t}\n  }\n\n  function parseParenExpression() {\n\texpect(_parenL);\n\tvar val = parseExpression();\n\texpect(_parenR);\n\treturn val;\n  }\n\n  function parseBlock(allowStrict) {\n\tvar node = startNode(), first = true, strict = false, oldStrict;\n\tnode.body = [];\n\texpect(_braceL);\n\twhile (!eat(_braceR)) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && allowStrict && isUseStrict(stmt)) {\n\t\toldStrict = strict;\n\t\tsetStrict(strict = true);\n\t  }\n\t  first = false;\n\t}\n\tif (strict && !oldStrict) setStrict(false);\n\treturn finishNode(node, \"BlockStatement\");\n  }\n\n  function parseFor(node, init) {\n\tnode.init = init;\n\texpect(_semi);\n\tnode.test = tokType === _semi ? null : parseExpression();\n\texpect(_semi);\n\tnode.update = tokType === _parenR ? null : parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForStatement\");\n  }\n\n  function parseForIn(node, init) {\n\tnode.left = init;\n\tnode.right = parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForInStatement\");\n  }\n\n  function parseVar(node, noIn) {\n\tnode.declarations = [];\n\tnode.kind = \"var\";\n\tfor (;;) {\n\t  var decl = startNode();\n\t  decl.id = parseIdent();\n\t  if (strict && isStrictBadIdWord(decl.id.name))\n\t\traise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n\t  decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n\t  node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n\t  if (!eat(_comma)) break;\n\t}\n\treturn node;\n  }\n\n  function parseExpression(noComma, noIn) {\n\tvar expr = parseMaybeAssign(noIn);\n\tif (!noComma && tokType === _comma) {\n\t  var node = startNodeFrom(expr);\n\t  node.expressions = [expr];\n\t  while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\t  return finishNode(node, \"SequenceExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseMaybeAssign(noIn) {\n\tvar left = parseMaybeConditional(noIn);\n\tif (tokType.isAssign) {\n\t  var node = startNodeFrom(left);\n\t  node.operator = tokVal;\n\t  node.left = left;\n\t  next();\n\t  node.right = parseMaybeAssign(noIn);\n\t  checkLVal(left);\n\t  return finishNode(node, \"AssignmentExpression\");\n\t}\n\treturn left;\n  }\n\n  function parseMaybeConditional(noIn) {\n\tvar expr = parseExprOps(noIn);\n\tif (eat(_question)) {\n\t  var node = startNodeFrom(expr);\n\t  node.test = expr;\n\t  node.consequent = parseExpression(true);\n\t  expect(_colon);\n\t  node.alternate = parseExpression(true, noIn);\n\t  return finishNode(node, \"ConditionalExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprOps(noIn) {\n\treturn parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  function parseExprOp(left, minPrec, noIn) {\n\tvar prec = tokType.binop;\n\tif (prec != null && (!noIn || tokType !== _in)) {\n\t  if (prec > minPrec) {\n\t\tvar node = startNodeFrom(left);\n\t\tnode.left = left;\n\t\tnode.operator = tokVal;\n\t\tvar op = tokType;\n\t\tnext();\n\t\tnode.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n\t\tvar exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n\t\treturn parseExprOp(exprNode, minPrec, noIn);\n\t  }\n\t}\n\treturn left;\n  }\n\n  function parseMaybeUnary() {\n\tif (tokType.prefix) {\n\t  var node = startNode(), update = tokType.isUpdate;\n\t  node.operator = tokVal;\n\t  node.prefix = true;\n\t  tokRegexpAllowed = true;\n\t  next();\n\t  node.argument = parseMaybeUnary();\n\t  if (update) checkLVal(node.argument);\n\t  else if (strict && node.operator === \"delete\" &&\n\t\t\t   node.argument.type === \"Identifier\")\n\t\traise(node.start, \"Deleting local variable in strict mode\");\n\t  return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n\t}\n\tvar expr = parseExprSubscripts();\n\twhile (tokType.postfix && !canInsertSemicolon()) {\n\t  var node = startNodeFrom(expr);\n\t  node.operator = tokVal;\n\t  node.prefix = false;\n\t  node.argument = expr;\n\t  checkLVal(expr);\n\t  next();\n\t  expr = finishNode(node, \"UpdateExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprSubscripts() {\n\treturn parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n\tif (eat(_dot)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseIdent(true);\n\t  node.computed = false;\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (eat(_bracketL)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseExpression();\n\t  node.computed = true;\n\t  expect(_bracketR);\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (!noCalls && eat(_parenL)) {\n\t  var node = startNodeFrom(base);\n\t  node.callee = base;\n\t  node.arguments = parseExprList(_parenR, false);\n\t  return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n\t} else return base;\n  }\n\n  function parseExprAtom() {\n\tswitch (tokType) {\n\tcase _this:\n\t  var node = startNode();\n\t  next();\n\t  return finishNode(node, \"ThisExpression\");\n\tcase _name:\n\t  return parseIdent();\n\tcase _num: case _string: case _regexp:\n\t  var node = startNode();\n\t  node.value = tokVal;\n\t  node.raw = input.slice(tokStart, tokEnd);\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _null: case _true: case _false:\n\t  var node = startNode();\n\t  node.value = tokType.atomValue;\n\t  node.raw = tokType.keyword;\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _parenL:\n\t  var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n\t  next();\n\t  var val = parseExpression();\n\t  val.start = tokStart1;\n\t  val.end = tokEnd;\n\t  if (options.locations) {\n\t\tval.loc.start = tokStartLoc1;\n\t\tval.loc.end = tokEndLoc;\n\t  }\n\t  if (options.ranges)\n\t\tval.range = [tokStart1, tokEnd];\n\t  expect(_parenR);\n\t  return val;\n\n\tcase _bracketL:\n\t  var node = startNode();\n\t  next();\n\t  node.elements = parseExprList(_bracketR, true, true);\n\t  return finishNode(node, \"ArrayExpression\");\n\n\tcase _braceL:\n\t  return parseObj();\n\n\tcase _function:\n\t  var node = startNode();\n\t  next();\n\t  return parseFunction(node, false);\n\n\tcase _new:\n\t  return parseNew();\n\n\tdefault:\n\t  unexpected();\n\t}\n  }\n\n  function parseNew() {\n\tvar node = startNode();\n\tnext();\n\tnode.callee = parseSubscripts(parseExprAtom(), true);\n\tif (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n\telse node.arguments = empty;\n\treturn finishNode(node, \"NewExpression\");\n  }\n\n  function parseObj() {\n\tvar node = startNode(), first = true, sawGetSet = false;\n\tnode.properties = [];\n\tnext();\n\twhile (!eat(_braceR)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (options.allowTrailingCommas && eat(_braceR)) break;\n\t  } else first = false;\n\n\t  var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n\t  if (eat(_colon)) {\n\t\tprop.value = parseExpression(true);\n\t\tkind = prop.kind = \"init\";\n\t  } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n\t\t\t\t (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n\t\tisGetSet = sawGetSet = true;\n\t\tkind = prop.kind = prop.key.name;\n\t\tprop.key = parsePropertyName();\n\t\tif (tokType !== _parenL) unexpected();\n\t\tprop.value = parseFunction(startNode(), false);\n\t  } else unexpected();\n\n\t  if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n\t\tfor (var i = 0; i < node.properties.length; ++i) {\n\t\t  var other = node.properties[i];\n\t\t  if (other.key.name === prop.key.name) {\n\t\t\tvar conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n\t\t\t  kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n\t\t\tif (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n\t\t\tif (conflict) raise(prop.key.start, \"Redefinition of property\");\n\t\t  }\n\t\t}\n\t  }\n\t  node.properties.push(prop);\n\t}\n\treturn finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n\tif (tokType === _num || tokType === _string) return parseExprAtom();\n\treturn parseIdent(true);\n  }\n\n  function parseFunction(node, isStatement) {\n\tif (tokType === _name) node.id = parseIdent();\n\telse if (isStatement) unexpected();\n\telse node.id = null;\n\tnode.params = [];\n\tvar first = true;\n\texpect(_parenL);\n\twhile (!eat(_parenR)) {\n\t  if (!first) expect(_comma); else first = false;\n\t  node.params.push(parseIdent());\n\t}\n\n\tvar oldInFunc = inFunction, oldLabels = labels;\n\tinFunction = true; labels = [];\n\tnode.body = parseBlock(true);\n\tinFunction = oldInFunc; labels = oldLabels;\n\n\tif (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n\t  for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n\t\tvar id = i < 0 ? node.id : node.params[i];\n\t\tif (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n\t\t  raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n\t\tif (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n\t\t  raise(id.start, \"Argument name clash in strict mode\");\n\t  }\n\t}\n\n\treturn finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n\tvar elts = [], first = true;\n\twhile (!eat(close)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n\t  } else first = false;\n\n\t  if (allowEmpty && tokType === _comma) elts.push(null);\n\t  else elts.push(parseExpression(true));\n\t}\n\treturn elts;\n  }\n\n  function parseIdent(liberal) {\n\tvar node = startNode();\n\tif (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\tif (tokType === _name) {\n\t  if (!liberal &&\n\t\t  (options.forbidReserved &&\n\t\t   (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n\t\t   strict && isStrictReservedWord(tokVal)) &&\n\t\t  input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n\t\traise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n\t  node.name = tokVal;\n\t} else if (liberal && tokType.keyword) {\n\t  node.name = tokType.keyword;\n\t} else {\n\t  unexpected();\n\t}\n\ttokRegexpAllowed = false;\n\tnext();\n\treturn finishNode(node, \"Identifier\");\n  }\n\n});\n\n\t\tif (!acorn.version)\n\t\t\tacorn = null;\n\t}\n\n\tfunction parse(code, options) {\n\t\treturn (global.acorn || acorn).parse(code, options);\n\t}\n\n\tvar binaryOperators = {\n\t\t'+': '__add',\n\t\t'-': '__subtract',\n\t\t'*': '__multiply',\n\t\t'/': '__divide',\n\t\t'%': '__modulo',\n\t\t'==': '__equals',\n\t\t'!=': '__equals'\n\t};\n\n\tvar unaryOperators = {\n\t\t'-': '__negate',\n\t\t'+': '__self'\n\t};\n\n\tvar fields = Base.each(\n\t\t['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'],\n\t\tfunction(name) {\n\t\t\tthis['__' + name] = '#' + name;\n\t\t},\n\t\t{\n\t\t\t__self: function() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t);\n\tPoint.inject(fields);\n\tSize.inject(fields);\n\tColor.inject(fields);\n\n\tfunction __$__(left, operator, right) {\n\t\tvar handler = binaryOperators[operator];\n\t\tif (left && left[handler]) {\n\t\t\tvar res = left[handler](right);\n\t\t\treturn operator === '!=' ? !res : res;\n\t\t}\n\t\tswitch (operator) {\n\t\tcase '+': return left + right;\n\t\tcase '-': return left - right;\n\t\tcase '*': return left * right;\n\t\tcase '/': return left / right;\n\t\tcase '%': return left % right;\n\t\tcase '==': return left == right;\n\t\tcase '!=': return left != right;\n\t\t}\n\t}\n\n\tfunction $__(operator, value) {\n\t\tvar handler = unaryOperators[operator];\n\t\tif (value && value[handler])\n\t\t\treturn value[handler]();\n\t\tswitch (operator) {\n\t\tcase '+': return +value;\n\t\tcase '-': return -value;\n\t\t}\n\t}\n\n\tfunction compile(code, options) {\n\t\tif (!code)\n\t\t\treturn '';\n\t\toptions = options || {};\n\n\t\tvar insertions = [];\n\n\t\tfunction getOffset(offset) {\n\t\t\tfor (var i = 0, l = insertions.length; i < l; i++) {\n\t\t\t\tvar insertion = insertions[i];\n\t\t\t\tif (insertion[0] >= offset)\n\t\t\t\t\tbreak;\n\t\t\t\toffset += insertion[1];\n\t\t\t}\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction getCode(node) {\n\t\t\treturn code.substring(getOffset(node.range[0]),\n\t\t\t\t\tgetOffset(node.range[1]));\n\t\t}\n\n\t\tfunction getBetween(left, right) {\n\t\t\treturn code.substring(getOffset(left.range[1]),\n\t\t\t\t\tgetOffset(right.range[0]));\n\t\t}\n\n\t\tfunction replaceCode(node, str) {\n\t\t\tvar start = getOffset(node.range[0]),\n\t\t\t\tend = getOffset(node.range[1]),\n\t\t\t\tinsert = 0;\n\t\t\tfor (var i = insertions.length - 1; i >= 0; i--) {\n\t\t\t\tif (start > insertions[i][0]) {\n\t\t\t\t\tinsert = i + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinsertions.splice(insert, 0, [start, str.length - end + start]);\n\t\t\tcode = code.substring(0, start) + str + code.substring(end);\n\t\t}\n\n\t\tfunction handleOverloading(node, parent) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'UnaryExpression':\n\t\t\t\tif (node.operator in unaryOperators\n\t\t\t\t\t\t&& node.argument.type !== 'Literal') {\n\t\t\t\t\tvar arg = getCode(node.argument);\n\t\t\t\t\treplaceCode(node, '$__(\"' + node.operator + '\", '\n\t\t\t\t\t\t\t+ arg + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'BinaryExpression':\n\t\t\t\tif (node.operator in binaryOperators\n\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\tbetween = getBetween(node.left, node.right),\n\t\t\t\t\t\toperator = node.operator;\n\t\t\t\t\treplaceCode(node, '__$__(' + left + ','\n\t\t\t\t\t\t\t+ between.replace(new RegExp('\\\\' + operator),\n\t\t\t\t\t\t\t\t'\"' + operator + '\"')\n\t\t\t\t\t\t\t+ ', ' + right + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'UpdateExpression':\n\t\t\tcase 'AssignmentExpression':\n\t\t\t\tvar parentType = parent && parent.type;\n\t\t\t\tif (!(\n\t\t\t\t\t\tparentType === 'ForStatement'\n\t\t\t\t\t\t|| parentType === 'BinaryExpression'\n\t\t\t\t\t\t\t&& /^[=!<>]/.test(parent.operator)\n\t\t\t\t\t\t|| parentType === 'MemberExpression' && parent.computed\n\t\t\t\t)) {\n\t\t\t\t\tif (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tvar arg = getCode(node.argument),\n\t\t\t\t\t\t\texp = '__$__(' + arg + ', \"' + node.operator[0]\n\t\t\t\t\t\t\t\t\t+ '\", 1)',\n\t\t\t\t\t\t\tstr = arg + ' = ' + exp;\n\t\t\t\t\t\tif (node.prefix) {\n\t\t\t\t\t\t\tstr = '(' + str + ')';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tparentType === 'AssignmentExpression' ||\n\t\t\t\t\t\t\tparentType === 'VariableDeclarator' ||\n\t\t\t\t\t\t\tparentType === 'BinaryExpression'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (getCode(parent.left || parent.id) === arg)\n\t\t\t\t\t\t\t\tstr = exp;\n\t\t\t\t\t\t\tstr = arg + '; ' + str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplaceCode(node, str);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^.=$/.test(node.operator)\n\t\t\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\t\t\texp = left + ' = __$__(' + left + ', \"'\n\t\t\t\t\t\t\t\t\t+ node.operator[0] + '\", ' + right + ')';\n\t\t\t\t\t\t\treplaceCode(node, /^\\(.*\\)$/.test(getCode(node))\n\t\t\t\t\t\t\t\t\t? '(' + exp + ')' : exp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction handleExports(node) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'ExportDefaultDeclaration':\n\t\t\t\treplaceCode({\n\t\t\t\t\trange: [node.start, node.declaration.start]\n\t\t\t\t}, 'module.exports = ');\n\t\t\t\tbreak;\n\t\t\tcase 'ExportNamedDeclaration':\n\t\t\t\tvar declaration = node.declaration;\n\t\t\t\tvar specifiers = node.specifiers;\n\t\t\t\tif (declaration) {\n\t\t\t\t\tvar declarations = declaration.declarations;\n\t\t\t\t\tif (declarations) {\n\t\t\t\t\t\tdeclarations.forEach(function(dec) {\n\t\t\t\t\t\t\treplaceCode(dec, 'module.exports.' + getCode(dec));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treplaceCode({\n\t\t\t\t\t\t\trange: [\n\t\t\t\t\t\t\t\tnode.start,\n\t\t\t\t\t\t\t\tdeclaration.start + declaration.kind.length\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t}\n\t\t\t\t} else if (specifiers) {\n\t\t\t\t\tvar exports = specifiers.map(function(specifier) {\n\t\t\t\t\t\tvar name = getCode(specifier);\n\t\t\t\t\t\treturn 'module.exports.' + name + ' = ' + name + '; ';\n\t\t\t\t\t}).join('');\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\treplaceCode(node, exports);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction walkAST(node, parent, paperFeatures) {\n\t\t\tif (node) {\n\t\t\t\tfor (var key in node) {\n\t\t\t\t\tif (key !== 'range' && key !== 'loc') {\n\t\t\t\t\t\tvar value = node[key];\n\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (var i = 0, l = value.length; i < l; i++) {\n\t\t\t\t\t\t\t\twalkAST(value[i], node, paperFeatures);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (value && typeof value === 'object') {\n\t\t\t\t\t\t\twalkAST(value, node, paperFeatures);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.operatorOverloading !== false) {\n\t\t\t\t\thandleOverloading(node, parent);\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.moduleExports !== false) {\n\t\t\t\t\thandleExports(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction encodeVLQ(value) {\n\t\t\tvar res = '',\n\t\t\t\tbase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\tvalue = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\t\t\twhile (value || !res) {\n\t\t\t\tvar next = value & (32 - 1);\n\t\t\t\tvalue >>= 5;\n\t\t\t\tif (value)\n\t\t\t\t\tnext |= 32;\n\t\t\t\tres += base64[next];\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tvar url = options.url || '',\n\t\t\tsourceMaps = options.sourceMaps,\n\t\t\tpaperFeatures = options.paperFeatures || {},\n\t\t\tsource = options.source || code,\n\t\t\toffset = options.offset || 0,\n\t\t\tagent = paper.agent,\n\t\t\tversion = agent.versionNumber,\n\t\t\toffsetCode = false,\n\t\t\tlineBreaks = /\\r\\n|\\n|\\r/mg,\n\t\t\tmap;\n\t\tif (sourceMaps && (agent.chrome && version >= 30\n\t\t\t\t|| agent.webkit && version >= 537.76\n\t\t\t\t|| agent.firefox && version >= 23\n\t\t\t\t|| agent.node)) {\n\t\t\tif (agent.node) {\n\t\t\t\toffset -= 2;\n\t\t\t} else if (window && url && !window.location.href.indexOf(url)) {\n\t\t\t\tvar html = document.getElementsByTagName('html')[0].innerHTML;\n\t\t\t\toffset = html.substr(0, html.indexOf(code) + 1).match(\n\t\t\t\t\t\tlineBreaks).length + 1;\n\t\t\t}\n\t\t\toffsetCode = offset > 0 && !(\n\t\t\t\t\tagent.chrome && version >= 36 ||\n\t\t\t\t\tagent.safari && version >= 600 ||\n\t\t\t\t\tagent.firefox && version >= 40 ||\n\t\t\t\t\tagent.node);\n\t\t\tvar mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n\t\t\tmappings.length = (code.match(lineBreaks) || []).length + 1\n\t\t\t\t\t+ (offsetCode ? offset : 0);\n\t\t\tmap = {\n\t\t\t\tversion: 3,\n\t\t\t\tfile: url,\n\t\t\t\tnames:[],\n\t\t\t\tmappings: mappings.join(';AACA'),\n\t\t\t\tsourceRoot: '',\n\t\t\t\tsources: [url],\n\t\t\t\tsourcesContent: [source]\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tpaperFeatures.operatorOverloading !== false ||\n\t\t\tpaperFeatures.moduleExports !== false\n\t\t) {\n\t\t\twalkAST(parse(code, {\n\t\t\t\tranges: true,\n\t\t\t\tpreserveParens: true,\n\t\t\t\tsourceType: 'module'\n\t\t\t}), null, paperFeatures);\n\t\t}\n\t\tif (map) {\n\t\t\tif (offsetCode) {\n\t\t\t\tcode = new Array(offset + 1).join('\\n') + code;\n\t\t\t}\n\t\t\tif (/^(inline|both)$/.test(sourceMaps)) {\n\t\t\t\tcode += \"\\n//# sourceMappingURL=data:application/json;base64,\"\n\t\t\t\t\t\t+ self.btoa(unescape(encodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify(map))));\n\t\t\t}\n\t\t\tcode += \"\\n//# sourceURL=\" + (url || 'paperscript');\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tsource: source,\n\t\t\tcode: code,\n\t\t\tmap: map\n\t\t};\n\t}\n\n\tfunction execute(code, scope, options) {\n\t\tpaper = scope;\n\t\tvar view = scope.getView(),\n\t\t\ttool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/\n\t\t\t\t\t.test(code) && !/\\bnew\\s+Tool\\b/.test(code)\n\t\t\t\t\t\t? new Tool() : null,\n\t\t\ttoolHandlers = tool ? tool._events : [],\n\t\t\thandlers = ['onFrame', 'onResize'].concat(toolHandlers),\n\t\t\tparams = [],\n\t\t\targs = [],\n\t\t\tfunc,\n\t\t\tcompiled = typeof code === 'object' ? code : compile(code, options);\n\t\tcode = compiled.code;\n\t\tfunction expose(scope, hidden) {\n\t\t\tfor (var key in scope) {\n\t\t\t\tif ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)'\n\t\t\t\t\t\t+ key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t\targs.push(scope[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texpose({ __$__: __$__, $__: $__, paper: scope, tool: tool },\n\t\t\t\ttrue);\n\t\texpose(scope);\n\t\tcode = 'var module = { exports: {} }; ' + code;\n\t\tvar exports = Base.each(handlers, function(key) {\n\t\t\tif (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n\t\t\t\tparams.push(key);\n\t\t\t\tthis.push('module.exports.' + key + ' = ' + key + ';');\n\t\t\t}\n\t\t}, []).join('\\n');\n\t\tif (exports) {\n\t\t\tcode += '\\n' + exports;\n\t\t}\n\t\tcode += '\\nreturn module.exports;';\n\t\tvar agent = paper.agent;\n\t\tif (document && (agent.chrome\n\t\t\t\t|| agent.firefox && agent.versionNumber < 40)) {\n\t\t\tvar script = document.createElement('script'),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\t\t\tif (agent.firefox)\n\t\t\t\tcode = '\\n' + code;\n\t\t\tscript.appendChild(document.createTextNode(\n\t\t\t\t'document.__paperscript__ = function(' + params + ') {' +\n\t\t\t\t\tcode +\n\t\t\t\t'\\n}'\n\t\t\t));\n\t\t\thead.appendChild(script);\n\t\t\tfunc = document.__paperscript__;\n\t\t\tdelete document.__paperscript__;\n\t\t\thead.removeChild(script);\n\t\t} else {\n\t\t\tfunc = Function(params, code);\n\t\t}\n\t\tvar exports = func && func.apply(scope, args);\n\t\tvar obj = exports || {};\n\t\tBase.each(toolHandlers, function(key) {\n\t\t\tvar value = obj[key];\n\t\t\tif (value)\n\t\t\t\ttool[key] = value;\n\t\t});\n\t\tif (view) {\n\t\t\tif (obj.onResize)\n\t\t\t\tview.setOnResize(obj.onResize);\n\t\t\tview.emit('resize', {\n\t\t\t\tsize: view.size,\n\t\t\t\tdelta: new Point()\n\t\t\t});\n\t\t\tif (obj.onFrame)\n\t\t\t\tview.setOnFrame(obj.onFrame);\n\t\t\tview.requestUpdate();\n\t\t}\n\t\treturn exports;\n\t}\n\n\tfunction loadScript(script) {\n\t\tif (/^text\\/(?:x-|)paperscript$/.test(script.type)\n\t\t\t\t&& PaperScope.getAttribute(script, 'ignore') !== 'true') {\n\t\t\tvar canvasId = PaperScope.getAttribute(script, 'canvas'),\n\t\t\t\tcanvas = document.getElementById(canvasId),\n\t\t\t\tsrc = script.src || script.getAttribute('data-src'),\n\t\t\t\tasync = PaperScope.hasAttribute(script, 'async'),\n\t\t\t\tscopeAttribute = 'data-paper-scope';\n\t\t\tif (!canvas)\n\t\t\t\tthrow new Error('Unable to find canvas with id \"'\n\t\t\t\t\t\t+ canvasId + '\"');\n\t\t\tvar scope = PaperScope.get(canvas.getAttribute(scopeAttribute))\n\t\t\t\t\t\t|| new PaperScope().setup(canvas);\n\t\t\tcanvas.setAttribute(scopeAttribute, scope._id);\n\t\t\tif (src) {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: src,\n\t\t\t\t\tasync: async,\n\t\t\t\t\tmimeType: 'text/plain',\n\t\t\t\t\tonLoad: function(code) {\n\t\t\t\t\t\texecute(code, scope, src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\texecute(script.innerHTML, scope, script.baseURI);\n\t\t\t}\n\t\t\tscript.setAttribute('data-paper-ignore', 'true');\n\t\t\treturn scope;\n\t\t}\n\t}\n\n\tfunction loadAll() {\n\t\tBase.each(document && document.getElementsByTagName('script'),\n\t\t\t\tloadScript);\n\t}\n\n\tfunction load(script) {\n\t\treturn script ? loadScript(script) : loadAll();\n\t}\n\n\tif (window) {\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(loadAll);\n\t\t} else {\n\t\t\tDomEvent.add(window, { load: loadAll });\n\t\t}\n\t}\n\n\treturn {\n\t\tcompile: compile,\n\t\texecute: execute,\n\t\tload: load,\n\t\tparse: parse,\n\t\tcalculateBinary: __$__,\n\t\tcalculateUnary: $__\n\t};\n\n}.call(this);\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","import { EMPTY_OBJ, isArray, isMap, isIntegerKey, isSymbol, extend, hasOwn, isObject, hasChanged, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nconst targetMap = new WeakMap();\r\nconst effectStack = [];\r\nlet activeEffect;\r\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\r\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\r\nfunction isEffect(fn) {\r\n    return fn && fn._isEffect === true;\r\n}\r\nfunction effect(fn, options = EMPTY_OBJ) {\r\n    if (isEffect(fn)) {\r\n        fn = fn.raw;\r\n    }\r\n    const effect = createReactiveEffect(fn, options);\r\n    if (!options.lazy) {\r\n        effect();\r\n    }\r\n    return effect;\r\n}\r\nfunction stop(effect) {\r\n    if (effect.active) {\r\n        cleanup(effect);\r\n        if (effect.options.onStop) {\r\n            effect.options.onStop();\r\n        }\r\n        effect.active = false;\r\n    }\r\n}\r\nlet uid = 0;\r\nfunction createReactiveEffect(fn, options) {\r\n    const effect = function reactiveEffect() {\r\n        if (!effect.active) {\r\n            return options.scheduler ? undefined : fn();\r\n        }\r\n        if (!effectStack.includes(effect)) {\r\n            cleanup(effect);\r\n            try {\r\n                enableTracking();\r\n                effectStack.push(effect);\r\n                activeEffect = effect;\r\n                return fn();\r\n            }\r\n            finally {\r\n                effectStack.pop();\r\n                resetTracking();\r\n                activeEffect = effectStack[effectStack.length - 1];\r\n            }\r\n        }\r\n    };\r\n    effect.id = uid++;\r\n    effect.allowRecurse = !!options.allowRecurse;\r\n    effect._isEffect = true;\r\n    effect.active = true;\r\n    effect.raw = fn;\r\n    effect.deps = [];\r\n    effect.options = options;\r\n    return effect;\r\n}\r\nfunction cleanup(effect) {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].delete(effect);\r\n        }\r\n        deps.length = 0;\r\n    }\r\n}\r\nlet shouldTrack = true;\r\nconst trackStack = [];\r\nfunction pauseTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = false;\r\n}\r\nfunction enableTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = true;\r\n}\r\nfunction resetTracking() {\r\n    const last = trackStack.pop();\r\n    shouldTrack = last === undefined ? true : last;\r\n}\r\nfunction track(target, type, key) {\r\n    if (!shouldTrack || activeEffect === undefined) {\r\n        return;\r\n    }\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        targetMap.set(target, (depsMap = new Map()));\r\n    }\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n        depsMap.set(key, (dep = new Set()));\r\n    }\r\n    if (!dep.has(activeEffect)) {\r\n        dep.add(activeEffect);\r\n        activeEffect.deps.push(dep);\r\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.options.onTrack) {\r\n            activeEffect.options.onTrack({\r\n                effect: activeEffect,\r\n                target,\r\n                type,\r\n                key\r\n            });\r\n        }\r\n    }\r\n}\r\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        // never been tracked\r\n        return;\r\n    }\r\n    const effects = new Set();\r\n    const add = (effectsToAdd) => {\r\n        if (effectsToAdd) {\r\n            effectsToAdd.forEach(effect => {\r\n                if (effect !== activeEffect || effect.allowRecurse) {\r\n                    effects.add(effect);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    if (type === \"clear\" /* CLEAR */) {\r\n        // collection being cleared\r\n        // trigger all effects for target\r\n        depsMap.forEach(add);\r\n    }\r\n    else if (key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key >= newValue) {\r\n                add(dep);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // schedule runs for SET | ADD | DELETE\r\n        if (key !== void 0) {\r\n            add(depsMap.get(key));\r\n        }\r\n        // also run for iteration key on ADD | DELETE | Map.SET\r\n        switch (type) {\r\n            case \"add\" /* ADD */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                else if (isIntegerKey(key)) {\r\n                    // new index added to array -> length changes\r\n                    add(depsMap.get('length'));\r\n                }\r\n                break;\r\n            case \"delete\" /* DELETE */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                break;\r\n            case \"set\" /* SET */:\r\n                if (isMap(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    const run = (effect) => {\r\n        if ((process.env.NODE_ENV !== 'production') && effect.options.onTrigger) {\r\n            effect.options.onTrigger({\r\n                effect,\r\n                target,\r\n                key,\r\n                type,\r\n                newValue,\r\n                oldValue,\r\n                oldTarget\r\n            });\r\n        }\r\n        if (effect.options.scheduler) {\r\n            effect.options.scheduler(effect);\r\n        }\r\n        else {\r\n            effect();\r\n        }\r\n    };\r\n    effects.forEach(run);\r\n}\n\nconst builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)\r\n    .map(key => Symbol[key])\r\n    .filter(isSymbol));\r\nconst get = /*#__PURE__*/ createGetter();\r\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\r\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\r\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\r\nconst arrayInstrumentations = {};\r\n['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\r\n    const method = Array.prototype[key];\r\n    arrayInstrumentations[key] = function (...args) {\r\n        const arr = toRaw(this);\r\n        for (let i = 0, l = this.length; i < l; i++) {\r\n            track(arr, \"get\" /* GET */, i + '');\r\n        }\r\n        // we run the method using the original args first (which may be reactive)\r\n        const res = method.apply(arr, args);\r\n        if (res === -1 || res === false) {\r\n            // if that didn't work, run it again using raw values.\r\n            return method.apply(arr, args.map(toRaw));\r\n        }\r\n        else {\r\n            return res;\r\n        }\r\n    };\r\n});\r\n['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\r\n    const method = Array.prototype[key];\r\n    arrayInstrumentations[key] = function (...args) {\r\n        pauseTracking();\r\n        const res = method.apply(this, args);\r\n        resetTracking();\r\n        return res;\r\n    };\r\n});\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */ &&\r\n            receiver === (isReadonly ? readonlyMap : reactiveMap).get(target)) {\r\n            return target;\r\n        }\r\n        const targetIsArray = isArray(target);\r\n        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\r\n            return Reflect.get(arrayInstrumentations, key, receiver);\r\n        }\r\n        const res = Reflect.get(target, key, receiver);\r\n        if (isSymbol(key)\r\n            ? builtInSymbols.has(key)\r\n            : key === `__proto__` || key === `__v_isRef`) {\r\n            return res;\r\n        }\r\n        if (!isReadonly) {\r\n            track(target, \"get\" /* GET */, key);\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isRef(res)) {\r\n            // ref unwrapping - does not apply for Array + integer key.\r\n            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);\r\n            return shouldUnwrap ? res.value : res;\r\n        }\r\n        if (isObject(res)) {\r\n            // Convert returned value into a proxy as well. we do the isObject check\r\n            // here to avoid invalid value warning. Also need to lazy access readonly\r\n            // and reactive here to avoid circular dependency.\r\n            return isReadonly ? readonly(res) : reactive(res);\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst set = /*#__PURE__*/ createSetter();\r\nconst shallowSet = /*#__PURE__*/ createSetter(true);\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        const oldValue = target[key];\r\n        if (!shallow) {\r\n            value = toRaw(value);\r\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\r\n                oldValue.value = value;\r\n                return true;\r\n            }\r\n        }\r\n        const hadKey = isArray(target) && isIntegerKey(key)\r\n            ? Number(key) < target.length\r\n            : hasOwn(target, key);\r\n        const result = Reflect.set(target, key, value, receiver);\r\n        // don't trigger if target is something up in the prototype chain of original\r\n        if (target === toRaw(receiver)) {\r\n            if (!hadKey) {\r\n                trigger(target, \"add\" /* ADD */, key, value);\r\n            }\r\n            else if (hasChanged(value, oldValue)) {\r\n                trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\nfunction deleteProperty(target, key) {\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction has(target, key) {\r\n    const result = Reflect.has(target, key);\r\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\r\n        track(target, \"has\" /* HAS */, key);\r\n    }\r\n    return result;\r\n}\r\nfunction ownKeys(target) {\r\n    track(target, \"iterate\" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\r\n    return Reflect.ownKeys(target);\r\n}\r\nconst mutableHandlers = {\r\n    get,\r\n    set,\r\n    deleteProperty,\r\n    has,\r\n    ownKeys\r\n};\r\nconst readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    },\r\n    deleteProperty(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    }\r\n};\r\nconst shallowReactiveHandlers = extend({}, mutableHandlers, {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n});\r\n// Props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nconst shallowReadonlyHandlers = extend({}, readonlyHandlers, {\r\n    get: shallowReadonlyGet\r\n});\n\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\r\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\r\nconst toShallow = (value) => value;\r\nconst getProto = (v) => Reflect.getPrototypeOf(v);\r\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\r\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\r\n    // of the value\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"get\" /* GET */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"get\" /* GET */, rawKey);\r\n    const { has } = getProto(rawTarget);\r\n    const wrap = isReadonly ? toReadonly : isShallow ? toShallow : toReactive;\r\n    if (has.call(rawTarget, key)) {\r\n        return wrap(target.get(key));\r\n    }\r\n    else if (has.call(rawTarget, rawKey)) {\r\n        return wrap(target.get(rawKey));\r\n    }\r\n}\r\nfunction has$1(key, isReadonly = false) {\r\n    const target = this[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"has\" /* HAS */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"has\" /* HAS */, rawKey);\r\n    return key === rawKey\r\n        ? target.has(key)\r\n        : target.has(key) || target.has(rawKey);\r\n}\r\nfunction size(target, isReadonly = false) {\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    !isReadonly && track(toRaw(target), \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n    return Reflect.get(target, 'size', target);\r\n}\r\nfunction add(value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const proto = getProto(target);\r\n    const hadKey = proto.has.call(target, value);\r\n    target.add(value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* ADD */, value, value);\r\n    }\r\n    return this;\r\n}\r\nfunction set$1(key, value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get.call(target, key);\r\n    target.set(key, value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* ADD */, key, value);\r\n    }\r\n    else if (hasChanged(value, oldValue)) {\r\n        trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n    }\r\n    return this;\r\n}\r\nfunction deleteEntry(key) {\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get ? get.call(target, key) : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.delete(key);\r\n    if (hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction clear() {\r\n    const target = toRaw(this);\r\n    const hadItems = target.size !== 0;\r\n    const oldTarget = (process.env.NODE_ENV !== 'production')\r\n        ? isMap(target)\r\n            ? new Map(target)\r\n            : new Set(target)\r\n        : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.clear();\r\n    if (hadItems) {\r\n        trigger(target, \"clear\" /* CLEAR */, undefined, undefined, oldTarget);\r\n    }\r\n    return result;\r\n}\r\nfunction createForEach(isReadonly, isShallow) {\r\n    return function forEach(callback, thisArg) {\r\n        const observed = this;\r\n        const target = observed[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const wrap = isReadonly ? toReadonly : isShallow ? toShallow : toReactive;\r\n        !isReadonly && track(rawTarget, \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n        return target.forEach((value, key) => {\r\n            // important: make sure the callback is\r\n            // 1. invoked with the reactive map as `this` and 3rd arg\r\n            // 2. the value received should be a corresponding reactive/readonly.\r\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\r\n        });\r\n    };\r\n}\r\nfunction createIterableMethod(method, isReadonly, isShallow) {\r\n    return function (...args) {\r\n        const target = this[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const targetIsMap = isMap(rawTarget);\r\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\r\n        const isKeyOnly = method === 'keys' && targetIsMap;\r\n        const innerIterator = target[method](...args);\r\n        const wrap = isReadonly ? toReadonly : isShallow ? toShallow : toReactive;\r\n        !isReadonly &&\r\n            track(rawTarget, \"iterate\" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\r\n        // return a wrapped iterator which returns observed versions of the\r\n        // values emitted from the real iterator\r\n        return {\r\n            // iterator protocol\r\n            next() {\r\n                const { value, done } = innerIterator.next();\r\n                return done\r\n                    ? { value, done }\r\n                    : {\r\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n                        done\r\n                    };\r\n            },\r\n            // iterable protocol\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n}\r\nfunction createReadonlyMethod(type) {\r\n    return function (...args) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\r\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\r\n        }\r\n        return type === \"delete\" /* DELETE */ ? false : this;\r\n    };\r\n}\r\nconst mutableInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key);\r\n    },\r\n    get size() {\r\n        return size(this);\r\n    },\r\n    has: has$1,\r\n    add,\r\n    set: set$1,\r\n    delete: deleteEntry,\r\n    clear,\r\n    forEach: createForEach(false, false)\r\n};\r\nconst shallowInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key, false, true);\r\n    },\r\n    get size() {\r\n        return size(this);\r\n    },\r\n    has: has$1,\r\n    add,\r\n    set: set$1,\r\n    delete: deleteEntry,\r\n    clear,\r\n    forEach: createForEach(false, true)\r\n};\r\nconst readonlyInstrumentations = {\r\n    get(key) {\r\n        return get$1(this, key, true);\r\n    },\r\n    get size() {\r\n        return size(this, true);\r\n    },\r\n    has(key) {\r\n        return has$1.call(this, key, true);\r\n    },\r\n    add: createReadonlyMethod(\"add\" /* ADD */),\r\n    set: createReadonlyMethod(\"set\" /* SET */),\r\n    delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n    clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n    forEach: createForEach(true, false)\r\n};\r\nconst iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\r\niteratorMethods.forEach(method => {\r\n    mutableInstrumentations[method] = createIterableMethod(method, false, false);\r\n    readonlyInstrumentations[method] = createIterableMethod(method, true, false);\r\n    shallowInstrumentations[method] = createIterableMethod(method, false, true);\r\n});\r\nfunction createInstrumentationGetter(isReadonly, shallow) {\r\n    const instrumentations = shallow\r\n        ? shallowInstrumentations\r\n        : isReadonly\r\n            ? readonlyInstrumentations\r\n            : mutableInstrumentations;\r\n    return (target, key, receiver) => {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */) {\r\n            return target;\r\n        }\r\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\r\n            ? instrumentations\r\n            : target, key, receiver);\r\n    };\r\n}\r\nconst mutableCollectionHandlers = {\r\n    get: createInstrumentationGetter(false, false)\r\n};\r\nconst shallowCollectionHandlers = {\r\n    get: createInstrumentationGetter(false, true)\r\n};\r\nconst readonlyCollectionHandlers = {\r\n    get: createInstrumentationGetter(true, false)\r\n};\r\nfunction checkIdentityKeys(target, has, key) {\r\n    const rawKey = toRaw(key);\r\n    if (rawKey !== key && has.call(target, rawKey)) {\r\n        const type = toRawType(target);\r\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\r\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\r\n            `which can lead to inconsistencies. ` +\r\n            `Avoid differentiating between the raw and reactive versions ` +\r\n            `of an object and only use the reactive version if possible.`);\r\n    }\r\n}\n\nconst reactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nfunction targetTypeMap(rawType) {\r\n    switch (rawType) {\r\n        case 'Object':\r\n        case 'Array':\r\n            return 1 /* COMMON */;\r\n        case 'Map':\r\n        case 'Set':\r\n        case 'WeakMap':\r\n        case 'WeakSet':\r\n            return 2 /* COLLECTION */;\r\n        default:\r\n            return 0 /* INVALID */;\r\n    }\r\n}\r\nfunction getTargetType(value) {\r\n    return value[\"__v_skip\" /* SKIP */] || !Object.isExtensible(value)\r\n        ? 0 /* INVALID */\r\n        : targetTypeMap(toRawType(value));\r\n}\r\nfunction reactive(target) {\r\n    // if trying to observe a readonly proxy, return the readonly version.\r\n    if (target && target[\"__v_isReadonly\" /* IS_READONLY */]) {\r\n        return target;\r\n    }\r\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers);\r\n}\r\n/**\r\n * Return a shallowly-reactive copy of the original object, where only the root\r\n * level properties are reactive. It also does not auto-unwrap refs (even at the\r\n * root level).\r\n */\r\nfunction shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers);\r\n}\r\n/**\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers);\r\n}\r\n/**\r\n * Returns a reactive-copy of the original object, where only the root level\r\n * properties are readonly, and does NOT unwrap refs nor recursively convert\r\n * returned properties.\r\n * This is used for creating the props proxy object for stateful components.\r\n */\r\nfunction shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers, readonlyCollectionHandlers);\r\n}\r\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers) {\r\n    if (!isObject(target)) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`value cannot be made reactive: ${String(target)}`);\r\n        }\r\n        return target;\r\n    }\r\n    // target is already a Proxy, return it.\r\n    // exception: calling readonly() on a reactive object\r\n    if (target[\"__v_raw\" /* RAW */] &&\r\n        !(isReadonly && target[\"__v_isReactive\" /* IS_REACTIVE */])) {\r\n        return target;\r\n    }\r\n    // target already has corresponding Proxy\r\n    const proxyMap = isReadonly ? readonlyMap : reactiveMap;\r\n    const existingProxy = proxyMap.get(target);\r\n    if (existingProxy) {\r\n        return existingProxy;\r\n    }\r\n    // only a whitelist of value types can be observed.\r\n    const targetType = getTargetType(target);\r\n    if (targetType === 0 /* INVALID */) {\r\n        return target;\r\n    }\r\n    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\nfunction isReactive(value) {\r\n    if (isReadonly(value)) {\r\n        return isReactive(value[\"__v_raw\" /* RAW */]);\r\n    }\r\n    return !!(value && value[\"__v_isReactive\" /* IS_REACTIVE */]);\r\n}\r\nfunction isReadonly(value) {\r\n    return !!(value && value[\"__v_isReadonly\" /* IS_READONLY */]);\r\n}\r\nfunction isProxy(value) {\r\n    return isReactive(value) || isReadonly(value);\r\n}\r\nfunction toRaw(observed) {\r\n    return ((observed && toRaw(observed[\"__v_raw\" /* RAW */])) || observed);\r\n}\r\nfunction markRaw(value) {\r\n    def(value, \"__v_skip\" /* SKIP */, true);\r\n    return value;\r\n}\n\nconst convert = (val) => isObject(val) ? reactive(val) : val;\r\nfunction isRef(r) {\r\n    return Boolean(r && r.__v_isRef === true);\r\n}\r\nfunction ref(value) {\r\n    return createRef(value);\r\n}\r\nfunction shallowRef(value) {\r\n    return createRef(value, true);\r\n}\r\nclass RefImpl {\r\n    constructor(_rawValue, _shallow = false) {\r\n        this._rawValue = _rawValue;\r\n        this._shallow = _shallow;\r\n        this.__v_isRef = true;\r\n        this._value = _shallow ? _rawValue : convert(_rawValue);\r\n    }\r\n    get value() {\r\n        track(toRaw(this), \"get\" /* GET */, 'value');\r\n        return this._value;\r\n    }\r\n    set value(newVal) {\r\n        if (hasChanged(toRaw(newVal), this._rawValue)) {\r\n            this._rawValue = newVal;\r\n            this._value = this._shallow ? newVal : convert(newVal);\r\n            trigger(toRaw(this), \"set\" /* SET */, 'value', newVal);\r\n        }\r\n    }\r\n}\r\nfunction createRef(rawValue, shallow = false) {\r\n    if (isRef(rawValue)) {\r\n        return rawValue;\r\n    }\r\n    return new RefImpl(rawValue, shallow);\r\n}\r\nfunction triggerRef(ref) {\r\n    trigger(toRaw(ref), \"set\" /* SET */, 'value', (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nconst shallowUnwrapHandlers = {\r\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\r\n    set: (target, key, value, receiver) => {\r\n        const oldValue = target[key];\r\n        if (isRef(oldValue) && !isRef(value)) {\r\n            oldValue.value = value;\r\n            return true;\r\n        }\r\n        else {\r\n            return Reflect.set(target, key, value, receiver);\r\n        }\r\n    }\r\n};\r\nfunction proxyRefs(objectWithRefs) {\r\n    return isReactive(objectWithRefs)\r\n        ? objectWithRefs\r\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\r\n}\r\nclass CustomRefImpl {\r\n    constructor(factory) {\r\n        this.__v_isRef = true;\r\n        const { get, set } = factory(() => track(this, \"get\" /* GET */, 'value'), () => trigger(this, \"set\" /* SET */, 'value'));\r\n        this._get = get;\r\n        this._set = set;\r\n    }\r\n    get value() {\r\n        return this._get();\r\n    }\r\n    set value(newVal) {\r\n        this._set(newVal);\r\n    }\r\n}\r\nfunction customRef(factory) {\r\n    return new CustomRefImpl(factory);\r\n}\r\nfunction toRefs(object) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\r\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\r\n    }\r\n    const ret = isArray(object) ? new Array(object.length) : {};\r\n    for (const key in object) {\r\n        ret[key] = toRef(object, key);\r\n    }\r\n    return ret;\r\n}\r\nclass ObjectRefImpl {\r\n    constructor(_object, _key) {\r\n        this._object = _object;\r\n        this._key = _key;\r\n        this.__v_isRef = true;\r\n    }\r\n    get value() {\r\n        return this._object[this._key];\r\n    }\r\n    set value(newVal) {\r\n        this._object[this._key] = newVal;\r\n    }\r\n}\r\nfunction toRef(object, key) {\r\n    return isRef(object[key])\r\n        ? object[key]\r\n        : new ObjectRefImpl(object, key);\r\n}\n\nclass ComputedRefImpl {\r\n    constructor(getter, _setter, isReadonly) {\r\n        this._setter = _setter;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this.effect = effect(getter, {\r\n            lazy: true,\r\n            scheduler: () => {\r\n                if (!this._dirty) {\r\n                    this._dirty = true;\r\n                    trigger(toRaw(this), \"set\" /* SET */, 'value');\r\n                }\r\n            }\r\n        });\r\n        this[\"__v_isReadonly\" /* IS_READONLY */] = isReadonly;\r\n    }\r\n    get value() {\r\n        if (this._dirty) {\r\n            this._value = this.effect();\r\n            this._dirty = false;\r\n        }\r\n        track(toRaw(this), \"get\" /* GET */, 'value');\r\n        return this._value;\r\n    }\r\n    set value(newValue) {\r\n        this._setter(newValue);\r\n    }\r\n}\r\nfunction computed(getterOrOptions) {\r\n    let getter;\r\n    let setter;\r\n    if (isFunction(getterOrOptions)) {\r\n        getter = getterOrOptions;\r\n        setter = (process.env.NODE_ENV !== 'production')\r\n            ? () => {\r\n                console.warn('Write operation failed: computed value is readonly');\r\n            }\r\n            : NOOP;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);\r\n}\n\nexport { ITERATE_KEY, computed, customRef, effect, enableTracking, isProxy, isReactive, isReadonly, isRef, markRaw, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, shallowReactive, trigger, isReactive, effect, stop, ref, isProxy, proxyRefs, toRef, reactive, shallowReadonly, track, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { customRef, isProxy, isReactive, isReadonly, isRef, markRaw, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, toRaw, toRef, toRefs, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, extend, EMPTY_OBJ, toHandlerKey, toNumber, hyphenate, camelize, isOn, hasOwn, isModelListener, def, isReservedProp, EMPTY_ARR, isObject, capitalize, toRawType, makeMap, remove, NOOP, hasChanged, isSet, isMap, invokeArrayFns, NO, getGlobalThis, normalizeClass, normalizeStyle, isGloballyWhitelisted } from '@vue/shared';\nexport { camelize, capitalize, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\r\nfunction pushWarningContext(vnode) {\r\n    stack.push(vnode);\r\n}\r\nfunction popWarningContext() {\r\n    stack.pop();\r\n}\r\nfunction warn(msg, ...args) {\r\n    // avoid props formatting or warn handler tracking deps that might be mutated\r\n    // during patch, leading to infinite recursion.\r\n    pauseTracking();\r\n    const instance = stack.length ? stack[stack.length - 1].component : null;\r\n    const appWarnHandler = instance && instance.appContext.config.warnHandler;\r\n    const trace = getComponentTrace();\r\n    if (appWarnHandler) {\r\n        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [\r\n            msg + args.join(''),\r\n            instance && instance.proxy,\r\n            trace\r\n                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)\r\n                .join('\\n'),\r\n            trace\r\n        ]);\r\n    }\r\n    else {\r\n        const warnArgs = [`[Vue warn]: ${msg}`, ...args];\r\n        /* istanbul ignore if */\r\n        if (trace.length &&\r\n            // avoid spamming console during tests\r\n            !false) {\r\n            warnArgs.push(`\\n`, ...formatTrace(trace));\r\n        }\r\n        console.warn(...warnArgs);\r\n    }\r\n    resetTracking();\r\n}\r\nfunction getComponentTrace() {\r\n    let currentVNode = stack[stack.length - 1];\r\n    if (!currentVNode) {\r\n        return [];\r\n    }\r\n    // we can't just use the stack because it will be incomplete during updates\r\n    // that did not start from the root. Re-construct the parent chain using\r\n    // instance parent pointers.\r\n    const normalizedStack = [];\r\n    while (currentVNode) {\r\n        const last = normalizedStack[0];\r\n        if (last && last.vnode === currentVNode) {\r\n            last.recurseCount++;\r\n        }\r\n        else {\r\n            normalizedStack.push({\r\n                vnode: currentVNode,\r\n                recurseCount: 0\r\n            });\r\n        }\r\n        const parentInstance = currentVNode.component && currentVNode.component.parent;\r\n        currentVNode = parentInstance && parentInstance.vnode;\r\n    }\r\n    return normalizedStack;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatTrace(trace) {\r\n    const logs = [];\r\n    trace.forEach((entry, i) => {\r\n        logs.push(...(i === 0 ? [] : [`\\n`]), ...formatTraceEntry(entry));\r\n    });\r\n    return logs;\r\n}\r\nfunction formatTraceEntry({ vnode, recurseCount }) {\r\n    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\r\n    const isRoot = vnode.component ? vnode.component.parent == null : false;\r\n    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;\r\n    const close = `>` + postfix;\r\n    return vnode.props\r\n        ? [open, ...formatProps(vnode.props), close]\r\n        : [open + close];\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProps(props) {\r\n    const res = [];\r\n    const keys = Object.keys(props);\r\n    keys.slice(0, 3).forEach(key => {\r\n        res.push(...formatProp(key, props[key]));\r\n    });\r\n    if (keys.length > 3) {\r\n        res.push(` ...`);\r\n    }\r\n    return res;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProp(key, value, raw) {\r\n    if (isString(value)) {\r\n        value = JSON.stringify(value);\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (typeof value === 'number' ||\r\n        typeof value === 'boolean' ||\r\n        value == null) {\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (isRef(value)) {\r\n        value = formatProp(key, toRaw(value.value), true);\r\n        return raw ? value : [`${key}=Ref<`, value, `>`];\r\n    }\r\n    else if (isFunction(value)) {\r\n        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\r\n    }\r\n    else {\r\n        value = toRaw(value);\r\n        return raw ? value : [`${key}=`, value];\r\n    }\r\n}\n\nconst ErrorTypeStrings = {\r\n    [\"bc\" /* BEFORE_CREATE */]: 'beforeCreate hook',\r\n    [\"c\" /* CREATED */]: 'created hook',\r\n    [\"bm\" /* BEFORE_MOUNT */]: 'beforeMount hook',\r\n    [\"m\" /* MOUNTED */]: 'mounted hook',\r\n    [\"bu\" /* BEFORE_UPDATE */]: 'beforeUpdate hook',\r\n    [\"u\" /* UPDATED */]: 'updated',\r\n    [\"bum\" /* BEFORE_UNMOUNT */]: 'beforeUnmount hook',\r\n    [\"um\" /* UNMOUNTED */]: 'unmounted hook',\r\n    [\"a\" /* ACTIVATED */]: 'activated hook',\r\n    [\"da\" /* DEACTIVATED */]: 'deactivated hook',\r\n    [\"ec\" /* ERROR_CAPTURED */]: 'errorCaptured hook',\r\n    [\"rtc\" /* RENDER_TRACKED */]: 'renderTracked hook',\r\n    [\"rtg\" /* RENDER_TRIGGERED */]: 'renderTriggered hook',\r\n    [0 /* SETUP_FUNCTION */]: 'setup function',\r\n    [1 /* RENDER_FUNCTION */]: 'render function',\r\n    [2 /* WATCH_GETTER */]: 'watcher getter',\r\n    [3 /* WATCH_CALLBACK */]: 'watcher callback',\r\n    [4 /* WATCH_CLEANUP */]: 'watcher cleanup function',\r\n    [5 /* NATIVE_EVENT_HANDLER */]: 'native event handler',\r\n    [6 /* COMPONENT_EVENT_HANDLER */]: 'component event handler',\r\n    [7 /* VNODE_HOOK */]: 'vnode hook',\r\n    [8 /* DIRECTIVE_HOOK */]: 'directive hook',\r\n    [9 /* TRANSITION_HOOK */]: 'transition hook',\r\n    [10 /* APP_ERROR_HANDLER */]: 'app errorHandler',\r\n    [11 /* APP_WARN_HANDLER */]: 'app warnHandler',\r\n    [12 /* FUNCTION_REF */]: 'ref function',\r\n    [13 /* ASYNC_COMPONENT_LOADER */]: 'async component loader',\r\n    [14 /* SCHEDULER */]: 'scheduler flush. This is likely a Vue internals bug. ' +\r\n        'Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next'\r\n};\r\nfunction callWithErrorHandling(fn, instance, type, args) {\r\n    let res;\r\n    try {\r\n        res = args ? fn(...args) : fn();\r\n    }\r\n    catch (err) {\r\n        handleError(err, instance, type);\r\n    }\r\n    return res;\r\n}\r\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\r\n    if (isFunction(fn)) {\r\n        const res = callWithErrorHandling(fn, instance, type, args);\r\n        if (res && isPromise(res)) {\r\n            res.catch(err => {\r\n                handleError(err, instance, type);\r\n            });\r\n        }\r\n        return res;\r\n    }\r\n    const values = [];\r\n    for (let i = 0; i < fn.length; i++) {\r\n        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\r\n    }\r\n    return values;\r\n}\r\nfunction handleError(err, instance, type, throwInDev = true) {\r\n    const contextVNode = instance ? instance.vnode : null;\r\n    if (instance) {\r\n        let cur = instance.parent;\r\n        // the exposed instance is the render proxy to keep it consistent with 2.x\r\n        const exposedInstance = instance.proxy;\r\n        // in production the hook receives only the error code\r\n        const errorInfo = (process.env.NODE_ENV !== 'production') ? ErrorTypeStrings[type] : type;\r\n        while (cur) {\r\n            const errorCapturedHooks = cur.ec;\r\n            if (errorCapturedHooks) {\r\n                for (let i = 0; i < errorCapturedHooks.length; i++) {\r\n                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            cur = cur.parent;\r\n        }\r\n        // app-level handling\r\n        const appErrorHandler = instance.appContext.config.errorHandler;\r\n        if (appErrorHandler) {\r\n            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);\r\n            return;\r\n        }\r\n    }\r\n    logError(err, type, contextVNode, throwInDev);\r\n}\r\nfunction logError(err, type, contextVNode, throwInDev = true) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const info = ErrorTypeStrings[type];\r\n        if (contextVNode) {\r\n            pushWarningContext(contextVNode);\r\n        }\r\n        warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\r\n        if (contextVNode) {\r\n            popWarningContext();\r\n        }\r\n        // crash in dev by default so it's more noticeable\r\n        if (throwInDev) {\r\n            throw err;\r\n        }\r\n        else {\r\n            console.error(err);\r\n        }\r\n    }\r\n    else {\r\n        // recover in prod to reduce the impact on end-user\r\n        console.error(err);\r\n    }\r\n}\n\nlet isFlushing = false;\r\nlet isFlushPending = false;\r\nconst queue = [];\r\nlet flushIndex = 0;\r\nconst pendingPreFlushCbs = [];\r\nlet activePreFlushCbs = null;\r\nlet preFlushIndex = 0;\r\nconst pendingPostFlushCbs = [];\r\nlet activePostFlushCbs = null;\r\nlet postFlushIndex = 0;\r\nconst resolvedPromise = Promise.resolve();\r\nlet currentFlushPromise = null;\r\nlet currentPreFlushParentJob = null;\r\nconst RECURSION_LIMIT = 100;\r\nfunction nextTick(fn) {\r\n    const p = currentFlushPromise || resolvedPromise;\r\n    return fn ? p.then(this ? fn.bind(this) : fn) : p;\r\n}\r\nfunction queueJob(job) {\r\n    // the dedupe search uses the startIndex argument of Array.includes()\r\n    // by default the search index includes the current job that is being run\r\n    // so it cannot recursively trigger itself again.\r\n    // if the job is a watch() callback, the search will start with a +1 index to\r\n    // allow it recursively trigger itself - it is the user's responsibility to\r\n    // ensure it doesn't end up in an infinite loop.\r\n    if ((!queue.length ||\r\n        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&\r\n        job !== currentPreFlushParentJob) {\r\n        queue.push(job);\r\n        queueFlush();\r\n    }\r\n}\r\nfunction queueFlush() {\r\n    if (!isFlushing && !isFlushPending) {\r\n        isFlushPending = true;\r\n        currentFlushPromise = resolvedPromise.then(flushJobs);\r\n    }\r\n}\r\nfunction invalidateJob(job) {\r\n    const i = queue.indexOf(job);\r\n    if (i > -1) {\r\n        queue.splice(i, 1);\r\n    }\r\n}\r\nfunction queueCb(cb, activeQueue, pendingQueue, index) {\r\n    if (!isArray(cb)) {\r\n        if (!activeQueue ||\r\n            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {\r\n            pendingQueue.push(cb);\r\n        }\r\n    }\r\n    else {\r\n        // if cb is an array, it is a component lifecycle hook which can only be\r\n        // triggered by a job, which is already deduped in the main queue, so\r\n        // we can skip duplicate check here to improve perf\r\n        pendingQueue.push(...cb);\r\n    }\r\n    queueFlush();\r\n}\r\nfunction queuePreFlushCb(cb) {\r\n    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);\r\n}\r\nfunction queuePostFlushCb(cb) {\r\n    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);\r\n}\r\nfunction flushPreFlushCbs(seen, parentJob = null) {\r\n    if (pendingPreFlushCbs.length) {\r\n        currentPreFlushParentJob = parentJob;\r\n        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];\r\n        pendingPreFlushCbs.length = 0;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkRecursiveUpdates(seen, activePreFlushCbs[preFlushIndex]);\r\n            }\r\n            activePreFlushCbs[preFlushIndex]();\r\n        }\r\n        activePreFlushCbs = null;\r\n        preFlushIndex = 0;\r\n        currentPreFlushParentJob = null;\r\n        // recursively flush until it drains\r\n        flushPreFlushCbs(seen, parentJob);\r\n    }\r\n}\r\nfunction flushPostFlushCbs(seen) {\r\n    if (pendingPostFlushCbs.length) {\r\n        const deduped = [...new Set(pendingPostFlushCbs)];\r\n        pendingPostFlushCbs.length = 0;\r\n        // #1947 already has active queue, nested flushPostFlushCbs call\r\n        if (activePostFlushCbs) {\r\n            activePostFlushCbs.push(...deduped);\r\n            return;\r\n        }\r\n        activePostFlushCbs = deduped;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\r\n        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex]);\r\n            }\r\n            activePostFlushCbs[postFlushIndex]();\r\n        }\r\n        activePostFlushCbs = null;\r\n        postFlushIndex = 0;\r\n    }\r\n}\r\nconst getId = (job) => job.id == null ? Infinity : job.id;\r\nfunction flushJobs(seen) {\r\n    isFlushPending = false;\r\n    isFlushing = true;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        seen = seen || new Map();\r\n    }\r\n    flushPreFlushCbs(seen);\r\n    // Sort queue before flush.\r\n    // This ensures that:\r\n    // 1. Components are updated from parent to child. (because parent is always\r\n    //    created before the child so its render effect will have smaller\r\n    //    priority number)\r\n    // 2. If a component is unmounted during a parent component's update,\r\n    //    its update can be skipped.\r\n    queue.sort((a, b) => getId(a) - getId(b));\r\n    try {\r\n        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\r\n            const job = queue[flushIndex];\r\n            if (job) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkRecursiveUpdates(seen, job);\r\n                }\r\n                callWithErrorHandling(job, null, 14 /* SCHEDULER */);\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        flushIndex = 0;\r\n        queue.length = 0;\r\n        flushPostFlushCbs(seen);\r\n        isFlushing = false;\r\n        currentFlushPromise = null;\r\n        // some postFlushCb queued jobs!\r\n        // keep flushing until it drains.\r\n        if (queue.length || pendingPostFlushCbs.length) {\r\n            flushJobs(seen);\r\n        }\r\n    }\r\n}\r\nfunction checkRecursiveUpdates(seen, fn) {\r\n    if (!seen.has(fn)) {\r\n        seen.set(fn, 1);\r\n    }\r\n    else {\r\n        const count = seen.get(fn);\r\n        if (count > RECURSION_LIMIT) {\r\n            throw new Error(`Maximum recursive updates exceeded. ` +\r\n                `This means you have a reactive effect that is mutating its own ` +\r\n                `dependencies and thus recursively triggering itself. Possible sources ` +\r\n                `include component template, render function, updated hook or ` +\r\n                `watcher source function.`);\r\n        }\r\n        else {\r\n            seen.set(fn, count + 1);\r\n        }\r\n    }\r\n}\n\n/* eslint-disable no-restricted-globals */\r\nlet isHmrUpdating = false;\r\nconst hmrDirtyComponents = new Set();\r\n// Expose the HMR runtime on the global object\r\n// This makes it entirely tree-shakable without polluting the exports and makes\r\n// it easier to be used in toolings like vue-loader\r\n// Note: for a component to be eligible for HMR it also needs the __hmrId option\r\n// to be set so that its instances can be registered / removed.\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    const globalObject = typeof global !== 'undefined'\r\n        ? global\r\n        : typeof self !== 'undefined'\r\n            ? self\r\n            : typeof window !== 'undefined'\r\n                ? window\r\n                : {};\r\n    globalObject.__VUE_HMR_RUNTIME__ = {\r\n        createRecord: tryWrap(createRecord),\r\n        rerender: tryWrap(rerender),\r\n        reload: tryWrap(reload)\r\n    };\r\n}\r\nconst map = new Map();\r\nfunction registerHMR(instance) {\r\n    const id = instance.type.__hmrId;\r\n    let record = map.get(id);\r\n    if (!record) {\r\n        createRecord(id, instance.type);\r\n        record = map.get(id);\r\n    }\r\n    record.instances.add(instance);\r\n}\r\nfunction unregisterHMR(instance) {\r\n    map.get(instance.type.__hmrId).instances.delete(instance);\r\n}\r\nfunction createRecord(id, component) {\r\n    if (!component) {\r\n        warn(`HMR API usage is out of date.\\n` +\r\n            `Please upgrade vue-loader/vite/rollup-plugin-vue or other relevant ` +\r\n            `depdendency that handles Vue SFC compilation.`);\r\n        component = {};\r\n    }\r\n    if (map.has(id)) {\r\n        return false;\r\n    }\r\n    map.set(id, {\r\n        component: isClassComponent(component) ? component.__vccOpts : component,\r\n        instances: new Set()\r\n    });\r\n    return true;\r\n}\r\nfunction rerender(id, newRender) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    if (newRender)\r\n        record.component.render = newRender;\r\n    // Array.from creates a snapshot which avoids the set being mutated during\r\n    // updates\r\n    Array.from(record.instances).forEach(instance => {\r\n        if (newRender) {\r\n            instance.render = newRender;\r\n        }\r\n        instance.renderCache = [];\r\n        // this flag forces child components with slot content to update\r\n        isHmrUpdating = true;\r\n        instance.update();\r\n        isHmrUpdating = false;\r\n    });\r\n}\r\nfunction reload(id, newComp) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    // Array.from creates a snapshot which avoids the set being mutated during\r\n    // updates\r\n    const { component, instances } = record;\r\n    if (!hmrDirtyComponents.has(component)) {\r\n        // 1. Update existing comp definition to match new one\r\n        newComp = isClassComponent(newComp) ? newComp.__vccOpts : newComp;\r\n        extend(component, newComp);\r\n        for (const key in component) {\r\n            if (!(key in newComp)) {\r\n                delete component[key];\r\n            }\r\n        }\r\n        // 2. Mark component dirty. This forces the renderer to replace the component\r\n        // on patch.\r\n        hmrDirtyComponents.add(component);\r\n        // 3. Make sure to unmark the component after the reload.\r\n        queuePostFlushCb(() => {\r\n            hmrDirtyComponents.delete(component);\r\n        });\r\n    }\r\n    Array.from(instances).forEach(instance => {\r\n        if (instance.parent) {\r\n            // 4. Force the parent instance to re-render. This will cause all updated\r\n            // components to be unmounted and re-mounted. Queue the update so that we\r\n            // don't end up forcing the same parent to re-render multiple times.\r\n            queueJob(instance.parent.update);\r\n        }\r\n        else if (instance.appContext.reload) {\r\n            // root instance mounted via createApp() has a reload method\r\n            instance.appContext.reload();\r\n        }\r\n        else if (typeof window !== 'undefined') {\r\n            // root instance inside tree created via raw render(). Force reload.\r\n            window.location.reload();\r\n        }\r\n        else {\r\n            console.warn('[HMR] Root or manually mounted instance modified. Full reload required.');\r\n        }\r\n    });\r\n}\r\nfunction tryWrap(fn) {\r\n    return (id, arg) => {\r\n        try {\r\n            return fn(id, arg);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            console.warn(`[HMR] Something went wrong during Vue component hot-reload. ` +\r\n                `Full reload required.`);\r\n        }\r\n    };\r\n}\n\nlet devtools;\r\nfunction setDevtoolsHook(hook) {\r\n    devtools = hook;\r\n}\r\nfunction devtoolsInitApp(app, version) {\r\n    // TODO queue if devtools is undefined\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"app:init\" /* APP_INIT */, app, version, {\r\n        Fragment,\r\n        Text,\r\n        Comment,\r\n        Static\r\n    });\r\n}\r\nfunction devtoolsUnmountApp(app) {\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"app:unmount\" /* APP_UNMOUNT */, app);\r\n}\r\nconst devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\r\nconst devtoolsComponentUpdated = /*#__PURE__*/ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\r\nconst devtoolsComponentRemoved = /*#__PURE__*/ createDevtoolsComponentHook(\"component:removed\" /* COMPONENT_REMOVED */);\r\nfunction createDevtoolsComponentHook(hook) {\r\n    return (component) => {\r\n        if (!devtools)\r\n            return;\r\n        devtools.emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined);\r\n    };\r\n}\r\nfunction devtoolsComponentEmit(component, event, params) {\r\n    if (!devtools)\r\n        return;\r\n    devtools.emit(\"component:emit\" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);\r\n}\n\nfunction emit(instance, event, ...rawArgs) {\r\n    const props = instance.vnode.props || EMPTY_OBJ;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const { emitsOptions, propsOptions: [propsOptions] } = instance;\r\n        if (emitsOptions) {\r\n            if (!(event in emitsOptions)) {\r\n                if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\r\n                    warn(`Component emitted event \"${event}\" but it is neither declared in ` +\r\n                        `the emits option nor as an \"${toHandlerKey(event)}\" prop.`);\r\n                }\r\n            }\r\n            else {\r\n                const validator = emitsOptions[event];\r\n                if (isFunction(validator)) {\r\n                    const isValid = validator(...rawArgs);\r\n                    if (!isValid) {\r\n                        warn(`Invalid event arguments: event validation failed for event \"${event}\".`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let args = rawArgs;\r\n    const isModelListener = event.startsWith('update:');\r\n    // for v-model update:xxx events, apply modifiers on args\r\n    const modelArg = isModelListener && event.slice(7);\r\n    if (modelArg && modelArg in props) {\r\n        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;\r\n        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\r\n        if (trim) {\r\n            args = rawArgs.map(a => a.trim());\r\n        }\r\n        else if (number) {\r\n            args = rawArgs.map(toNumber);\r\n        }\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsComponentEmit(instance, event, args);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const lowerCaseEvent = event.toLowerCase();\r\n        if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\r\n            warn(`Event \"${lowerCaseEvent}\" is emitted in component ` +\r\n                `${formatComponentName(instance, instance.type)} but the handler is registered for \"${event}\". ` +\r\n                `Note that HTML attributes are case-insensitive and you cannot use ` +\r\n                `v-on to listen to camelCase events when using in-DOM templates. ` +\r\n                `You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`);\r\n        }\r\n    }\r\n    // convert handler name to camelCase. See issue #2249\r\n    let handlerName = toHandlerKey(camelize(event));\r\n    let handler = props[handlerName];\r\n    // for v-model update:xxx events, also trigger kebab-case equivalent\r\n    // for props passed via kebab-case\r\n    if (!handler && isModelListener) {\r\n        handlerName = toHandlerKey(hyphenate(event));\r\n        handler = props[handlerName];\r\n    }\r\n    if (handler) {\r\n        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n    const onceHandler = props[handlerName + `Once`];\r\n    if (onceHandler) {\r\n        if (!instance.emitted) {\r\n            (instance.emitted = {})[handlerName] = true;\r\n        }\r\n        else if (instance.emitted[handlerName]) {\r\n            return;\r\n        }\r\n        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n}\r\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\r\n    if (!appContext.deopt && comp.__emits !== undefined) {\r\n        return comp.__emits;\r\n    }\r\n    const raw = comp.emits;\r\n    let normalized = {};\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendEmits = (raw) => {\r\n            hasExtends = true;\r\n            extend(normalized, normalizeEmitsOptions(raw, appContext, true));\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendEmits);\r\n        }\r\n        if (comp.extends) {\r\n            extendEmits(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendEmits);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        return (comp.__emits = null);\r\n    }\r\n    if (isArray(raw)) {\r\n        raw.forEach(key => (normalized[key] = null));\r\n    }\r\n    else {\r\n        extend(normalized, raw);\r\n    }\r\n    return (comp.__emits = normalized);\r\n}\r\n// Check if an incoming prop key is a declared emit event listener.\r\n// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are\r\n// both considered matched listeners.\r\nfunction isEmitListener(options, key) {\r\n    if (!options || !isOn(key)) {\r\n        return false;\r\n    }\r\n    key = key.slice(2).replace(/Once$/, '');\r\n    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||\r\n        hasOwn(options, hyphenate(key)) ||\r\n        hasOwn(options, key));\r\n}\n\n/**\r\n * mark the current rendering instance for asset resolution (e.g.\r\n * resolveComponent, resolveDirective) during render\r\n */\r\nlet currentRenderingInstance = null;\r\nfunction setCurrentRenderingInstance(instance) {\r\n    currentRenderingInstance = instance;\r\n}\r\n/**\r\n * dev only flag to track whether $attrs was used during render.\r\n * If $attrs was used during render then the warning for failed attrs\r\n * fallthrough can be suppressed.\r\n */\r\nlet accessedAttrs = false;\r\nfunction markAttrsAccessed() {\r\n    accessedAttrs = true;\r\n}\r\nfunction renderComponentRoot(instance) {\r\n    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx } = instance;\r\n    let result;\r\n    currentRenderingInstance = instance;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        accessedAttrs = false;\r\n    }\r\n    try {\r\n        let fallthroughAttrs;\r\n        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {\r\n            // withProxy is a proxy with a different `has` trap only for\r\n            // runtime-compiled render functions using `with` block.\r\n            const proxyToUse = withProxy || proxy;\r\n            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));\r\n            fallthroughAttrs = attrs;\r\n        }\r\n        else {\r\n            // functional\r\n            const render = Component;\r\n            // in dev, mark attrs accessed if optional props (attrs === props)\r\n            if ((process.env.NODE_ENV !== 'production') && attrs === props) {\r\n                markAttrsAccessed();\r\n            }\r\n            result = normalizeVNode(render.length > 1\r\n                ? render(props, (process.env.NODE_ENV !== 'production')\r\n                    ? {\r\n                        get attrs() {\r\n                            markAttrsAccessed();\r\n                            return attrs;\r\n                        },\r\n                        slots,\r\n                        emit\r\n                    }\r\n                    : { attrs, slots, emit })\r\n                : render(props, null /* we know it doesn't need it */));\r\n            fallthroughAttrs = Component.props\r\n                ? attrs\r\n                : getFunctionalFallthrough(attrs);\r\n        }\r\n        // attr merging\r\n        // in dev mode, comments are preserved, and it's possible for a template\r\n        // to have comments along side the root element which makes it a fragment\r\n        let root = result;\r\n        let setRoot = undefined;\r\n        if ((process.env.NODE_ENV !== 'production') && result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) {\r\n            ;\r\n            [root, setRoot] = getChildRoot(result);\r\n        }\r\n        if (Component.inheritAttrs !== false && fallthroughAttrs) {\r\n            const keys = Object.keys(fallthroughAttrs);\r\n            const { shapeFlag } = root;\r\n            if (keys.length) {\r\n                if (shapeFlag & 1 /* ELEMENT */ ||\r\n                    shapeFlag & 6 /* COMPONENT */) {\r\n                    if (propsOptions && keys.some(isModelListener)) {\r\n                        // If a v-model listener (onUpdate:xxx) has a corresponding declared\r\n                        // prop, it indicates this component expects to handle v-model and\r\n                        // it should not fallthrough.\r\n                        // related: #1543, #1643, #1989\r\n                        fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);\r\n                    }\r\n                    root = cloneVNode(root, fallthroughAttrs);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production') && !accessedAttrs && root.type !== Comment) {\r\n                    const allAttrs = Object.keys(attrs);\r\n                    const eventAttrs = [];\r\n                    const extraAttrs = [];\r\n                    for (let i = 0, l = allAttrs.length; i < l; i++) {\r\n                        const key = allAttrs[i];\r\n                        if (isOn(key)) {\r\n                            // ignore v-model handlers when they fail to fallthrough\r\n                            if (!isModelListener(key)) {\r\n                                // remove `on`, lowercase first letter to reflect event casing\r\n                                // accurately\r\n                                eventAttrs.push(key[2].toLowerCase() + key.slice(3));\r\n                            }\r\n                        }\r\n                        else {\r\n                            extraAttrs.push(key);\r\n                        }\r\n                    }\r\n                    if (extraAttrs.length) {\r\n                        warn(`Extraneous non-props attributes (` +\r\n                            `${extraAttrs.join(', ')}) ` +\r\n                            `were passed to component but could not be automatically inherited ` +\r\n                            `because component renders fragment or text root nodes.`);\r\n                    }\r\n                    if (eventAttrs.length) {\r\n                        warn(`Extraneous non-emits event listeners (` +\r\n                            `${eventAttrs.join(', ')}) ` +\r\n                            `were passed to component but could not be automatically inherited ` +\r\n                            `because component renders fragment or text root nodes. ` +\r\n                            `If the listener is intended to be a component custom event listener only, ` +\r\n                            `declare it using the \"emits\" option.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inherit directives\r\n        if (vnode.dirs) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n                warn(`Runtime directive used on component with non-element root node. ` +\r\n                    `The directives will not function as intended.`);\r\n            }\r\n            root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\r\n        }\r\n        // inherit transition data\r\n        if (vnode.transition) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n                warn(`Component inside <Transition> renders non-element root node ` +\r\n                    `that cannot be animated.`);\r\n            }\r\n            root.transition = vnode.transition;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && setRoot) {\r\n            setRoot(root);\r\n        }\r\n        else {\r\n            result = root;\r\n        }\r\n    }\r\n    catch (err) {\r\n        handleError(err, instance, 1 /* RENDER_FUNCTION */);\r\n        result = createVNode(Comment);\r\n    }\r\n    currentRenderingInstance = null;\r\n    return result;\r\n}\r\n/**\r\n * dev only\r\n * In dev mode, template root level comments are rendered, which turns the\r\n * template into a fragment root, but we need to locate the single element\r\n * root for attrs and scope id processing.\r\n */\r\nconst getChildRoot = (vnode) => {\r\n    const rawChildren = vnode.children;\r\n    const dynamicChildren = vnode.dynamicChildren;\r\n    const childRoot = filterSingleRoot(rawChildren);\r\n    if (!childRoot) {\r\n        return [vnode, undefined];\r\n    }\r\n    const index = rawChildren.indexOf(childRoot);\r\n    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\r\n    const setRoot = (updatedRoot) => {\r\n        rawChildren[index] = updatedRoot;\r\n        if (dynamicChildren) {\r\n            if (dynamicIndex > -1) {\r\n                dynamicChildren[dynamicIndex] = updatedRoot;\r\n            }\r\n            else if (updatedRoot.patchFlag > 0) {\r\n                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\r\n            }\r\n        }\r\n    };\r\n    return [normalizeVNode(childRoot), setRoot];\r\n};\r\nfunction filterSingleRoot(children) {\r\n    let singleRoot;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        if (isVNode(child)) {\r\n            // ignore user comment\r\n            if (child.type !== Comment || child.children === 'v-if') {\r\n                if (singleRoot) {\r\n                    // has more than 1 non-comment child, return now\r\n                    return;\r\n                }\r\n                else {\r\n                    singleRoot = child;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    return singleRoot;\r\n}\r\nconst getFunctionalFallthrough = (attrs) => {\r\n    let res;\r\n    for (const key in attrs) {\r\n        if (key === 'class' || key === 'style' || isOn(key)) {\r\n            (res || (res = {}))[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst filterModelListeners = (attrs, props) => {\r\n    const res = {};\r\n    for (const key in attrs) {\r\n        if (!isModelListener(key) || !(key.slice(9) in props)) {\r\n            res[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst isElementRoot = (vnode) => {\r\n    return (vnode.shapeFlag & 6 /* COMPONENT */ ||\r\n        vnode.shapeFlag & 1 /* ELEMENT */ ||\r\n        vnode.type === Comment // potential v-if branch switch\r\n    );\r\n};\r\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\r\n    const { props: prevProps, children: prevChildren, component } = prevVNode;\r\n    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\r\n    const emits = component.emitsOptions;\r\n    // Parent component's render function was hot-updated. Since this may have\r\n    // caused the child component's slots content to have changed, we need to\r\n    // force the child to update as well.\r\n    if ((process.env.NODE_ENV !== 'production') && (prevChildren || nextChildren) && isHmrUpdating) {\r\n        return true;\r\n    }\r\n    // force child update for runtime directive or transition on component vnode.\r\n    if (nextVNode.dirs || nextVNode.transition) {\r\n        return true;\r\n    }\r\n    if (optimized && patchFlag >= 0) {\r\n        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {\r\n            // slot content that references values that might have changed,\r\n            // e.g. in a v-for\r\n            return true;\r\n        }\r\n        if (patchFlag & 16 /* FULL_PROPS */) {\r\n            if (!prevProps) {\r\n                return !!nextProps;\r\n            }\r\n            // presence of this flag indicates props are always non-null\r\n            return hasPropsChanged(prevProps, nextProps, emits);\r\n        }\r\n        else if (patchFlag & 8 /* PROPS */) {\r\n            const dynamicProps = nextVNode.dynamicProps;\r\n            for (let i = 0; i < dynamicProps.length; i++) {\r\n                const key = dynamicProps[i];\r\n                if (nextProps[key] !== prevProps[key] &&\r\n                    !isEmitListener(emits, key)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // this path is only taken by manually written render functions\r\n        // so presence of any children leads to a forced update\r\n        if (prevChildren || nextChildren) {\r\n            if (!nextChildren || !nextChildren.$stable) {\r\n                return true;\r\n            }\r\n        }\r\n        if (prevProps === nextProps) {\r\n            return false;\r\n        }\r\n        if (!prevProps) {\r\n            return !!nextProps;\r\n        }\r\n        if (!nextProps) {\r\n            return true;\r\n        }\r\n        return hasPropsChanged(prevProps, nextProps, emits);\r\n    }\r\n    return false;\r\n}\r\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\r\n    const nextKeys = Object.keys(nextProps);\r\n    if (nextKeys.length !== Object.keys(prevProps).length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < nextKeys.length; i++) {\r\n        const key = nextKeys[i];\r\n        if (nextProps[key] !== prevProps[key] &&\r\n            !isEmitListener(emitsOptions, key)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction updateHOCHostEl({ vnode, parent }, el // HostNode\r\n) {\r\n    while (parent && parent.subTree === vnode) {\r\n        (vnode = parent.vnode).el = el;\r\n        parent = parent.parent;\r\n    }\r\n}\n\nconst isSuspense = (type) => type.__isSuspense;\r\n// Suspense exposes a component-like API, and is treated like a component\r\n// in the compiler, but internally it's a special built-in type that hooks\r\n// directly into the renderer.\r\nconst SuspenseImpl = {\r\n    // In order to make Suspense tree-shakable, we need to avoid importing it\r\n    // directly in the renderer. The renderer checks for the __isSuspense flag\r\n    // on a vnode's type and calls the `process` method, passing in renderer\r\n    // internals.\r\n    __isSuspense: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, \r\n    // platform-specific impl passed from renderer\r\n    rendererInternals) {\r\n        if (n1 == null) {\r\n            mountSuspense(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, rendererInternals);\r\n        }\r\n        else {\r\n            patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, rendererInternals);\r\n        }\r\n    },\r\n    hydrate: hydrateSuspense,\r\n    create: createSuspenseBoundary\r\n};\r\n// Force-casted public typing for h and TSX props inference\r\nconst Suspense = ( SuspenseImpl\r\n    );\r\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, optimized, rendererInternals) {\r\n    const { p: patch, o: { createElement } } = rendererInternals;\r\n    const hiddenContainer = createElement('div');\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, optimized, rendererInternals));\r\n    // start mounting the content subtree in an off-dom container\r\n    patch(null, (suspense.pendingBranch = vnode.ssContent), hiddenContainer, null, parentComponent, suspense, isSVG);\r\n    // now check if we have encountered any async deps\r\n    if (suspense.deps > 0) {\r\n        // has async\r\n        // mount the fallback tree\r\n        patch(null, vnode.ssFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n        isSVG);\r\n        setActiveBranch(suspense, vnode.ssFallback);\r\n    }\r\n    else {\r\n        // Suspense has no async deps. Just resolve.\r\n        suspense.resolve();\r\n    }\r\n}\r\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, { p: patch, um: unmount, o: { createElement } }) {\r\n    const suspense = (n2.suspense = n1.suspense);\r\n    suspense.vnode = n2;\r\n    n2.el = n1.el;\r\n    const newBranch = n2.ssContent;\r\n    const newFallback = n2.ssFallback;\r\n    const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\r\n    if (pendingBranch) {\r\n        suspense.pendingBranch = newBranch;\r\n        if (isSameVNodeType(newBranch, pendingBranch)) {\r\n            // same root type but content may have changed.\r\n            patch(pendingBranch, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG);\r\n            if (suspense.deps <= 0) {\r\n                suspense.resolve();\r\n            }\r\n            else if (isInFallback) {\r\n                patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG);\r\n                setActiveBranch(suspense, newFallback);\r\n            }\r\n        }\r\n        else {\r\n            // toggled before pending tree is resolved\r\n            suspense.pendingId++;\r\n            if (isHydrating) {\r\n                // if toggled before hydration is finished, the current DOM tree is\r\n                // no longer valid. set it as the active branch so it will be unmounted\r\n                // when resolved\r\n                suspense.isHydrating = false;\r\n                suspense.activeBranch = pendingBranch;\r\n            }\r\n            else {\r\n                unmount(pendingBranch, parentComponent, suspense);\r\n            }\r\n            // increment pending ID. this is used to invalidate async callbacks\r\n            // reset suspense state\r\n            suspense.deps = 0;\r\n            // discard effects from pending branch\r\n            suspense.effects.length = 0;\r\n            // discard previous container\r\n            suspense.hiddenContainer = createElement('div');\r\n            if (isInFallback) {\r\n                // already in fallback state\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n                else {\r\n                    patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                    isSVG);\r\n                    setActiveBranch(suspense, newFallback);\r\n                }\r\n            }\r\n            else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n                // toggled \"back\" to current active branch\r\n                patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG);\r\n                // force resolve\r\n                suspense.resolve(true);\r\n            }\r\n            else {\r\n                // switched to a 3rd branch\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n            // root did not change, just normal patch\r\n            patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG);\r\n            setActiveBranch(suspense, newBranch);\r\n        }\r\n        else {\r\n            // root node toggled\r\n            // invoke @pending event\r\n            const onPending = n2.props && n2.props.onPending;\r\n            if (isFunction(onPending)) {\r\n                onPending();\r\n            }\r\n            // mount pending branch in off-dom container\r\n            suspense.pendingBranch = newBranch;\r\n            suspense.pendingId++;\r\n            patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG);\r\n            if (suspense.deps <= 0) {\r\n                // incoming branch has no async deps, resolve now.\r\n                suspense.resolve();\r\n            }\r\n            else {\r\n                const { timeout, pendingId } = suspense;\r\n                if (timeout > 0) {\r\n                    setTimeout(() => {\r\n                        if (suspense.pendingId === pendingId) {\r\n                            suspense.fallback(newFallback);\r\n                        }\r\n                    }, timeout);\r\n                }\r\n                else if (timeout === 0) {\r\n                    suspense.fallback(newFallback);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet hasWarned = false;\r\nfunction createSuspenseBoundary(vnode, parent, parentComponent, container, hiddenContainer, anchor, isSVG, optimized, rendererInternals, isHydrating = false) {\r\n    /* istanbul ignore if */\r\n    if ((process.env.NODE_ENV !== 'production') && !false && !hasWarned) {\r\n        hasWarned = true;\r\n        // @ts-ignore `console.info` cannot be null error\r\n        console[console.info ? 'info' : 'log'](`<Suspense> is an experimental feature and its API will likely change.`);\r\n    }\r\n    const { p: patch, m: move, um: unmount, n: next, o: { parentNode, remove } } = rendererInternals;\r\n    const timeout = toNumber(vnode.props && vnode.props.timeout);\r\n    const suspense = {\r\n        vnode,\r\n        parent,\r\n        parentComponent,\r\n        isSVG,\r\n        container,\r\n        hiddenContainer,\r\n        anchor,\r\n        deps: 0,\r\n        pendingId: 0,\r\n        timeout: typeof timeout === 'number' ? timeout : -1,\r\n        activeBranch: null,\r\n        pendingBranch: null,\r\n        isInFallback: true,\r\n        isHydrating,\r\n        isUnmounted: false,\r\n        effects: [],\r\n        resolve(resume = false) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!resume && !suspense.pendingBranch) {\r\n                    throw new Error(`suspense.resolve() is called without a pending branch.`);\r\n                }\r\n                if (suspense.isUnmounted) {\r\n                    throw new Error(`suspense.resolve() is called on an already unmounted suspense boundary.`);\r\n                }\r\n            }\r\n            const { vnode, activeBranch, pendingBranch, pendingId, effects, parentComponent, container } = suspense;\r\n            if (suspense.isHydrating) {\r\n                suspense.isHydrating = false;\r\n            }\r\n            else if (!resume) {\r\n                const delayEnter = activeBranch &&\r\n                    pendingBranch.transition &&\r\n                    pendingBranch.transition.mode === 'out-in';\r\n                if (delayEnter) {\r\n                    activeBranch.transition.afterLeave = () => {\r\n                        if (pendingId === suspense.pendingId) {\r\n                            move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                        }\r\n                    };\r\n                }\r\n                // this is initial anchor on mount\r\n                let { anchor } = suspense;\r\n                // unmount current active tree\r\n                if (activeBranch) {\r\n                    // if the fallback tree was mounted, it may have been moved\r\n                    // as part of a parent suspense. get the latest anchor for insertion\r\n                    anchor = next(activeBranch);\r\n                    unmount(activeBranch, parentComponent, suspense, true);\r\n                }\r\n                if (!delayEnter) {\r\n                    // move content from off-dom container to actual container\r\n                    move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                }\r\n            }\r\n            setActiveBranch(suspense, pendingBranch);\r\n            suspense.pendingBranch = null;\r\n            suspense.isInFallback = false;\r\n            // flush buffered effects\r\n            // check if there is a pending parent suspense\r\n            let parent = suspense.parent;\r\n            let hasUnresolvedAncestor = false;\r\n            while (parent) {\r\n                if (parent.pendingBranch) {\r\n                    // found a pending parent suspense, merge buffered post jobs\r\n                    // into that parent\r\n                    parent.effects.push(...effects);\r\n                    hasUnresolvedAncestor = true;\r\n                    break;\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n            // no pending parent suspense, flush all jobs\r\n            if (!hasUnresolvedAncestor) {\r\n                queuePostFlushCb(effects);\r\n            }\r\n            suspense.effects = [];\r\n            // invoke @resolve event\r\n            const onResolve = vnode.props && vnode.props.onResolve;\r\n            if (isFunction(onResolve)) {\r\n                onResolve();\r\n            }\r\n        },\r\n        fallback(fallbackVNode) {\r\n            if (!suspense.pendingBranch) {\r\n                return;\r\n            }\r\n            const { vnode, activeBranch, parentComponent, container, isSVG } = suspense;\r\n            // invoke @fallback event\r\n            const onFallback = vnode.props && vnode.props.onFallback;\r\n            if (isFunction(onFallback)) {\r\n                onFallback();\r\n            }\r\n            const anchor = next(activeBranch);\r\n            const mountFallback = () => {\r\n                if (!suspense.isInFallback) {\r\n                    return;\r\n                }\r\n                // mount the fallback tree\r\n                patch(null, fallbackVNode, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG);\r\n                setActiveBranch(suspense, fallbackVNode);\r\n            };\r\n            const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === 'out-in';\r\n            if (delayEnter) {\r\n                activeBranch.transition.afterLeave = mountFallback;\r\n            }\r\n            // unmount current active branch\r\n            unmount(activeBranch, parentComponent, null, // no suspense so unmount hooks fire now\r\n            true // shouldRemove\r\n            );\r\n            suspense.isInFallback = true;\r\n            if (!delayEnter) {\r\n                mountFallback();\r\n            }\r\n        },\r\n        move(container, anchor, type) {\r\n            suspense.activeBranch &&\r\n                move(suspense.activeBranch, container, anchor, type);\r\n            suspense.container = container;\r\n        },\r\n        next() {\r\n            return suspense.activeBranch && next(suspense.activeBranch);\r\n        },\r\n        registerDep(instance, setupRenderEffect) {\r\n            const isInPendingSuspense = !!suspense.pendingBranch;\r\n            if (isInPendingSuspense) {\r\n                suspense.deps++;\r\n            }\r\n            const hydratedEl = instance.vnode.el;\r\n            instance\r\n                .asyncDep.catch(err => {\r\n                handleError(err, instance, 0 /* SETUP_FUNCTION */);\r\n            })\r\n                .then(asyncSetupResult => {\r\n                // retry when the setup() promise resolves.\r\n                // component may have been unmounted before resolve.\r\n                if (instance.isUnmounted ||\r\n                    suspense.isUnmounted ||\r\n                    suspense.pendingId !== instance.suspenseId) {\r\n                    return;\r\n                }\r\n                // retry from this component\r\n                instance.asyncResolved = true;\r\n                const { vnode } = instance;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(vnode);\r\n                }\r\n                handleSetupResult(instance, asyncSetupResult);\r\n                if (hydratedEl) {\r\n                    // vnode may have been replaced if an update happened before the\r\n                    // async dep is resolved.\r\n                    vnode.el = hydratedEl;\r\n                }\r\n                const placeholder = !hydratedEl && instance.subTree.el;\r\n                setupRenderEffect(instance, vnode, \r\n                // component may have been moved before resolve.\r\n                // if this is not a hydration, instance.subTree will be the comment\r\n                // placeholder.\r\n                parentNode(hydratedEl || instance.subTree.el), \r\n                // anchor will not be used if this is hydration, so only need to\r\n                // consider the comment placeholder case.\r\n                hydratedEl ? null : next(instance.subTree), suspense, isSVG, optimized);\r\n                if (placeholder) {\r\n                    remove(placeholder);\r\n                }\r\n                updateHOCHostEl(instance, vnode.el);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                // only decrease deps count if suspense is not already resolved\r\n                if (isInPendingSuspense && --suspense.deps === 0) {\r\n                    suspense.resolve();\r\n                }\r\n            });\r\n        },\r\n        unmount(parentSuspense, doRemove) {\r\n            suspense.isUnmounted = true;\r\n            if (suspense.activeBranch) {\r\n                unmount(suspense.activeBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n            if (suspense.pendingBranch) {\r\n                unmount(suspense.pendingBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n        }\r\n    };\r\n    return suspense;\r\n}\r\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, optimized, rendererInternals, hydrateNode) {\r\n    /* eslint-disable no-restricted-globals */\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, node.parentNode, document.createElement('div'), null, isSVG, optimized, rendererInternals, true /* hydrating */));\r\n    // there are two possible scenarios for server-rendered suspense:\r\n    // - success: ssr content should be fully resolved\r\n    // - failure: ssr content should be the fallback branch.\r\n    // however, on the client we don't really know if it has failed or not\r\n    // attempt to hydrate the DOM assuming it has succeeded, but we still\r\n    // need to construct a suspense boundary first\r\n    const result = hydrateNode(node, (suspense.pendingBranch = vnode.ssContent), parentComponent, suspense, optimized);\r\n    if (suspense.deps === 0) {\r\n        suspense.resolve();\r\n    }\r\n    return result;\r\n    /* eslint-enable no-restricted-globals */\r\n}\r\nfunction normalizeSuspenseChildren(vnode) {\r\n    const { shapeFlag, children } = vnode;\r\n    let content;\r\n    let fallback;\r\n    if (shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        content = normalizeSuspenseSlot(children.default);\r\n        fallback = normalizeSuspenseSlot(children.fallback);\r\n    }\r\n    else {\r\n        content = normalizeSuspenseSlot(children);\r\n        fallback = normalizeVNode(null);\r\n    }\r\n    return {\r\n        content,\r\n        fallback\r\n    };\r\n}\r\nfunction normalizeSuspenseSlot(s) {\r\n    if (isFunction(s)) {\r\n        s = s();\r\n    }\r\n    if (isArray(s)) {\r\n        const singleChild = filterSingleRoot(s);\r\n        if ((process.env.NODE_ENV !== 'production') && !singleChild) {\r\n            warn(`<Suspense> slots expect a single root node.`);\r\n        }\r\n        s = singleChild;\r\n    }\r\n    return normalizeVNode(s);\r\n}\r\nfunction queueEffectWithSuspense(fn, suspense) {\r\n    if (suspense && suspense.pendingBranch) {\r\n        if (isArray(fn)) {\r\n            suspense.effects.push(...fn);\r\n        }\r\n        else {\r\n            suspense.effects.push(fn);\r\n        }\r\n    }\r\n    else {\r\n        queuePostFlushCb(fn);\r\n    }\r\n}\r\nfunction setActiveBranch(suspense, branch) {\r\n    suspense.activeBranch = branch;\r\n    const { vnode, parentComponent } = suspense;\r\n    const el = (vnode.el = branch.el);\r\n    // in case suspense is the root node of a component,\r\n    // recursively update the HOC el\r\n    if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el;\r\n        updateHOCHostEl(parentComponent, el);\r\n    }\r\n}\n\nlet isRenderingCompiledSlot = 0;\r\nconst setCompiledSlotRendering = (n) => (isRenderingCompiledSlot += n);\r\n/**\r\n * Compiler runtime helper for rendering `<slot/>`\r\n * @private\r\n */\r\nfunction renderSlot(slots, name, props = {}, \r\n// this is not a user-facing function, so the fallback is always generated by\r\n// the compiler and guaranteed to be a function returning an array\r\nfallback) {\r\n    let slot = slots[name];\r\n    if ((process.env.NODE_ENV !== 'production') && slot && slot.length > 1) {\r\n        warn(`SSR-optimized slot function detected in a non-SSR-optimized render ` +\r\n            `function. You need to mark this component with $dynamic-slots in the ` +\r\n            `parent template.`);\r\n        slot = () => [];\r\n    }\r\n    // a compiled slot disables block tracking by default to avoid manual\r\n    // invocation interfering with template-based block tracking, but in\r\n    // `renderSlot` we can be sure that it's template-based so we can force\r\n    // enable it.\r\n    isRenderingCompiledSlot++;\r\n    openBlock();\r\n    const validSlotContent = slot && ensureValidVNode(slot(props));\r\n    const rendered = createBlock(Fragment, { key: props.key || `_${name}` }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 /* STABLE */\r\n        ? 64 /* STABLE_FRAGMENT */\r\n        : -2 /* BAIL */);\r\n    isRenderingCompiledSlot--;\r\n    return rendered;\r\n}\r\nfunction ensureValidVNode(vnodes) {\r\n    return vnodes.some(child => {\r\n        if (!isVNode(child))\r\n            return true;\r\n        if (child.type === Comment)\r\n            return false;\r\n        if (child.type === Fragment &&\r\n            !ensureValidVNode(child.children))\r\n            return false;\r\n        return true;\r\n    })\r\n        ? vnodes\r\n        : null;\r\n}\n\n/**\r\n * Wrap a slot function to memoize current rendering instance\r\n * @private\r\n */\r\nfunction withCtx(fn, ctx = currentRenderingInstance) {\r\n    if (!ctx)\r\n        return fn;\r\n    const renderFnWithContext = (...args) => {\r\n        // If a user calls a compiled slot inside a template expression (#1745), it\r\n        // can mess up block tracking, so by default we need to push a null block to\r\n        // avoid that. This isn't necessary if rendering a compiled `<slot>`.\r\n        if (!isRenderingCompiledSlot) {\r\n            openBlock(true /* null block that disables tracking */);\r\n        }\r\n        const owner = currentRenderingInstance;\r\n        setCurrentRenderingInstance(ctx);\r\n        const res = fn(...args);\r\n        setCurrentRenderingInstance(owner);\r\n        if (!isRenderingCompiledSlot) {\r\n            closeBlock();\r\n        }\r\n        return res;\r\n    };\r\n    renderFnWithContext._c = true;\r\n    return renderFnWithContext;\r\n}\n\n// SFC scoped style ID management.\r\nlet currentScopeId = null;\r\nconst scopeIdStack = [];\r\n/**\r\n * @private\r\n */\r\nfunction pushScopeId(id) {\r\n    scopeIdStack.push((currentScopeId = id));\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction popScopeId() {\r\n    scopeIdStack.pop();\r\n    currentScopeId = scopeIdStack[scopeIdStack.length - 1] || null;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction withScopeId(id) {\r\n    return ((fn) => withCtx(function () {\r\n        pushScopeId(id);\r\n        const res = fn.apply(this, arguments);\r\n        popScopeId();\r\n        return res;\r\n    }));\r\n}\n\nfunction initProps(instance, rawProps, isStateful, // result of bitwise flag comparison\r\nisSSR = false) {\r\n    const props = {};\r\n    const attrs = {};\r\n    def(attrs, InternalObjectKey, 1);\r\n    setFullProps(instance, rawProps, props, attrs);\r\n    // validation\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(props, instance);\r\n    }\r\n    if (isStateful) {\r\n        // stateful\r\n        instance.props = isSSR ? props : shallowReactive(props);\r\n    }\r\n    else {\r\n        if (!instance.type.props) {\r\n            // functional w/ optional props, props === attrs\r\n            instance.props = attrs;\r\n        }\r\n        else {\r\n            // functional w/ declared props\r\n            instance.props = props;\r\n        }\r\n    }\r\n    instance.attrs = attrs;\r\n}\r\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\r\n    const { props, attrs, vnode: { patchFlag } } = instance;\r\n    const rawCurrentProps = toRaw(props);\r\n    const [options] = instance.propsOptions;\r\n    if (\r\n    // always force full diff in dev\r\n    // - #1942 if hmr is enabled with sfc component\r\n    // - vite#872 non-sfc component used by sfc component\r\n    !((process.env.NODE_ENV !== 'production') &&\r\n        (instance.type.__hmrId ||\r\n            (instance.parent && instance.parent.type.__hmrId))) &&\r\n        (optimized || patchFlag > 0) &&\r\n        !(patchFlag & 16 /* FULL_PROPS */)) {\r\n        if (patchFlag & 8 /* PROPS */) {\r\n            // Compiler-generated props & no keys change, just set the updated\r\n            // the props.\r\n            const propsToUpdate = instance.vnode.dynamicProps;\r\n            for (let i = 0; i < propsToUpdate.length; i++) {\r\n                const key = propsToUpdate[i];\r\n                // PROPS flag guarantees rawProps to be non-null\r\n                const value = rawProps[key];\r\n                if (options) {\r\n                    // attr / props separation was done on init and will be consistent\r\n                    // in this code path, so just check if attrs have it.\r\n                    if (hasOwn(attrs, key)) {\r\n                        attrs[key] = value;\r\n                    }\r\n                    else {\r\n                        const camelizedKey = camelize(key);\r\n                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance);\r\n                    }\r\n                }\r\n                else {\r\n                    attrs[key] = value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // full props update.\r\n        setFullProps(instance, rawProps, props, attrs);\r\n        // in case of dynamic props, check if we need to delete keys from\r\n        // the props object\r\n        let kebabKey;\r\n        for (const key in rawCurrentProps) {\r\n            if (!rawProps ||\r\n                // for camelCase\r\n                (!hasOwn(rawProps, key) &&\r\n                    // it's possible the original props was passed in as kebab-case\r\n                    // and converted to camelCase (#955)\r\n                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {\r\n                if (options) {\r\n                    if (rawPrevProps &&\r\n                        // for camelCase\r\n                        (rawPrevProps[key] !== undefined ||\r\n                            // for kebab-case\r\n                            rawPrevProps[kebabKey] !== undefined)) {\r\n                        props[key] = resolvePropValue(options, rawProps || EMPTY_OBJ, key, undefined, instance);\r\n                    }\r\n                }\r\n                else {\r\n                    delete props[key];\r\n                }\r\n            }\r\n        }\r\n        // in the case of functional component w/o props declaration, props and\r\n        // attrs point to the same object so it should already have been updated.\r\n        if (attrs !== rawCurrentProps) {\r\n            for (const key in attrs) {\r\n                if (!rawProps || !hasOwn(rawProps, key)) {\r\n                    delete attrs[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // trigger updates for $attrs in case it's used in component slots\r\n    trigger(instance, \"set\" /* SET */, '$attrs');\r\n    if ((process.env.NODE_ENV !== 'production') && rawProps) {\r\n        validateProps(props, instance);\r\n    }\r\n}\r\nfunction setFullProps(instance, rawProps, props, attrs) {\r\n    const [options, needCastKeys] = instance.propsOptions;\r\n    if (rawProps) {\r\n        for (const key in rawProps) {\r\n            const value = rawProps[key];\r\n            // key, ref are reserved and never passed down\r\n            if (isReservedProp(key)) {\r\n                continue;\r\n            }\r\n            // prop option names are camelized during normalization, so to support\r\n            // kebab -> camel conversion here we need to camelize the key.\r\n            let camelKey;\r\n            if (options && hasOwn(options, (camelKey = camelize(key)))) {\r\n                props[camelKey] = value;\r\n            }\r\n            else if (!isEmitListener(instance.emitsOptions, key)) {\r\n                // Any non-declared (either as a prop or an emitted event) props are put\r\n                // into a separate `attrs` object for spreading. Make sure to preserve\r\n                // original key casing\r\n                attrs[key] = value;\r\n            }\r\n        }\r\n    }\r\n    if (needCastKeys) {\r\n        const rawCurrentProps = toRaw(props);\r\n        for (let i = 0; i < needCastKeys.length; i++) {\r\n            const key = needCastKeys[i];\r\n            props[key] = resolvePropValue(options, rawCurrentProps, key, rawCurrentProps[key], instance);\r\n        }\r\n    }\r\n}\r\nfunction resolvePropValue(options, props, key, value, instance) {\r\n    const opt = options[key];\r\n    if (opt != null) {\r\n        const hasDefault = hasOwn(opt, 'default');\r\n        // default values\r\n        if (hasDefault && value === undefined) {\r\n            const defaultValue = opt.default;\r\n            if (opt.type !== Function && isFunction(defaultValue)) {\r\n                setCurrentInstance(instance);\r\n                value = defaultValue(props);\r\n                setCurrentInstance(null);\r\n            }\r\n            else {\r\n                value = defaultValue;\r\n            }\r\n        }\r\n        // boolean casting\r\n        if (opt[0 /* shouldCast */]) {\r\n            if (!hasOwn(props, key) && !hasDefault) {\r\n                value = false;\r\n            }\r\n            else if (opt[1 /* shouldCastTrue */] &&\r\n                (value === '' || value === hyphenate(key))) {\r\n                value = true;\r\n            }\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\r\n    if (!appContext.deopt && comp.__props) {\r\n        return comp.__props;\r\n    }\r\n    const raw = comp.props;\r\n    const normalized = {};\r\n    const needCastKeys = [];\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendProps = (raw) => {\r\n            hasExtends = true;\r\n            const [props, keys] = normalizePropsOptions(raw, appContext, true);\r\n            extend(normalized, props);\r\n            if (keys)\r\n                needCastKeys.push(...keys);\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendProps);\r\n        }\r\n        if (comp.extends) {\r\n            extendProps(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendProps);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        return (comp.__props = EMPTY_ARR);\r\n    }\r\n    if (isArray(raw)) {\r\n        for (let i = 0; i < raw.length; i++) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isString(raw[i])) {\r\n                warn(`props must be strings when using array syntax.`, raw[i]);\r\n            }\r\n            const normalizedKey = camelize(raw[i]);\r\n            if (validatePropName(normalizedKey)) {\r\n                normalized[normalizedKey] = EMPTY_OBJ;\r\n            }\r\n        }\r\n    }\r\n    else if (raw) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isObject(raw)) {\r\n            warn(`invalid props options`, raw);\r\n        }\r\n        for (const key in raw) {\r\n            const normalizedKey = camelize(key);\r\n            if (validatePropName(normalizedKey)) {\r\n                const opt = raw[key];\r\n                const prop = (normalized[normalizedKey] =\r\n                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);\r\n                if (prop) {\r\n                    const booleanIndex = getTypeIndex(Boolean, prop.type);\r\n                    const stringIndex = getTypeIndex(String, prop.type);\r\n                    prop[0 /* shouldCast */] = booleanIndex > -1;\r\n                    prop[1 /* shouldCastTrue */] =\r\n                        stringIndex < 0 || booleanIndex < stringIndex;\r\n                    // if the prop needs boolean casting or default value\r\n                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {\r\n                        needCastKeys.push(normalizedKey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return (comp.__props = [normalized, needCastKeys]);\r\n}\r\nfunction validatePropName(key) {\r\n    if (key[0] !== '$') {\r\n        return true;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid prop name: \"${key}\" is a reserved property.`);\r\n    }\r\n    return false;\r\n}\r\n// use function string name to check type constructors\r\n// so that it works across vms / iframes.\r\nfunction getType(ctor) {\r\n    const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/);\r\n    return match ? match[1] : '';\r\n}\r\nfunction isSameType(a, b) {\r\n    return getType(a) === getType(b);\r\n}\r\nfunction getTypeIndex(type, expectedTypes) {\r\n    if (isArray(expectedTypes)) {\r\n        for (let i = 0, len = expectedTypes.length; i < len; i++) {\r\n            if (isSameType(expectedTypes[i], type)) {\r\n                return i;\r\n            }\r\n        }\r\n    }\r\n    else if (isFunction(expectedTypes)) {\r\n        return isSameType(expectedTypes, type) ? 0 : -1;\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProps(props, instance) {\r\n    const rawValues = toRaw(props);\r\n    const options = instance.propsOptions[0];\r\n    for (const key in options) {\r\n        let opt = options[key];\r\n        if (opt == null)\r\n            continue;\r\n        validateProp(key, rawValues[key], opt, !hasOwn(rawValues, key));\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProp(name, value, prop, isAbsent) {\r\n    const { type, required, validator } = prop;\r\n    // required!\r\n    if (required && isAbsent) {\r\n        warn('Missing required prop: \"' + name + '\"');\r\n        return;\r\n    }\r\n    // missing but optional\r\n    if (value == null && !prop.required) {\r\n        return;\r\n    }\r\n    // type check\r\n    if (type != null && type !== true) {\r\n        let isValid = false;\r\n        const types = isArray(type) ? type : [type];\r\n        const expectedTypes = [];\r\n        // value is valid as long as one of the specified types match\r\n        for (let i = 0; i < types.length && !isValid; i++) {\r\n            const { valid, expectedType } = assertType(value, types[i]);\r\n            expectedTypes.push(expectedType || '');\r\n            isValid = valid;\r\n        }\r\n        if (!isValid) {\r\n            warn(getInvalidTypeMessage(name, value, expectedTypes));\r\n            return;\r\n        }\r\n    }\r\n    // custom validator\r\n    if (validator && !validator(value)) {\r\n        warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\r\n    }\r\n}\r\nconst isSimpleType = /*#__PURE__*/ makeMap('String,Number,Boolean,Function,Symbol');\r\n/**\r\n * dev only\r\n */\r\nfunction assertType(value, type) {\r\n    let valid;\r\n    const expectedType = getType(type);\r\n    if (isSimpleType(expectedType)) {\r\n        const t = typeof value;\r\n        valid = t === expectedType.toLowerCase();\r\n        // for primitive wrapper objects\r\n        if (!valid && t === 'object') {\r\n            valid = value instanceof type;\r\n        }\r\n    }\r\n    else if (expectedType === 'Object') {\r\n        valid = isObject(value);\r\n    }\r\n    else if (expectedType === 'Array') {\r\n        valid = isArray(value);\r\n    }\r\n    else {\r\n        valid = value instanceof type;\r\n    }\r\n    return {\r\n        valid,\r\n        expectedType\r\n    };\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\r\n    let message = `Invalid prop: type check failed for prop \"${name}\".` +\r\n        ` Expected ${expectedTypes.map(capitalize).join(', ')}`;\r\n    const expectedType = expectedTypes[0];\r\n    const receivedType = toRawType(value);\r\n    const expectedValue = styleValue(value, expectedType);\r\n    const receivedValue = styleValue(value, receivedType);\r\n    // check if we need to specify expected value\r\n    if (expectedTypes.length === 1 &&\r\n        isExplicable(expectedType) &&\r\n        !isBoolean(expectedType, receivedType)) {\r\n        message += ` with value ${expectedValue}`;\r\n    }\r\n    message += `, got ${receivedType} `;\r\n    // check if we need to specify received value\r\n    if (isExplicable(receivedType)) {\r\n        message += `with value ${receivedValue}.`;\r\n    }\r\n    return message;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction styleValue(value, type) {\r\n    if (type === 'String') {\r\n        return `\"${value}\"`;\r\n    }\r\n    else if (type === 'Number') {\r\n        return `${Number(value)}`;\r\n    }\r\n    else {\r\n        return `${value}`;\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isExplicable(type) {\r\n    const explicitTypes = ['string', 'number', 'boolean'];\r\n    return explicitTypes.some(elem => type.toLowerCase() === elem);\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isBoolean(...args) {\r\n    return args.some(elem => elem.toLowerCase() === 'boolean');\r\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\r\n    if (target) {\r\n        const hooks = target[type] || (target[type] = []);\r\n        // cache the error handling wrapper for injected hooks so the same hook\r\n        // can be properly deduped by the scheduler. \"__weh\" stands for \"with error\r\n        // handling\".\r\n        const wrappedHook = hook.__weh ||\r\n            (hook.__weh = (...args) => {\r\n                if (target.isUnmounted) {\r\n                    return;\r\n                }\r\n                // disable tracking inside all lifecycle hooks\r\n                // since they can potentially be called inside effects.\r\n                pauseTracking();\r\n                // Set currentInstance during hook invocation.\r\n                // This assumes the hook does not synchronously trigger other hooks, which\r\n                // can only be false when the user does something really funky.\r\n                setCurrentInstance(target);\r\n                const res = callWithAsyncErrorHandling(hook, target, type, args);\r\n                setCurrentInstance(null);\r\n                resetTracking();\r\n                return res;\r\n            });\r\n        if (prepend) {\r\n            hooks.unshift(wrappedHook);\r\n        }\r\n        else {\r\n            hooks.push(wrappedHook);\r\n        }\r\n        return wrappedHook;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, ''));\r\n        warn(`${apiName} is called when there is no active component instance to be ` +\r\n            `associated with. ` +\r\n            `Lifecycle injection APIs can only be used during execution of setup().` +\r\n            ( ` If you are using async setup(), make sure to register lifecycle ` +\r\n                    `hooks before the first await statement.`\r\n                ));\r\n    }\r\n}\r\nconst createHook = (lifecycle) => (hook, target = currentInstance) => \r\n// post-create lifecycle registrations are noops during SSR\r\n!isInSSRComponentSetup && injectHook(lifecycle, hook, target);\r\nconst onBeforeMount = createHook(\"bm\" /* BEFORE_MOUNT */);\r\nconst onMounted = createHook(\"m\" /* MOUNTED */);\r\nconst onBeforeUpdate = createHook(\"bu\" /* BEFORE_UPDATE */);\r\nconst onUpdated = createHook(\"u\" /* UPDATED */);\r\nconst onBeforeUnmount = createHook(\"bum\" /* BEFORE_UNMOUNT */);\r\nconst onUnmounted = createHook(\"um\" /* UNMOUNTED */);\r\nconst onRenderTriggered = createHook(\"rtg\" /* RENDER_TRIGGERED */);\r\nconst onRenderTracked = createHook(\"rtc\" /* RENDER_TRACKED */);\r\nconst onErrorCaptured = (hook, target = currentInstance) => {\r\n    injectHook(\"ec\" /* ERROR_CAPTURED */, hook, target);\r\n};\n\n// Simple effect.\r\nfunction watchEffect(effect, options) {\r\n    return doWatch(effect, null, options);\r\n}\r\n// initial value for watchers to trigger on undefined initial values\r\nconst INITIAL_WATCHER_VALUE = {};\r\n// implementation\r\nfunction watch(source, cb, options) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(cb)) {\r\n        warn(`\\`watch(fn, options?)\\` signature has been moved to a separate API. ` +\r\n            `Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only ` +\r\n            `supports \\`watch(source, cb, options?) signature.`);\r\n    }\r\n    return doWatch(source, cb, options);\r\n}\r\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ, instance = currentInstance) {\r\n    if ((process.env.NODE_ENV !== 'production') && !cb) {\r\n        if (immediate !== undefined) {\r\n            warn(`watch() \"immediate\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n        if (deep !== undefined) {\r\n            warn(`watch() \"deep\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n    }\r\n    const warnInvalidSource = (s) => {\r\n        warn(`Invalid watch source: `, s, `A watch source can only be a getter/effect function, a ref, ` +\r\n            `a reactive object, or an array of these types.`);\r\n    };\r\n    let getter;\r\n    let forceTrigger = false;\r\n    if (isRef(source)) {\r\n        getter = () => source.value;\r\n        forceTrigger = !!source._shallow;\r\n    }\r\n    else if (isReactive(source)) {\r\n        getter = () => source;\r\n        deep = true;\r\n    }\r\n    else if (isArray(source)) {\r\n        getter = () => source.map(s => {\r\n            if (isRef(s)) {\r\n                return s.value;\r\n            }\r\n            else if (isReactive(s)) {\r\n                return traverse(s);\r\n            }\r\n            else if (isFunction(s)) {\r\n                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);\r\n            }\r\n            else {\r\n                (process.env.NODE_ENV !== 'production') && warnInvalidSource(s);\r\n            }\r\n        });\r\n    }\r\n    else if (isFunction(source)) {\r\n        if (cb) {\r\n            // getter with cb\r\n            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);\r\n        }\r\n        else {\r\n            // no cb -> simple effect\r\n            getter = () => {\r\n                if (instance && instance.isUnmounted) {\r\n                    return;\r\n                }\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                return callWithErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onInvalidate]);\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        getter = NOOP;\r\n        (process.env.NODE_ENV !== 'production') && warnInvalidSource(source);\r\n    }\r\n    if (cb && deep) {\r\n        const baseGetter = getter;\r\n        getter = () => traverse(baseGetter());\r\n    }\r\n    let cleanup;\r\n    const onInvalidate = (fn) => {\r\n        cleanup = runner.options.onStop = () => {\r\n            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);\r\n        };\r\n    };\r\n    let oldValue = isArray(source) ? [] : INITIAL_WATCHER_VALUE;\r\n    const job = () => {\r\n        if (!runner.active) {\r\n            return;\r\n        }\r\n        if (cb) {\r\n            // watch(source, cb)\r\n            const newValue = runner();\r\n            if (deep || forceTrigger || hasChanged(newValue, oldValue)) {\r\n                // cleanup before running cb again\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [\r\n                    newValue,\r\n                    // pass undefined as the old value when it's changed for the first time\r\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\r\n                    onInvalidate\r\n                ]);\r\n                oldValue = newValue;\r\n            }\r\n        }\r\n        else {\r\n            // watchEffect\r\n            runner();\r\n        }\r\n    };\r\n    // important: mark the job as a watcher callback so that scheduler knows\r\n    // it is allowed to self-trigger (#1727)\r\n    job.allowRecurse = !!cb;\r\n    let scheduler;\r\n    if (flush === 'sync') {\r\n        scheduler = job;\r\n    }\r\n    else if (flush === 'post') {\r\n        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\r\n    }\r\n    else {\r\n        // default: 'pre'\r\n        scheduler = () => {\r\n            if (!instance || instance.isMounted) {\r\n                queuePreFlushCb(job);\r\n            }\r\n            else {\r\n                // with 'pre' option, the first call must happen before\r\n                // the component is mounted so it is called synchronously.\r\n                job();\r\n            }\r\n        };\r\n    }\r\n    const runner = effect(getter, {\r\n        lazy: true,\r\n        onTrack,\r\n        onTrigger,\r\n        scheduler\r\n    });\r\n    recordInstanceBoundEffect(runner, instance);\r\n    // initial run\r\n    if (cb) {\r\n        if (immediate) {\r\n            job();\r\n        }\r\n        else {\r\n            oldValue = runner();\r\n        }\r\n    }\r\n    else if (flush === 'post') {\r\n        queuePostRenderEffect(runner, instance && instance.suspense);\r\n    }\r\n    else {\r\n        runner();\r\n    }\r\n    return () => {\r\n        stop(runner);\r\n        if (instance) {\r\n            remove(instance.effects, runner);\r\n        }\r\n    };\r\n}\r\n// this.$watch\r\nfunction instanceWatch(source, cb, options) {\r\n    const publicThis = this.proxy;\r\n    const getter = isString(source)\r\n        ? () => publicThis[source]\r\n        : source.bind(publicThis);\r\n    return doWatch(getter, cb.bind(publicThis), options, this);\r\n}\r\nfunction traverse(value, seen = new Set()) {\r\n    if (!isObject(value) || seen.has(value)) {\r\n        return value;\r\n    }\r\n    seen.add(value);\r\n    if (isRef(value)) {\r\n        traverse(value.value, seen);\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            traverse(value[i], seen);\r\n        }\r\n    }\r\n    else if (isSet(value) || isMap(value)) {\r\n        value.forEach((v) => {\r\n            traverse(v, seen);\r\n        });\r\n    }\r\n    else {\r\n        for (const key in value) {\r\n            traverse(value[key], seen);\r\n        }\r\n    }\r\n    return value;\r\n}\n\nfunction useTransitionState() {\r\n    const state = {\r\n        isMounted: false,\r\n        isLeaving: false,\r\n        isUnmounting: false,\r\n        leavingVNodes: new Map()\r\n    };\r\n    onMounted(() => {\r\n        state.isMounted = true;\r\n    });\r\n    onBeforeUnmount(() => {\r\n        state.isUnmounting = true;\r\n    });\r\n    return state;\r\n}\r\nconst TransitionHookValidator = [Function, Array];\r\nconst BaseTransitionImpl = {\r\n    name: `BaseTransition`,\r\n    props: {\r\n        mode: String,\r\n        appear: Boolean,\r\n        persisted: Boolean,\r\n        // enter\r\n        onBeforeEnter: TransitionHookValidator,\r\n        onEnter: TransitionHookValidator,\r\n        onAfterEnter: TransitionHookValidator,\r\n        onEnterCancelled: TransitionHookValidator,\r\n        // leave\r\n        onBeforeLeave: TransitionHookValidator,\r\n        onLeave: TransitionHookValidator,\r\n        onAfterLeave: TransitionHookValidator,\r\n        onLeaveCancelled: TransitionHookValidator,\r\n        // appear\r\n        onBeforeAppear: TransitionHookValidator,\r\n        onAppear: TransitionHookValidator,\r\n        onAfterAppear: TransitionHookValidator,\r\n        onAppearCancelled: TransitionHookValidator\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevTransitionKey;\r\n        return () => {\r\n            const children = slots.default && getTransitionRawChildren(slots.default(), true);\r\n            if (!children || !children.length) {\r\n                return;\r\n            }\r\n            // warn multiple elements\r\n            if ((process.env.NODE_ENV !== 'production') && children.length > 1) {\r\n                warn('<transition> can only be used on a single element or component. Use ' +\r\n                    '<transition-group> for lists.');\r\n            }\r\n            // there's no need to track reactivity for these props so use the raw\r\n            // props for a bit better perf\r\n            const rawProps = toRaw(props);\r\n            const { mode } = rawProps;\r\n            // check mode\r\n            if ((process.env.NODE_ENV !== 'production') && mode && !['in-out', 'out-in', 'default'].includes(mode)) {\r\n                warn(`invalid <transition> mode: ${mode}`);\r\n            }\r\n            // at this point children has a guaranteed length of 1.\r\n            const child = children[0];\r\n            if (state.isLeaving) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            // in the case of <transition><keep-alive/></transition>, we need to\r\n            // compare the type of the kept-alive children.\r\n            const innerChild = getKeepAliveChild(child);\r\n            if (!innerChild) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            const enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);\r\n            setTransitionHooks(innerChild, enterHooks);\r\n            const oldChild = instance.subTree;\r\n            const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\r\n            let transitionKeyChanged = false;\r\n            const { getTransitionKey } = innerChild.type;\r\n            if (getTransitionKey) {\r\n                const key = getTransitionKey();\r\n                if (prevTransitionKey === undefined) {\r\n                    prevTransitionKey = key;\r\n                }\r\n                else if (key !== prevTransitionKey) {\r\n                    prevTransitionKey = key;\r\n                    transitionKeyChanged = true;\r\n                }\r\n            }\r\n            // handle mode\r\n            if (oldInnerChild &&\r\n                oldInnerChild.type !== Comment &&\r\n                (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\r\n                const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);\r\n                // update old tree's hooks in case of dynamic transition\r\n                setTransitionHooks(oldInnerChild, leavingHooks);\r\n                // switching between different views\r\n                if (mode === 'out-in') {\r\n                    state.isLeaving = true;\r\n                    // return placeholder node and queue update when leave finishes\r\n                    leavingHooks.afterLeave = () => {\r\n                        state.isLeaving = false;\r\n                        instance.update();\r\n                    };\r\n                    return emptyPlaceholder(child);\r\n                }\r\n                else if (mode === 'in-out') {\r\n                    leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\r\n                        const leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);\r\n                        leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\r\n                        // early removal callback\r\n                        el._leaveCb = () => {\r\n                            earlyRemove();\r\n                            el._leaveCb = undefined;\r\n                            delete enterHooks.delayedLeave;\r\n                        };\r\n                        enterHooks.delayedLeave = delayedLeave;\r\n                    };\r\n                }\r\n            }\r\n            return child;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst BaseTransition = BaseTransitionImpl;\r\nfunction getLeavingNodesForType(state, vnode) {\r\n    const { leavingVNodes } = state;\r\n    let leavingVNodesCache = leavingVNodes.get(vnode.type);\r\n    if (!leavingVNodesCache) {\r\n        leavingVNodesCache = Object.create(null);\r\n        leavingVNodes.set(vnode.type, leavingVNodesCache);\r\n    }\r\n    return leavingVNodesCache;\r\n}\r\n// The transition hooks are attached to the vnode as vnode.transition\r\n// and will be called at appropriate timing in the renderer.\r\nfunction resolveTransitionHooks(vnode, props, state, instance) {\r\n    const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;\r\n    const key = String(vnode.key);\r\n    const leavingVNodesCache = getLeavingNodesForType(state, vnode);\r\n    const callHook = (hook, args) => {\r\n        hook &&\r\n            callWithAsyncErrorHandling(hook, instance, 9 /* TRANSITION_HOOK */, args);\r\n    };\r\n    const hooks = {\r\n        mode,\r\n        persisted,\r\n        beforeEnter(el) {\r\n            let hook = onBeforeEnter;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onBeforeAppear || onBeforeEnter;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            // for same element (v-show)\r\n            if (el._leaveCb) {\r\n                el._leaveCb(true /* cancelled */);\r\n            }\r\n            // for toggled element with same key (v-if)\r\n            const leavingVNode = leavingVNodesCache[key];\r\n            if (leavingVNode &&\r\n                isSameVNodeType(vnode, leavingVNode) &&\r\n                leavingVNode.el._leaveCb) {\r\n                // force early removal (not cancelled)\r\n                leavingVNode.el._leaveCb();\r\n            }\r\n            callHook(hook, [el]);\r\n        },\r\n        enter(el) {\r\n            let hook = onEnter;\r\n            let afterHook = onAfterEnter;\r\n            let cancelHook = onEnterCancelled;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onAppear || onEnter;\r\n                    afterHook = onAfterAppear || onAfterEnter;\r\n                    cancelHook = onAppearCancelled || onEnterCancelled;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            let called = false;\r\n            const done = (el._enterCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                if (cancelled) {\r\n                    callHook(cancelHook, [el]);\r\n                }\r\n                else {\r\n                    callHook(afterHook, [el]);\r\n                }\r\n                if (hooks.delayedLeave) {\r\n                    hooks.delayedLeave();\r\n                }\r\n                el._enterCb = undefined;\r\n            });\r\n            if (hook) {\r\n                hook(el, done);\r\n                if (hook.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        leave(el, remove) {\r\n            const key = String(vnode.key);\r\n            if (el._enterCb) {\r\n                el._enterCb(true /* cancelled */);\r\n            }\r\n            if (state.isUnmounting) {\r\n                return remove();\r\n            }\r\n            callHook(onBeforeLeave, [el]);\r\n            let called = false;\r\n            const done = (el._leaveCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                remove();\r\n                if (cancelled) {\r\n                    callHook(onLeaveCancelled, [el]);\r\n                }\r\n                else {\r\n                    callHook(onAfterLeave, [el]);\r\n                }\r\n                el._leaveCb = undefined;\r\n                if (leavingVNodesCache[key] === vnode) {\r\n                    delete leavingVNodesCache[key];\r\n                }\r\n            });\r\n            leavingVNodesCache[key] = vnode;\r\n            if (onLeave) {\r\n                onLeave(el, done);\r\n                if (onLeave.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        clone(vnode) {\r\n            return resolveTransitionHooks(vnode, props, state, instance);\r\n        }\r\n    };\r\n    return hooks;\r\n}\r\n// the placeholder really only handles one special case: KeepAlive\r\n// in the case of a KeepAlive in a leave phase we need to return a KeepAlive\r\n// placeholder with empty content to avoid the KeepAlive instance from being\r\n// unmounted.\r\nfunction emptyPlaceholder(vnode) {\r\n    if (isKeepAlive(vnode)) {\r\n        vnode = cloneVNode(vnode);\r\n        vnode.children = null;\r\n        return vnode;\r\n    }\r\n}\r\nfunction getKeepAliveChild(vnode) {\r\n    return isKeepAlive(vnode)\r\n        ? vnode.children\r\n            ? vnode.children[0]\r\n            : undefined\r\n        : vnode;\r\n}\r\nfunction setTransitionHooks(vnode, hooks) {\r\n    if (vnode.shapeFlag & 6 /* COMPONENT */ && vnode.component) {\r\n        setTransitionHooks(vnode.component.subTree, hooks);\r\n    }\r\n    else if ( vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        vnode.ssContent.transition = hooks.clone(vnode.ssContent);\r\n        vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\r\n    }\r\n    else {\r\n        vnode.transition = hooks;\r\n    }\r\n}\r\nfunction getTransitionRawChildren(children, keepComment = false) {\r\n    let ret = [];\r\n    let keyedFragmentCount = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        // handle fragment children case, e.g. v-for\r\n        if (child.type === Fragment) {\r\n            if (child.patchFlag & 128 /* KEYED_FRAGMENT */)\r\n                keyedFragmentCount++;\r\n            ret = ret.concat(getTransitionRawChildren(child.children, keepComment));\r\n        }\r\n        // comment placeholders should be skipped, e.g. v-if\r\n        else if (keepComment || child.type !== Comment) {\r\n            ret.push(child);\r\n        }\r\n    }\r\n    // #1126 if a transition children list contains multiple sub fragments, these\r\n    // fragments will be merged into a flat children array. Since each v-for\r\n    // fragment may contain different static bindings inside, we need to de-op\r\n    // these children to force full diffs to ensure correct behavior.\r\n    if (keyedFragmentCount > 1) {\r\n        for (let i = 0; i < ret.length; i++) {\r\n            ret[i].patchFlag = -2 /* BAIL */;\r\n        }\r\n    }\r\n    return ret;\r\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\r\nconst KeepAliveImpl = {\r\n    name: `KeepAlive`,\r\n    // Marker for special handling inside the renderer. We are not using a ===\r\n    // check directly on KeepAlive in the renderer, because importing it directly\r\n    // would prevent it from being tree-shaken.\r\n    __isKeepAlive: true,\r\n    inheritRef: true,\r\n    props: {\r\n        include: [String, RegExp, Array],\r\n        exclude: [String, RegExp, Array],\r\n        max: [String, Number]\r\n    },\r\n    setup(props, { slots }) {\r\n        const cache = new Map();\r\n        const keys = new Set();\r\n        let current = null;\r\n        const instance = getCurrentInstance();\r\n        const parentSuspense = instance.suspense;\r\n        // KeepAlive communicates with the instantiated renderer via the\r\n        // ctx where the renderer passes in its internals,\r\n        // and the KeepAlive instance exposes activate/deactivate implementations.\r\n        // The whole point of this is to avoid importing KeepAlive directly in the\r\n        // renderer to facilitate tree-shaking.\r\n        const sharedContext = instance.ctx;\r\n        const { renderer: { p: patch, m: move, um: _unmount, o: { createElement } } } = sharedContext;\r\n        const storageContainer = createElement('div');\r\n        sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\r\n            const instance = vnode.component;\r\n            move(vnode, container, anchor, 0 /* ENTER */, parentSuspense);\r\n            // in case props have changed\r\n            patch(instance.vnode, vnode, container, anchor, instance, parentSuspense, isSVG, optimized);\r\n            queuePostRenderEffect(() => {\r\n                instance.isDeactivated = false;\r\n                if (instance.a) {\r\n                    invokeArrayFns(instance.a);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n            }, parentSuspense);\r\n        };\r\n        sharedContext.deactivate = (vnode) => {\r\n            const instance = vnode.component;\r\n            move(vnode, storageContainer, null, 1 /* LEAVE */, parentSuspense);\r\n            queuePostRenderEffect(() => {\r\n                if (instance.da) {\r\n                    invokeArrayFns(instance.da);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n                instance.isDeactivated = true;\r\n            }, parentSuspense);\r\n        };\r\n        function unmount(vnode) {\r\n            // reset the shapeFlag so it can be properly unmounted\r\n            resetShapeFlag(vnode);\r\n            _unmount(vnode, instance, parentSuspense);\r\n        }\r\n        function pruneCache(filter) {\r\n            cache.forEach((vnode, key) => {\r\n                const name = getName(vnode.type);\r\n                if (name && (!filter || !filter(name))) {\r\n                    pruneCacheEntry(key);\r\n                }\r\n            });\r\n        }\r\n        function pruneCacheEntry(key) {\r\n            const cached = cache.get(key);\r\n            if (!current || cached.type !== current.type) {\r\n                unmount(cached);\r\n            }\r\n            else if (current) {\r\n                // current active instance should no longer be kept-alive.\r\n                // we can't unmount it now but it might be later, so reset its flag now.\r\n                resetShapeFlag(current);\r\n            }\r\n            cache.delete(key);\r\n            keys.delete(key);\r\n        }\r\n        // prune cache on include/exclude prop change\r\n        watch(() => [props.include, props.exclude], ([include, exclude]) => {\r\n            include && pruneCache(name => matches(include, name));\r\n            exclude && pruneCache(name => !matches(exclude, name));\r\n        }, \r\n        // prune post-render after `current` has been updated\r\n        { flush: 'post', deep: true });\r\n        // cache sub tree after render\r\n        let pendingCacheKey = null;\r\n        const cacheSubtree = () => {\r\n            // fix #1621, the pendingCacheKey could be 0\r\n            if (pendingCacheKey != null) {\r\n                cache.set(pendingCacheKey, getInnerChild(instance.subTree));\r\n            }\r\n        };\r\n        onMounted(cacheSubtree);\r\n        onUpdated(cacheSubtree);\r\n        onBeforeUnmount(() => {\r\n            cache.forEach(cached => {\r\n                const { subTree, suspense } = instance;\r\n                const vnode = getInnerChild(subTree);\r\n                if (cached.type === vnode.type) {\r\n                    // current instance will be unmounted as part of keep-alive's unmount\r\n                    resetShapeFlag(vnode);\r\n                    // but invoke its deactivated hook here\r\n                    const da = vnode.component.da;\r\n                    da && queuePostRenderEffect(da, suspense);\r\n                    return;\r\n                }\r\n                unmount(cached);\r\n            });\r\n        });\r\n        return () => {\r\n            pendingCacheKey = null;\r\n            if (!slots.default) {\r\n                return null;\r\n            }\r\n            const children = slots.default();\r\n            const rawVNode = children[0];\r\n            if (children.length > 1) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`KeepAlive should contain exactly one component child.`);\r\n                }\r\n                current = null;\r\n                return children;\r\n            }\r\n            else if (!isVNode(rawVNode) ||\r\n                (!(rawVNode.shapeFlag & 4 /* STATEFUL_COMPONENT */) &&\r\n                    !(rawVNode.shapeFlag & 128 /* SUSPENSE */))) {\r\n                current = null;\r\n                return rawVNode;\r\n            }\r\n            let vnode = getInnerChild(rawVNode);\r\n            const comp = vnode.type;\r\n            const name = getName(comp);\r\n            const { include, exclude, max } = props;\r\n            if ((include && (!name || !matches(include, name))) ||\r\n                (exclude && name && matches(exclude, name))) {\r\n                current = vnode;\r\n                return rawVNode;\r\n            }\r\n            const key = vnode.key == null ? comp : vnode.key;\r\n            const cachedVNode = cache.get(key);\r\n            // clone vnode if it's reused because we are going to mutate it\r\n            if (vnode.el) {\r\n                vnode = cloneVNode(vnode);\r\n                if (rawVNode.shapeFlag & 128 /* SUSPENSE */) {\r\n                    rawVNode.ssContent = vnode;\r\n                }\r\n            }\r\n            // #1513 it's possible for the returned vnode to be cloned due to attr\r\n            // fallthrough or scopeId, so the vnode here may not be the final vnode\r\n            // that is mounted. Instead of caching it directly, we store the pending\r\n            // key and cache `instance.subTree` (the normalized vnode) in\r\n            // beforeMount/beforeUpdate hooks.\r\n            pendingCacheKey = key;\r\n            if (cachedVNode) {\r\n                // copy over mounted state\r\n                vnode.el = cachedVNode.el;\r\n                vnode.component = cachedVNode.component;\r\n                if (vnode.transition) {\r\n                    // recursively update transition hooks on subTree\r\n                    setTransitionHooks(vnode, vnode.transition);\r\n                }\r\n                // avoid vnode being mounted as fresh\r\n                vnode.shapeFlag |= 512 /* COMPONENT_KEPT_ALIVE */;\r\n                // make this key the freshest\r\n                keys.delete(key);\r\n                keys.add(key);\r\n            }\r\n            else {\r\n                keys.add(key);\r\n                // prune oldest entry\r\n                if (max && keys.size > parseInt(max, 10)) {\r\n                    pruneCacheEntry(keys.values().next().value);\r\n                }\r\n            }\r\n            // avoid vnode being unmounted\r\n            vnode.shapeFlag |= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n            current = vnode;\r\n            return rawVNode;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst KeepAlive = KeepAliveImpl;\r\nfunction getName(comp) {\r\n    return comp.displayName || comp.name;\r\n}\r\nfunction matches(pattern, name) {\r\n    if (isArray(pattern)) {\r\n        return pattern.some((p) => matches(p, name));\r\n    }\r\n    else if (isString(pattern)) {\r\n        return pattern.split(',').indexOf(name) > -1;\r\n    }\r\n    else if (pattern.test) {\r\n        return pattern.test(name);\r\n    }\r\n    /* istanbul ignore next */\r\n    return false;\r\n}\r\nfunction onActivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"a\" /* ACTIVATED */, target);\r\n}\r\nfunction onDeactivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"da\" /* DEACTIVATED */, target);\r\n}\r\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\r\n    // cache the deactivate branch check wrapper for injected hooks so the same\r\n    // hook can be properly deduped by the scheduler. \"__wdc\" stands for \"with\r\n    // deactivation check\".\r\n    const wrappedHook = hook.__wdc ||\r\n        (hook.__wdc = () => {\r\n            // only fire the hook if the target instance is NOT in a deactivated branch.\r\n            let current = target;\r\n            while (current) {\r\n                if (current.isDeactivated) {\r\n                    return;\r\n                }\r\n                current = current.parent;\r\n            }\r\n            hook();\r\n        });\r\n    injectHook(type, wrappedHook, target);\r\n    // In addition to registering it on the target instance, we walk up the parent\r\n    // chain and register it on all ancestor instances that are keep-alive roots.\r\n    // This avoids the need to walk the entire component tree when invoking these\r\n    // hooks, and more importantly, avoids the need to track child components in\r\n    // arrays.\r\n    if (target) {\r\n        let current = target.parent;\r\n        while (current && current.parent) {\r\n            if (isKeepAlive(current.parent.vnode)) {\r\n                injectToKeepAliveRoot(wrappedHook, type, target, current);\r\n            }\r\n            current = current.parent;\r\n        }\r\n    }\r\n}\r\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\r\n    // injectHook wraps the original for error handling, so make sure to remove\r\n    // the wrapped version.\r\n    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);\r\n    onUnmounted(() => {\r\n        remove(keepAliveRoot[type], injected);\r\n    }, target);\r\n}\r\nfunction resetShapeFlag(vnode) {\r\n    let shapeFlag = vnode.shapeFlag;\r\n    if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n        shapeFlag -= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n    }\r\n    if (shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n        shapeFlag -= 512 /* COMPONENT_KEPT_ALIVE */;\r\n    }\r\n    vnode.shapeFlag = shapeFlag;\r\n}\r\nfunction getInnerChild(vnode) {\r\n    return vnode.shapeFlag & 128 /* SUSPENSE */ ? vnode.ssContent : vnode;\r\n}\n\nconst isInternalKey = (key) => key[0] === '_' || key === '$stable';\r\nconst normalizeSlotValue = (value) => isArray(value)\r\n    ? value.map(normalizeVNode)\r\n    : [normalizeVNode(value)];\r\nconst normalizeSlot = (key, rawSlot, ctx) => withCtx((props) => {\r\n    if ((process.env.NODE_ENV !== 'production') && currentInstance) {\r\n        warn(`Slot \"${key}\" invoked outside of the render function: ` +\r\n            `this will not track dependencies used in the slot. ` +\r\n            `Invoke the slot function inside the render function instead.`);\r\n    }\r\n    return normalizeSlotValue(rawSlot(props));\r\n}, ctx);\r\nconst normalizeObjectSlots = (rawSlots, slots) => {\r\n    const ctx = rawSlots._ctx;\r\n    for (const key in rawSlots) {\r\n        if (isInternalKey(key))\r\n            continue;\r\n        const value = rawSlots[key];\r\n        if (isFunction(value)) {\r\n            slots[key] = normalizeSlot(key, value, ctx);\r\n        }\r\n        else if (value != null) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Non-function value encountered for slot \"${key}\". ` +\r\n                    `Prefer function slots for better performance.`);\r\n            }\r\n            const normalized = normalizeSlotValue(value);\r\n            slots[key] = () => normalized;\r\n        }\r\n    }\r\n};\r\nconst normalizeVNodeSlots = (instance, children) => {\r\n    if ((process.env.NODE_ENV !== 'production') && !isKeepAlive(instance.vnode)) {\r\n        warn(`Non-function value encountered for default slot. ` +\r\n            `Prefer function slots for better performance.`);\r\n    }\r\n    const normalized = normalizeSlotValue(children);\r\n    instance.slots.default = () => normalized;\r\n};\r\nconst initSlots = (instance, children) => {\r\n    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            instance.slots = children;\r\n            // make compiler marker non-enumerable\r\n            def(children, '_', type);\r\n        }\r\n        else {\r\n            normalizeObjectSlots(children, (instance.slots = {}));\r\n        }\r\n    }\r\n    else {\r\n        instance.slots = {};\r\n        if (children) {\r\n            normalizeVNodeSlots(instance, children);\r\n        }\r\n    }\r\n    def(instance.slots, InternalObjectKey, 1);\r\n};\r\nconst updateSlots = (instance, children) => {\r\n    const { vnode, slots } = instance;\r\n    let needDeletionCheck = true;\r\n    let deletionComparisonTarget = EMPTY_OBJ;\r\n    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // compiled slots.\r\n            if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n                // Parent was HMR updated so slot content may have changed.\r\n                // force update slots and mark instance for hmr as well\r\n                extend(slots, children);\r\n            }\r\n            else if (type === 1 /* STABLE */) {\r\n                // compiled AND stable.\r\n                // no need to update, and skip stale slots removal.\r\n                needDeletionCheck = false;\r\n            }\r\n            else {\r\n                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip\r\n                // normalization.\r\n                extend(slots, children);\r\n            }\r\n        }\r\n        else {\r\n            needDeletionCheck = !children.$stable;\r\n            normalizeObjectSlots(children, slots);\r\n        }\r\n        deletionComparisonTarget = children;\r\n    }\r\n    else if (children) {\r\n        // non slot object children (direct value) passed to a component\r\n        normalizeVNodeSlots(instance, children);\r\n        deletionComparisonTarget = { default: 1 };\r\n    }\r\n    // delete stale slots\r\n    if (needDeletionCheck) {\r\n        for (const key in slots) {\r\n            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\r\n                delete slots[key];\r\n            }\r\n        }\r\n    }\r\n};\n\n/**\r\nRuntime helper for applying directives to a vnode. Example usage:\r\n\nconst comp = resolveComponent('comp')\r\nconst foo = resolveDirective('foo')\r\nconst bar = resolveDirective('bar')\r\n\nreturn withDirectives(h(comp), [\r\n  [foo, this.x],\r\n  [bar, this.y]\r\n])\r\n*/\r\nconst isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text');\r\nfunction validateDirectiveName(name) {\r\n    if (isBuiltInDirective(name)) {\r\n        warn('Do not use built-in directive ids as custom directive id: ' + name);\r\n    }\r\n}\r\n/**\r\n * Adds directives to a VNode.\r\n */\r\nfunction withDirectives(vnode, directives) {\r\n    const internalInstance = currentRenderingInstance;\r\n    if (internalInstance === null) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`withDirectives can only be used inside render functions.`);\r\n        return vnode;\r\n    }\r\n    const instance = internalInstance.proxy;\r\n    const bindings = vnode.dirs || (vnode.dirs = []);\r\n    for (let i = 0; i < directives.length; i++) {\r\n        let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\r\n        if (isFunction(dir)) {\r\n            dir = {\r\n                mounted: dir,\r\n                updated: dir\r\n            };\r\n        }\r\n        bindings.push({\r\n            dir,\r\n            instance,\r\n            value,\r\n            oldValue: void 0,\r\n            arg,\r\n            modifiers\r\n        });\r\n    }\r\n    return vnode;\r\n}\r\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\r\n    const bindings = vnode.dirs;\r\n    const oldBindings = prevVNode && prevVNode.dirs;\r\n    for (let i = 0; i < bindings.length; i++) {\r\n        const binding = bindings[i];\r\n        if (oldBindings) {\r\n            binding.oldValue = oldBindings[i].value;\r\n        }\r\n        const hook = binding.dir[name];\r\n        if (hook) {\r\n            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [\r\n                vnode.el,\r\n                binding,\r\n                vnode,\r\n                prevVNode\r\n            ]);\r\n        }\r\n    }\r\n}\n\nfunction createAppContext() {\r\n    return {\r\n        app: null,\r\n        config: {\r\n            isNativeTag: NO,\r\n            performance: false,\r\n            globalProperties: {},\r\n            optionMergeStrategies: {},\r\n            isCustomElement: NO,\r\n            errorHandler: undefined,\r\n            warnHandler: undefined\r\n        },\r\n        mixins: [],\r\n        components: {},\r\n        directives: {},\r\n        provides: Object.create(null)\r\n    };\r\n}\r\nlet uid = 0;\r\nfunction createAppAPI(render, hydrate) {\r\n    return function createApp(rootComponent, rootProps = null) {\r\n        if (rootProps != null && !isObject(rootProps)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`root props passed to app.mount() must be an object.`);\r\n            rootProps = null;\r\n        }\r\n        const context = createAppContext();\r\n        const installedPlugins = new Set();\r\n        let isMounted = false;\r\n        const app = (context.app = {\r\n            _uid: uid++,\r\n            _component: rootComponent,\r\n            _props: rootProps,\r\n            _container: null,\r\n            _context: context,\r\n            version,\r\n            get config() {\r\n                return context.config;\r\n            },\r\n            set config(v) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`app.config cannot be replaced. Modify individual options instead.`);\r\n                }\r\n            },\r\n            use(plugin, ...options) {\r\n                if (installedPlugins.has(plugin)) {\r\n                    (process.env.NODE_ENV !== 'production') && warn(`Plugin has already been applied to target app.`);\r\n                }\r\n                else if (plugin && isFunction(plugin.install)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin.install(app, ...options);\r\n                }\r\n                else if (isFunction(plugin)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin(app, ...options);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`A plugin must either be a function or an object with an \"install\" ` +\r\n                        `function.`);\r\n                }\r\n                return app;\r\n            },\r\n            mixin(mixin) {\r\n                if (__VUE_OPTIONS_API__) {\r\n                    if (!context.mixins.includes(mixin)) {\r\n                        context.mixins.push(mixin);\r\n                        // global mixin with props/emits de-optimizes props/emits\r\n                        // normalization caching.\r\n                        if (mixin.props || mixin.emits) {\r\n                            context.deopt = true;\r\n                        }\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Mixin has already been applied to target app' +\r\n                            (mixin.name ? `: ${mixin.name}` : ''));\r\n                    }\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Mixins are only available in builds supporting Options API');\r\n                }\r\n                return app;\r\n            },\r\n            component(name, component) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateComponentName(name, context.config);\r\n                }\r\n                if (!component) {\r\n                    return context.components[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.components[name]) {\r\n                    warn(`Component \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.components[name] = component;\r\n                return app;\r\n            },\r\n            directive(name, directive) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateDirectiveName(name);\r\n                }\r\n                if (!directive) {\r\n                    return context.directives[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.directives[name]) {\r\n                    warn(`Directive \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.directives[name] = directive;\r\n                return app;\r\n            },\r\n            mount(rootContainer, isHydrate) {\r\n                if (!isMounted) {\r\n                    const vnode = createVNode(rootComponent, rootProps);\r\n                    // store app context on the root VNode.\r\n                    // this will be set on the root instance on initial mount.\r\n                    vnode.appContext = context;\r\n                    // HMR root reload\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        context.reload = () => {\r\n                            render(cloneVNode(vnode), rootContainer);\r\n                        };\r\n                    }\r\n                    if (isHydrate && hydrate) {\r\n                        hydrate(vnode, rootContainer);\r\n                    }\r\n                    else {\r\n                        render(vnode, rootContainer);\r\n                    }\r\n                    isMounted = true;\r\n                    app._container = rootContainer;\r\n                    rootContainer.__vue_app__ = app;\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        devtoolsInitApp(app, version);\r\n                    }\r\n                    return vnode.component.proxy;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`App has already been mounted.\\n` +\r\n                        `If you want to remount the same app, move your app creation logic ` +\r\n                        `into a factory function and create fresh app instances for each ` +\r\n                        `mount - e.g. \\`const createMyApp = () => createApp(App)\\``);\r\n                }\r\n            },\r\n            unmount() {\r\n                if (isMounted) {\r\n                    render(null, app._container);\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        devtoolsUnmountApp(app);\r\n                    }\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`Cannot unmount an app that is not mounted.`);\r\n                }\r\n            },\r\n            provide(key, value) {\r\n                if ((process.env.NODE_ENV !== 'production') && key in context.provides) {\r\n                    warn(`App already provides property with key \"${String(key)}\". ` +\r\n                        `It will be overwritten with the new value.`);\r\n                }\r\n                // TypeScript doesn't allow symbols as index type\r\n                // https://github.com/Microsoft/TypeScript/issues/24587\r\n                context.provides[key] = value;\r\n                return app;\r\n            }\r\n        });\r\n        return app;\r\n    };\r\n}\n\nlet hasMismatch = false;\r\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== 'foreignObject';\r\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\r\n// Note: hydration is DOM-specific\r\n// But we have to place it in core due to tight coupling with core - splitting\r\n// it out creates a ton of unnecessary complexity.\r\n// Hydration also depends on some renderer internal logic which needs to be\r\n// passed in via arguments.\r\nfunction createHydrationFunctions(rendererInternals) {\r\n    const { mt: mountComponent, p: patch, o: { patchProp, nextSibling, parentNode, remove, insert, createComment } } = rendererInternals;\r\n    const hydrate = (vnode, container) => {\r\n        if ((process.env.NODE_ENV !== 'production') && !container.hasChildNodes()) {\r\n            warn(`Attempting to hydrate existing markup but container is empty. ` +\r\n                `Performing full mount instead.`);\r\n            patch(null, vnode, container);\r\n            return;\r\n        }\r\n        hasMismatch = false;\r\n        hydrateNode(container.firstChild, vnode, null, null);\r\n        flushPostFlushCbs();\r\n        if (hasMismatch && !false) {\r\n            // this error should show up in production\r\n            console.error(`Hydration completed but contains mismatches.`);\r\n        }\r\n    };\r\n    const hydrateNode = (node, vnode, parentComponent, parentSuspense, optimized = false) => {\r\n        const isFragmentStart = isComment(node) && node.data === '[';\r\n        const onMismatch = () => handleMismatch(node, vnode, parentComponent, parentSuspense, isFragmentStart);\r\n        const { type, ref, shapeFlag } = vnode;\r\n        const domType = node.nodeType;\r\n        vnode.el = node;\r\n        let nextNode = null;\r\n        switch (type) {\r\n            case Text:\r\n                if (domType !== 3 /* TEXT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    if (node.data !== vnode.children) {\r\n                        hasMismatch = true;\r\n                        (process.env.NODE_ENV !== 'production') &&\r\n                            warn(`Hydration text mismatch:` +\r\n                                `\\n- Client: ${JSON.stringify(node.data)}` +\r\n                                `\\n- Server: ${JSON.stringify(vnode.children)}`);\r\n                        node.data = vnode.children;\r\n                    }\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Comment:\r\n                if (domType !== 8 /* COMMENT */ || isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Static:\r\n                if (domType !== 1 /* ELEMENT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    // determine anchor, adopt content\r\n                    nextNode = node;\r\n                    // if the static vnode has its content stripped during build,\r\n                    // adopt it from the server-rendered HTML.\r\n                    const needToAdoptContent = !vnode.children.length;\r\n                    for (let i = 0; i < vnode.staticCount; i++) {\r\n                        if (needToAdoptContent)\r\n                            vnode.children += nextNode.outerHTML;\r\n                        if (i === vnode.staticCount - 1) {\r\n                            vnode.anchor = nextNode;\r\n                        }\r\n                        nextNode = nextSibling(nextNode);\r\n                    }\r\n                    return nextNode;\r\n                }\r\n                break;\r\n            case Fragment:\r\n                if (!isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = hydrateFragment(node, vnode, parentComponent, parentSuspense, optimized);\r\n                }\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    if (domType !== 1 /* ELEMENT */ ||\r\n                        vnode.type !== node.tagName.toLowerCase()) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = hydrateElement(node, vnode, parentComponent, parentSuspense, optimized);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    // when setting up the render effect, if the initial vnode already\r\n                    // has .el set, the component will perform hydration instead of mount\r\n                    // on its sub-tree.\r\n                    const container = parentNode(node);\r\n                    const hydrateComponent = () => {\r\n                        mountComponent(vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), optimized);\r\n                    };\r\n                    // async component\r\n                    const loadAsync = vnode.type.__asyncLoader;\r\n                    if (loadAsync) {\r\n                        loadAsync().then(hydrateComponent);\r\n                    }\r\n                    else {\r\n                        hydrateComponent();\r\n                    }\r\n                    // component may be async, so in the case of fragments we cannot rely\r\n                    // on component's rendered output to determine the end of the fragment\r\n                    // instead, we do a lookahead to find the end anchor node.\r\n                    nextNode = isFragmentStart\r\n                        ? locateClosingAsyncAnchor(node)\r\n                        : nextSibling(node);\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    if (domType !== 8 /* COMMENT */) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, optimized, rendererInternals, hydrateChildren);\r\n                    }\r\n                }\r\n                else if ( shapeFlag & 128 /* SUSPENSE */) {\r\n                    nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, isSVGContainer(parentNode(node)), optimized, rendererInternals, hydrateNode);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid HostVNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode);\r\n        }\r\n        return nextNode;\r\n    };\r\n    const hydrateElement = (el, vnode, parentComponent, parentSuspense, optimized) => {\r\n        optimized = optimized || !!vnode.dynamicChildren;\r\n        const { props, patchFlag, shapeFlag, dirs } = vnode;\r\n        // skip props & children if this is hoisted static nodes\r\n        if (patchFlag !== -1 /* HOISTED */) {\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                if (!optimized ||\r\n                    (patchFlag & 16 /* FULL_PROPS */ ||\r\n                        patchFlag & 32 /* HYDRATE_EVENTS */)) {\r\n                    for (const key in props) {\r\n                        if (!isReservedProp(key) && isOn(key)) {\r\n                            patchProp(el, key, null, props[key]);\r\n                        }\r\n                    }\r\n                }\r\n                else if (props.onClick) {\r\n                    // Fast path for click listeners (which is most often) to avoid\r\n                    // iterating through props.\r\n                    patchProp(el, 'onClick', null, props.onClick);\r\n                }\r\n            }\r\n            // vnode / directive hooks\r\n            let vnodeHooks;\r\n            if ((vnodeHooks = props && props.onVnodeBeforeMount)) {\r\n                invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n            }\r\n            if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\r\n                queueEffectWithSuspense(() => {\r\n                    vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n                    dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n                }, parentSuspense);\r\n            }\r\n            // children\r\n            if (shapeFlag & 16 /* ARRAY_CHILDREN */ &&\r\n                // skip if element has innerHTML / textContent\r\n                !(props && (props.innerHTML || props.textContent))) {\r\n                let next = hydrateChildren(el.firstChild, vnode, el, parentComponent, parentSuspense, optimized);\r\n                let hasWarned = false;\r\n                while (next) {\r\n                    hasMismatch = true;\r\n                    if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                        warn(`Hydration children mismatch in <${vnode.type}>: ` +\r\n                            `server rendered element contains more child nodes than client vdom.`);\r\n                        hasWarned = true;\r\n                    }\r\n                    // The SSRed DOM contains more nodes than it should. Remove them.\r\n                    const cur = next;\r\n                    next = next.nextSibling;\r\n                    remove(cur);\r\n                }\r\n            }\r\n            else if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                if (el.textContent !== vnode.children) {\r\n                    hasMismatch = true;\r\n                    (process.env.NODE_ENV !== 'production') &&\r\n                        warn(`Hydration text content mismatch in <${vnode.type}>:\\n` +\r\n                            `- Client: ${el.textContent}\\n` +\r\n                            `- Server: ${vnode.children}`);\r\n                    el.textContent = vnode.children;\r\n                }\r\n            }\r\n        }\r\n        return el.nextSibling;\r\n    };\r\n    const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, optimized) => {\r\n        optimized = optimized || !!parentVNode.dynamicChildren;\r\n        const children = parentVNode.children;\r\n        const l = children.length;\r\n        let hasWarned = false;\r\n        for (let i = 0; i < l; i++) {\r\n            const vnode = optimized\r\n                ? children[i]\r\n                : (children[i] = normalizeVNode(children[i]));\r\n            if (node) {\r\n                node = hydrateNode(node, vnode, parentComponent, parentSuspense, optimized);\r\n            }\r\n            else {\r\n                hasMismatch = true;\r\n                if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                    warn(`Hydration children mismatch in <${container.tagName.toLowerCase()}>: ` +\r\n                        `server rendered element contains fewer child nodes than client vdom.`);\r\n                    hasWarned = true;\r\n                }\r\n                // the SSRed DOM didn't contain enough nodes. Mount the missing ones.\r\n                patch(null, vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container));\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    const hydrateFragment = (node, vnode, parentComponent, parentSuspense, optimized) => {\r\n        const container = parentNode(node);\r\n        const next = hydrateChildren(nextSibling(node), vnode, container, parentComponent, parentSuspense, optimized);\r\n        if (next && isComment(next) && next.data === ']') {\r\n            return nextSibling((vnode.anchor = next));\r\n        }\r\n        else {\r\n            // fragment didn't hydrate successfully, since we didn't get a end anchor\r\n            // back. This should have led to node/children mismatch warnings.\r\n            hasMismatch = true;\r\n            // since the anchor is missing, we need to create one and insert it\r\n            insert((vnode.anchor = createComment(`]`)), container, next);\r\n            return next;\r\n        }\r\n    };\r\n    const handleMismatch = (node, vnode, parentComponent, parentSuspense, isFragment) => {\r\n        hasMismatch = true;\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`Hydration node mismatch:\\n- Client vnode:`, vnode.type, `\\n- Server rendered DOM:`, node, node.nodeType === 3 /* TEXT */\r\n                ? `(text)`\r\n                : isComment(node) && node.data === '['\r\n                    ? `(start of fragment)`\r\n                    : ``);\r\n        vnode.el = null;\r\n        if (isFragment) {\r\n            // remove excessive fragment nodes\r\n            const end = locateClosingAsyncAnchor(node);\r\n            while (true) {\r\n                const next = nextSibling(node);\r\n                if (next && next !== end) {\r\n                    remove(next);\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        const next = nextSibling(node);\r\n        const container = parentNode(node);\r\n        remove(node);\r\n        patch(null, vnode, container, next, parentComponent, parentSuspense, isSVGContainer(container));\r\n        return next;\r\n    };\r\n    const locateClosingAsyncAnchor = (node) => {\r\n        let match = 0;\r\n        while (node) {\r\n            node = nextSibling(node);\r\n            if (node && isComment(node)) {\r\n                if (node.data === '[')\r\n                    match++;\r\n                if (node.data === ']') {\r\n                    if (match === 0) {\r\n                        return nextSibling(node);\r\n                    }\r\n                    else {\r\n                        match--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return [hydrate, hydrateNode];\r\n}\n\nlet supported;\r\nlet perf;\r\nfunction startMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        perf.mark(`vue-${type}-${instance.uid}`);\r\n    }\r\n}\r\nfunction endMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        const startTag = `vue-${type}-${instance.uid}`;\r\n        const endTag = startTag + `:end`;\r\n        perf.mark(endTag);\r\n        perf.measure(`<${formatComponentName(instance, instance.type)}> ${type}`, startTag, endTag);\r\n        perf.clearMarks(startTag);\r\n        perf.clearMarks(endTag);\r\n    }\r\n}\r\nfunction isSupported() {\r\n    if (supported !== undefined) {\r\n        return supported;\r\n    }\r\n    /* eslint-disable no-restricted-globals */\r\n    if (typeof window !== 'undefined' && window.performance) {\r\n        supported = true;\r\n        perf = window.performance;\r\n    }\r\n    else {\r\n        supported = false;\r\n    }\r\n    /* eslint-enable no-restricted-globals */\r\n    return supported;\r\n}\n\n/**\r\n * This is only called in esm-bundler builds.\r\n * It is called when a renderer is created, in `baseCreateRenderer` so that\r\n * importing runtime-core is side-effects free.\r\n *\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    let needWarn = false;\r\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_OPTIONS_API__ = true;\r\n    }\r\n    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {\r\n        needWarn = true;\r\n        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn) {\r\n        console.warn(`You are running the esm-bundler build of Vue. It is recommended to ` +\r\n            `configure your bundler to explicitly replace feature flag globals ` +\r\n            `with boolean literals to get proper tree-shaking in the final bundle. ` +\r\n            `See http://link.vuejs.org/feature-flags for more details.`);\r\n    }\r\n}\n\n// implementation, close to no-op\r\nfunction defineComponent(options) {\r\n    return isFunction(options) ? { setup: options, name: options.name } : options;\r\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\r\nfunction defineAsyncComponent(source) {\r\n    if (isFunction(source)) {\r\n        source = { loader: source };\r\n    }\r\n    const { loader, loadingComponent: loadingComponent, errorComponent: errorComponent, delay = 200, timeout, // undefined = never times out\r\n    suspensible = true, onError: userOnError } = source;\r\n    let pendingRequest = null;\r\n    let resolvedComp;\r\n    let retries = 0;\r\n    const retry = () => {\r\n        retries++;\r\n        pendingRequest = null;\r\n        return load();\r\n    };\r\n    const load = () => {\r\n        let thisRequest;\r\n        return (pendingRequest ||\r\n            (thisRequest = pendingRequest = loader()\r\n                .catch(err => {\r\n                err = err instanceof Error ? err : new Error(String(err));\r\n                if (userOnError) {\r\n                    return new Promise((resolve, reject) => {\r\n                        const userRetry = () => resolve(retry());\r\n                        const userFail = () => reject(err);\r\n                        userOnError(err, userRetry, userFail, retries + 1);\r\n                    });\r\n                }\r\n                else {\r\n                    throw err;\r\n                }\r\n            })\r\n                .then((comp) => {\r\n                if (thisRequest !== pendingRequest && pendingRequest) {\r\n                    return pendingRequest;\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && !comp) {\r\n                    warn(`Async component loader resolved to undefined. ` +\r\n                        `If you are using retry(), make sure to return its return value.`);\r\n                }\r\n                // interop module default\r\n                if (comp &&\r\n                    (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\r\n                    comp = comp.default;\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && comp && !isObject(comp) && !isFunction(comp)) {\r\n                    throw new Error(`Invalid async component load result: ${comp}`);\r\n                }\r\n                resolvedComp = comp;\r\n                return comp;\r\n            })));\r\n    };\r\n    return defineComponent({\r\n        __asyncLoader: load,\r\n        name: 'AsyncComponentWrapper',\r\n        setup() {\r\n            const instance = currentInstance;\r\n            // already resolved\r\n            if (resolvedComp) {\r\n                return () => createInnerComp(resolvedComp, instance);\r\n            }\r\n            const onError = (err) => {\r\n                pendingRequest = null;\r\n                handleError(err, instance, 13 /* ASYNC_COMPONENT_LOADER */, !errorComponent /* do not throw in dev if user provided error component */);\r\n            };\r\n            // suspense-controlled or SSR.\r\n            if (( suspensible && instance.suspense) ||\r\n                (false )) {\r\n                return load()\r\n                    .then(comp => {\r\n                    return () => createInnerComp(comp, instance);\r\n                })\r\n                    .catch(err => {\r\n                    onError(err);\r\n                    return () => errorComponent\r\n                        ? createVNode(errorComponent, {\r\n                            error: err\r\n                        })\r\n                        : null;\r\n                });\r\n            }\r\n            const loaded = ref(false);\r\n            const error = ref();\r\n            const delayed = ref(!!delay);\r\n            if (delay) {\r\n                setTimeout(() => {\r\n                    delayed.value = false;\r\n                }, delay);\r\n            }\r\n            if (timeout != null) {\r\n                setTimeout(() => {\r\n                    if (!loaded.value && !error.value) {\r\n                        const err = new Error(`Async component timed out after ${timeout}ms.`);\r\n                        onError(err);\r\n                        error.value = err;\r\n                    }\r\n                }, timeout);\r\n            }\r\n            load()\r\n                .then(() => {\r\n                loaded.value = true;\r\n            })\r\n                .catch(err => {\r\n                onError(err);\r\n                error.value = err;\r\n            });\r\n            return () => {\r\n                if (loaded.value && resolvedComp) {\r\n                    return createInnerComp(resolvedComp, instance);\r\n                }\r\n                else if (error.value && errorComponent) {\r\n                    return createVNode(errorComponent, {\r\n                        error: error.value\r\n                    });\r\n                }\r\n                else if (loadingComponent && !delayed.value) {\r\n                    return createVNode(loadingComponent);\r\n                }\r\n            };\r\n        }\r\n    });\r\n}\r\nfunction createInnerComp(comp, { vnode: { ref, props, children } }) {\r\n    const vnode = createVNode(comp, props, children);\r\n    // ensure inner component inherits the async wrapper's ref owner\r\n    vnode.ref = ref;\r\n    return vnode;\r\n}\n\nconst prodEffectOptions = {\r\n    scheduler: queueJob,\r\n    // #1801, #2043 component render effects should allow recursive updates\r\n    allowRecurse: true\r\n};\r\nfunction createDevEffectOptions(instance) {\r\n    return {\r\n        scheduler: queueJob,\r\n        allowRecurse: true,\r\n        onTrack: instance.rtc ? e => invokeArrayFns(instance.rtc, e) : void 0,\r\n        onTrigger: instance.rtg ? e => invokeArrayFns(instance.rtg, e) : void 0\r\n    };\r\n}\r\nconst queuePostRenderEffect =  queueEffectWithSuspense\r\n    ;\r\nconst setRef = (rawRef, oldRawRef, parentSuspense, vnode) => {\r\n    if (isArray(rawRef)) {\r\n        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode));\r\n        return;\r\n    }\r\n    let value;\r\n    if (!vnode || isAsyncWrapper(vnode)) {\r\n        value = null;\r\n    }\r\n    else {\r\n        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {\r\n            value = vnode.component.exposed || vnode.component.proxy;\r\n        }\r\n        else {\r\n            value = vnode.el;\r\n        }\r\n    }\r\n    const { i: owner, r: ref } = rawRef;\r\n    if ((process.env.NODE_ENV !== 'production') && !owner) {\r\n        warn(`Missing ref owner context. ref cannot be used on hoisted vnodes. ` +\r\n            `A vnode with ref must be created inside the render function.`);\r\n        return;\r\n    }\r\n    const oldRef = oldRawRef && oldRawRef.r;\r\n    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;\r\n    const setupState = owner.setupState;\r\n    // unset old ref\r\n    if (oldRef != null && oldRef !== ref) {\r\n        if (isString(oldRef)) {\r\n            refs[oldRef] = null;\r\n            if (hasOwn(setupState, oldRef)) {\r\n                setupState[oldRef] = null;\r\n            }\r\n        }\r\n        else if (isRef(oldRef)) {\r\n            oldRef.value = null;\r\n        }\r\n    }\r\n    if (isString(ref)) {\r\n        const doSet = () => {\r\n            refs[ref] = value;\r\n            if (hasOwn(setupState, ref)) {\r\n                setupState[ref] = value;\r\n            }\r\n        };\r\n        // #1789: for non-null values, set them after render\r\n        // null values means this is unmount and it should not overwrite another\r\n        // ref with the same key\r\n        if (value) {\r\n            doSet.id = -1;\r\n            queuePostRenderEffect(doSet, parentSuspense);\r\n        }\r\n        else {\r\n            doSet();\r\n        }\r\n    }\r\n    else if (isRef(ref)) {\r\n        const doSet = () => {\r\n            ref.value = value;\r\n        };\r\n        if (value) {\r\n            doSet.id = -1;\r\n            queuePostRenderEffect(doSet, parentSuspense);\r\n        }\r\n        else {\r\n            doSet();\r\n        }\r\n    }\r\n    else if (isFunction(ref)) {\r\n        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn('Invalid template ref type:', value, `(${typeof value})`);\r\n    }\r\n};\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nfunction createRenderer(options) {\r\n    return baseCreateRenderer(options);\r\n}\r\n// Separate API for creating hydration-enabled renderer.\r\n// Hydration logic is only used when calling this function, making it\r\n// tree-shakable.\r\nfunction createHydrationRenderer(options) {\r\n    return baseCreateRenderer(options, createHydrationFunctions);\r\n}\r\n// implementation\r\nfunction baseCreateRenderer(options, createHydrationFns) {\r\n    // compile-time feature flags check\r\n    {\r\n        initFeatureFlags();\r\n    }\r\n    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, forcePatchProp: hostForcePatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;\r\n    // Note: functions inside this closure should use `const xxx = () => {}`\r\n    // style in order to prevent being inlined by minifiers.\r\n    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, optimized = false) => {\r\n        // patching & not same type, unmount old tree\r\n        if (n1 && !isSameVNodeType(n1, n2)) {\r\n            anchor = getNextHostNode(n1);\r\n            unmount(n1, parentComponent, parentSuspense, true);\r\n            n1 = null;\r\n        }\r\n        if (n2.patchFlag === -2 /* BAIL */) {\r\n            optimized = false;\r\n            n2.dynamicChildren = null;\r\n        }\r\n        const { type, ref, shapeFlag } = n2;\r\n        switch (type) {\r\n            case Text:\r\n                processText(n1, n2, container, anchor);\r\n                break;\r\n            case Comment:\r\n                processCommentNode(n1, n2, container, anchor);\r\n                break;\r\n            case Static:\r\n                if (n1 == null) {\r\n                    mountStaticNode(n2, container, anchor, isSVG);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    patchStaticNode(n1, n2, container, isSVG);\r\n                }\r\n                break;\r\n            case Fragment:\r\n                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, internals);\r\n                }\r\n                else if ( shapeFlag & 128 /* SUSPENSE */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, internals);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid VNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        // set ref\r\n        if (ref != null && parentComponent) {\r\n            setRef(ref, n1 && n1.ref, parentSuspense, n2);\r\n        }\r\n    };\r\n    const processText = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);\r\n        }\r\n        else {\r\n            const el = (n2.el = n1.el);\r\n            if (n2.children !== n1.children) {\r\n                hostSetText(el, n2.children);\r\n            }\r\n        }\r\n    };\r\n    const processCommentNode = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);\r\n        }\r\n        else {\r\n            // there's no support for dynamic comments\r\n            n2.el = n1.el;\r\n        }\r\n    };\r\n    const mountStaticNode = (n2, container, anchor, isSVG) => {\r\n        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n    };\r\n    /**\r\n     * Dev / HMR only\r\n     */\r\n    const patchStaticNode = (n1, n2, container, isSVG) => {\r\n        // static nodes are only patched during dev for HMR\r\n        if (n2.children !== n1.children) {\r\n            const anchor = hostNextSibling(n1.anchor);\r\n            // remove existing\r\n            removeStaticNode(n1);\r\n            [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n        }\r\n        else {\r\n            n2.el = n1.el;\r\n            n2.anchor = n1.anchor;\r\n        }\r\n    };\r\n    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostInsert(el, container, nextSibling);\r\n            el = next;\r\n        }\r\n        hostInsert(anchor, container, nextSibling);\r\n    };\r\n    const removeStaticNode = ({ el, anchor }) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostRemove(el);\r\n            el = next;\r\n        }\r\n        hostRemove(anchor);\r\n    };\r\n    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        isSVG = isSVG || n2.type === 'svg';\r\n        if (n1 == null) {\r\n            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n        }\r\n        else {\r\n            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, optimized);\r\n        }\r\n    };\r\n    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        let el;\r\n        let vnodeHook;\r\n        const { type, props, shapeFlag, transition, scopeId, patchFlag, dirs } = vnode;\r\n        if (!(process.env.NODE_ENV !== 'production') &&\r\n            vnode.el &&\r\n            hostCloneNode !== undefined &&\r\n            patchFlag === -1 /* HOISTED */) {\r\n            // If a vnode has non-null el, it means it's being reused.\r\n            // Only static vnodes can be reused, so its mounted DOM nodes should be\r\n            // exactly the same, and we can simply do a clone here.\r\n            // only do this in production since cloned trees cannot be HMR updated.\r\n            el = vnode.el = hostCloneNode(vnode.el);\r\n        }\r\n        else {\r\n            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is);\r\n            // mount children first, since some props may rely on child content\r\n            // being already rendered, e.g. `<select value>`\r\n            if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                hostSetElementText(el, vnode.children);\r\n            }\r\n            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', optimized || !!vnode.dynamicChildren);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                for (const key in props) {\r\n                    if (!isReservedProp(key)) {\r\n                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n                if ((vnodeHook = props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                }\r\n            }\r\n            // scopeId\r\n            setScopeId(el, scopeId, vnode, parentComponent);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            Object.defineProperty(el, '__vnode', {\r\n                value: vnode,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(el, '__vueParentComponent', {\r\n                value: parentComponent,\r\n                enumerable: false\r\n            });\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n        }\r\n        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved\r\n        // #1689 For inside suspense + suspense resolved case, just call it\r\n        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&\r\n            transition &&\r\n            !transition.persisted;\r\n        if (needCallTransitionHooks) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        hostInsert(el, container, anchor);\r\n        if ((vnodeHook = props && props.onVnodeMounted) ||\r\n            needCallTransitionHooks ||\r\n            dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                needCallTransitionHooks && transition.enter(el);\r\n                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const setScopeId = (el, scopeId, vnode, parentComponent) => {\r\n        if (scopeId) {\r\n            hostSetScopeId(el, scopeId);\r\n        }\r\n        if (parentComponent) {\r\n            const treeOwnerId = parentComponent.type.__scopeId;\r\n            // vnode's own scopeId and the current patched component's scopeId is\r\n            // different - this is a slot content node.\r\n            if (treeOwnerId && treeOwnerId !== scopeId) {\r\n                hostSetScopeId(el, treeOwnerId + '-s');\r\n            }\r\n            let subTree = parentComponent.subTree;\r\n            if ((process.env.NODE_ENV !== 'production') && subTree.type === Fragment) {\r\n                subTree =\r\n                    filterSingleRoot(subTree.children) || subTree;\r\n            }\r\n            if (vnode === subTree) {\r\n                setScopeId(el, parentComponent.vnode.scopeId, parentComponent.vnode, parentComponent.parent);\r\n            }\r\n        }\r\n    };\r\n    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, optimized, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            const child = (children[i] = optimized\r\n                ? cloneIfMounted(children[i])\r\n                : normalizeVNode(children[i]));\r\n            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n        }\r\n    };\r\n    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const el = (n2.el = n1.el);\r\n        let { patchFlag, dynamicChildren, dirs } = n2;\r\n        // #1426 take the old vnode's patch flag into account since user may clone a\r\n        // compiler-generated vnode, which de-opts to FULL_PROPS\r\n        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;\r\n        const oldProps = n1.props || EMPTY_OBJ;\r\n        const newProps = n2.props || EMPTY_OBJ;\r\n        let vnodeHook;\r\n        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (patchFlag > 0) {\r\n            // the presence of a patchFlag means this element's render code was\r\n            // generated by the compiler and can take the fast path.\r\n            // in this path old node and new node are guaranteed to have the same shape\r\n            // (i.e. at the exact same position in the source template)\r\n            if (patchFlag & 16 /* FULL_PROPS */) {\r\n                // element props contain dynamic keys, full diff needed\r\n                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n            }\r\n            else {\r\n                // class\r\n                // this flag is matched when the element has dynamic class bindings.\r\n                if (patchFlag & 2 /* CLASS */) {\r\n                    if (oldProps.class !== newProps.class) {\r\n                        hostPatchProp(el, 'class', null, newProps.class, isSVG);\r\n                    }\r\n                }\r\n                // style\r\n                // this flag is matched when the element has dynamic style bindings\r\n                if (patchFlag & 4 /* STYLE */) {\r\n                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);\r\n                }\r\n                // props\r\n                // This flag is matched when the element has dynamic prop/attr bindings\r\n                // other than class and style. The keys of dynamic prop/attrs are saved for\r\n                // faster iteration.\r\n                // Note dynamic keys like :[foo]=\"bar\" will cause this optimization to\r\n                // bail out and go through a full diff because we need to unset the old key\r\n                if (patchFlag & 8 /* PROPS */) {\r\n                    // if the flag is present then dynamicProps must be non-null\r\n                    const propsToUpdate = n2.dynamicProps;\r\n                    for (let i = 0; i < propsToUpdate.length; i++) {\r\n                        const key = propsToUpdate[i];\r\n                        const prev = oldProps[key];\r\n                        const next = newProps[key];\r\n                        if (next !== prev ||\r\n                            (hostForcePatchProp && hostForcePatchProp(el, key))) {\r\n                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // text\r\n            // This flag is matched when the element has only dynamic text children.\r\n            if (patchFlag & 1 /* TEXT */) {\r\n                if (n1.children !== n2.children) {\r\n                    hostSetElementText(el, n2.children);\r\n                }\r\n            }\r\n        }\r\n        else if (!optimized && dynamicChildren == null) {\r\n            // unoptimized, full diff\r\n            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n        }\r\n        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';\r\n        if (dynamicChildren) {\r\n            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG);\r\n            if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                traverseStaticChildren(n1, n2);\r\n            }\r\n        }\r\n        else if (!optimized) {\r\n            // full diff\r\n            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG);\r\n        }\r\n        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    // The fast path for blocks.\r\n    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG) => {\r\n        for (let i = 0; i < newChildren.length; i++) {\r\n            const oldVNode = oldChildren[i];\r\n            const newVNode = newChildren[i];\r\n            // Determine the container (parent element) for the patch.\r\n            const container = \r\n            // - In the case of a Fragment, we need to provide the actual parent\r\n            // of the Fragment itself so it can move its children.\r\n            oldVNode.type === Fragment ||\r\n                // - In the case of different nodes, there is going to be a replacement\r\n                // which also requires the correct parent container\r\n                !isSameVNodeType(oldVNode, newVNode) ||\r\n                // - In the case of a component, it could contain anything.\r\n                oldVNode.shapeFlag & 6 /* COMPONENT */ ||\r\n                oldVNode.shapeFlag & 64 /* TELEPORT */\r\n                ? hostParentNode(oldVNode.el)\r\n                : // In other cases, the parent container is not actually used so we\r\n                    // just pass the block element here to avoid a DOM parentNode call.\r\n                    fallbackContainer;\r\n            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, true);\r\n        }\r\n    };\r\n    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\r\n        if (oldProps !== newProps) {\r\n            for (const key in newProps) {\r\n                // empty string is not valid prop\r\n                if (isReservedProp(key))\r\n                    continue;\r\n                const next = newProps[key];\r\n                const prev = oldProps[key];\r\n                if (next !== prev ||\r\n                    (hostForcePatchProp && hostForcePatchProp(el, key))) {\r\n                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                }\r\n            }\r\n            if (oldProps !== EMPTY_OBJ) {\r\n                for (const key in oldProps) {\r\n                    if (!isReservedProp(key) && !(key in newProps)) {\r\n                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));\r\n        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));\r\n        let { patchFlag, dynamicChildren } = n2;\r\n        if (patchFlag > 0) {\r\n            optimized = true;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (n1 == null) {\r\n            hostInsert(fragmentStartAnchor, container, anchor);\r\n            hostInsert(fragmentEndAnchor, container, anchor);\r\n            // a fragment can only have array children\r\n            // since they are either generated by the compiler, or implicitly created\r\n            // from arrays.\r\n            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, optimized);\r\n        }\r\n        else {\r\n            if (patchFlag > 0 &&\r\n                patchFlag & 64 /* STABLE_FRAGMENT */ &&\r\n                dynamicChildren) {\r\n                // a stable fragment (template root or <template v-for>) doesn't need to\r\n                // patch children order, but it may contain dynamicChildren.\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG);\r\n                if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                    traverseStaticChildren(n1, n2);\r\n                }\r\n                else if (\r\n                // #2080 if the stable fragment has a key, it's a <template v-for> that may\r\n                //  get moved around. Make sure all root level vnodes inherit el.\r\n                // #2134 or if it's a component root, it may also get moved around\r\n                // as the component is being moved.\r\n                n2.key != null ||\r\n                    (parentComponent && n2 === parentComponent.subTree)) {\r\n                    traverseStaticChildren(n1, n2, true /* shallow */);\r\n                }\r\n            }\r\n            else {\r\n                // keyed / unkeyed, or manual fragments.\r\n                // for keyed & unkeyed, since they are compiler generated from v-for,\r\n                // each child is guaranteed to be a block so the fragment will never\r\n                // have dynamicChildren.\r\n                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n        }\r\n    };\r\n    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        if (n1 == null) {\r\n            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);\r\n            }\r\n            else {\r\n                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n        }\r\n        else {\r\n            updateComponent(n1, n2, optimized);\r\n        }\r\n    };\r\n    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            registerHMR(instance);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            pushWarningContext(initialVNode);\r\n            startMeasure(instance, `mount`);\r\n        }\r\n        // inject renderer internals for keepAlive\r\n        if (isKeepAlive(initialVNode)) {\r\n            instance.ctx.renderer = internals;\r\n        }\r\n        // resolve props and slots for setup context\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            startMeasure(instance, `init`);\r\n        }\r\n        setupComponent(instance);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            endMeasure(instance, `init`);\r\n        }\r\n        // setup() is async. This component relies on async logic to be resolved\r\n        // before proceeding\r\n        if ( instance.asyncDep) {\r\n            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\r\n            // Give it a placeholder if this is not hydration\r\n            // TODO handle self-defined fallback\r\n            if (!initialVNode.el) {\r\n                const placeholder = (instance.subTree = createVNode(Comment));\r\n                processCommentNode(null, placeholder, container, anchor);\r\n            }\r\n            return;\r\n        }\r\n        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            popWarningContext();\r\n            endMeasure(instance, `mount`);\r\n        }\r\n    };\r\n    const updateComponent = (n1, n2, optimized) => {\r\n        const instance = (n2.component = n1.component);\r\n        if (shouldUpdateComponent(n1, n2, optimized)) {\r\n            if (\r\n                instance.asyncDep &&\r\n                !instance.asyncResolved) {\r\n                // async & still pending - just update props and slots\r\n                // since the component's reactive effect for render isn't set-up yet\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(n2);\r\n                }\r\n                updateComponentPreRender(instance, n2, optimized);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                // normal update\r\n                instance.next = n2;\r\n                // in case the child component is also queued, remove it to avoid\r\n                // double updating the same child component in the same flush.\r\n                invalidateJob(instance.update);\r\n                // instance.update is the reactive effect runner.\r\n                instance.update();\r\n            }\r\n        }\r\n        else {\r\n            // no update needed. just copy over properties\r\n            n2.component = n1.component;\r\n            n2.el = n1.el;\r\n            instance.vnode = n2;\r\n        }\r\n    };\r\n    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\r\n        // create reactive effect for rendering\r\n        instance.update = effect(function componentEffect() {\r\n            if (!instance.isMounted) {\r\n                let vnodeHook;\r\n                const { el, props } = initialVNode;\r\n                const { bm, m, parent } = instance;\r\n                // beforeMount hook\r\n                if (bm) {\r\n                    invokeArrayFns(bm);\r\n                }\r\n                // onVnodeBeforeMount\r\n                if ((vnodeHook = props && props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parent, initialVNode);\r\n                }\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const subTree = (instance.subTree = renderComponentRoot(instance));\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                if (el && hydrateNode) {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `hydrate`);\r\n                    }\r\n                    // vnode has adopted host node - perform hydration instead of mount.\r\n                    hydrateNode(initialVNode.el, subTree, instance, parentSuspense);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `hydrate`);\r\n                    }\r\n                }\r\n                else {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `patch`);\r\n                    }\r\n                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `patch`);\r\n                    }\r\n                    initialVNode.el = subTree.el;\r\n                }\r\n                // mounted hook\r\n                if (m) {\r\n                    queuePostRenderEffect(m, parentSuspense);\r\n                }\r\n                // onVnodeMounted\r\n                if ((vnodeHook = props && props.onVnodeMounted)) {\r\n                    queuePostRenderEffect(() => {\r\n                        invokeVNodeHook(vnodeHook, parent, initialVNode);\r\n                    }, parentSuspense);\r\n                }\r\n                // activated hook for keep-alive roots.\r\n                // #1742 activated hook must be accessed after first render\r\n                // since the hook may be injected by a child keep-alive\r\n                const { a } = instance;\r\n                if (a &&\r\n                    initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n                    queuePostRenderEffect(a, parentSuspense);\r\n                }\r\n                instance.isMounted = true;\r\n            }\r\n            else {\r\n                // updateComponent\r\n                // This is triggered by mutation of component's own state (next: null)\r\n                // OR parent calling processComponent (next: VNode)\r\n                let { next, bu, u, parent, vnode } = instance;\r\n                let originNext = next;\r\n                let vnodeHook;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(next || instance.vnode);\r\n                }\r\n                if (next) {\r\n                    next.el = vnode.el;\r\n                    updateComponentPreRender(instance, next, optimized);\r\n                }\r\n                else {\r\n                    next = vnode;\r\n                }\r\n                // beforeUpdate hook\r\n                if (bu) {\r\n                    invokeArrayFns(bu);\r\n                }\r\n                // onVnodeBeforeUpdate\r\n                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {\r\n                    invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                }\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const nextTree = renderComponentRoot(instance);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                const prevTree = instance.subTree;\r\n                instance.subTree = nextTree;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `patch`);\r\n                }\r\n                patch(prevTree, nextTree, \r\n                // parent may have changed if it's in a teleport\r\n                hostParentNode(prevTree.el), \r\n                // anchor may have changed if it's in a fragment\r\n                getNextHostNode(prevTree), instance, parentSuspense, isSVG);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `patch`);\r\n                }\r\n                next.el = nextTree.el;\r\n                if (originNext === null) {\r\n                    // self-triggered update. In case of HOC, update parent component\r\n                    // vnode el. HOC is indicated by parent instance's subTree pointing\r\n                    // to child component's vnode\r\n                    updateHOCHostEl(instance, nextTree.el);\r\n                }\r\n                // updated hook\r\n                if (u) {\r\n                    queuePostRenderEffect(u, parentSuspense);\r\n                }\r\n                // onVnodeUpdated\r\n                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {\r\n                    queuePostRenderEffect(() => {\r\n                        invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                    }, parentSuspense);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentUpdated(instance);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n            }\r\n        }, (process.env.NODE_ENV !== 'production') ? createDevEffectOptions(instance) : prodEffectOptions);\r\n    };\r\n    const updateComponentPreRender = (instance, nextVNode, optimized) => {\r\n        nextVNode.component = instance;\r\n        const prevProps = instance.vnode.props;\r\n        instance.vnode = nextVNode;\r\n        instance.next = null;\r\n        updateProps(instance, nextVNode.props, prevProps, optimized);\r\n        updateSlots(instance, nextVNode.children);\r\n        // props update may have triggered pre-flush watchers.\r\n        // flush them before the render update.\r\n        flushPreFlushCbs(undefined, instance.update);\r\n    };\r\n    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized = false) => {\r\n        const c1 = n1 && n1.children;\r\n        const prevShapeFlag = n1 ? n1.shapeFlag : 0;\r\n        const c2 = n2.children;\r\n        const { patchFlag, shapeFlag } = n2;\r\n        // fast path\r\n        if (patchFlag > 0) {\r\n            if (patchFlag & 128 /* KEYED_FRAGMENT */) {\r\n                // this could be either fully-keyed or mixed (some keyed some not)\r\n                // presence of patchFlag means children are guaranteed to be arrays\r\n                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                return;\r\n            }\r\n            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {\r\n                // unkeyed\r\n                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                return;\r\n            }\r\n        }\r\n        // children has 3 possibilities: text, array or no children.\r\n        if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n            // text children fast path\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                unmountChildren(c1, parentComponent, parentSuspense);\r\n            }\r\n            if (c2 !== c1) {\r\n                hostSetElementText(container, c2);\r\n            }\r\n        }\r\n        else {\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                // prev children was array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    // two arrays, cannot assume anything, do full diff\r\n                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                }\r\n                else {\r\n                    // no new children, just unmount old\r\n                    unmountChildren(c1, parentComponent, parentSuspense, true);\r\n                }\r\n            }\r\n            else {\r\n                // prev children was text OR null\r\n                // new children is array OR null\r\n                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                    hostSetElementText(container, '');\r\n                }\r\n                // mount new if array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        c1 = c1 || EMPTY_ARR;\r\n        c2 = c2 || EMPTY_ARR;\r\n        const oldLength = c1.length;\r\n        const newLength = c2.length;\r\n        const commonLength = Math.min(oldLength, newLength);\r\n        let i;\r\n        for (i = 0; i < commonLength; i++) {\r\n            const nextChild = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, optimized);\r\n        }\r\n        if (oldLength > newLength) {\r\n            // remove old\r\n            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);\r\n        }\r\n        else {\r\n            // mount new\r\n            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, commonLength);\r\n        }\r\n    };\r\n    // can be all-keyed or mixed\r\n    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        let i = 0;\r\n        const l2 = c2.length;\r\n        let e1 = c1.length - 1; // prev ending index\r\n        let e2 = l2 - 1; // next ending index\r\n        // 1. sync from start\r\n        // (a b) c\r\n        // (a b) d e\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[i];\r\n            const n2 = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        // 2. sync from end\r\n        // a (b c)\r\n        // d e (b c)\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[e1];\r\n            const n2 = (c2[e2] = optimized\r\n                ? cloneIfMounted(c2[e2])\r\n                : normalizeVNode(c2[e2]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            e1--;\r\n            e2--;\r\n        }\r\n        // 3. common sequence + mount\r\n        // (a b)\r\n        // (a b) c\r\n        // i = 2, e1 = 1, e2 = 2\r\n        // (a b)\r\n        // c (a b)\r\n        // i = 0, e1 = -1, e2 = 0\r\n        if (i > e1) {\r\n            if (i <= e2) {\r\n                const nextPos = e2 + 1;\r\n                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\r\n                while (i <= e2) {\r\n                    patch(null, (c2[i] = optimized\r\n                        ? cloneIfMounted(c2[i])\r\n                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG);\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        // 4. common sequence + unmount\r\n        // (a b) c\r\n        // (a b)\r\n        // i = 2, e1 = 2, e2 = 1\r\n        // a (b c)\r\n        // (b c)\r\n        // i = 0, e1 = 0, e2 = -1\r\n        else if (i > e2) {\r\n            while (i <= e1) {\r\n                unmount(c1[i], parentComponent, parentSuspense, true);\r\n                i++;\r\n            }\r\n        }\r\n        // 5. unknown sequence\r\n        // [i ... e1 + 1]: a b [c d e] f g\r\n        // [i ... e2 + 1]: a b [e d c h] f g\r\n        // i = 2, e1 = 4, e2 = 5\r\n        else {\r\n            const s1 = i; // prev starting index\r\n            const s2 = i; // next starting index\r\n            // 5.1 build key:index map for newChildren\r\n            const keyToNewIndexMap = new Map();\r\n            for (i = s2; i <= e2; i++) {\r\n                const nextChild = (c2[i] = optimized\r\n                    ? cloneIfMounted(c2[i])\r\n                    : normalizeVNode(c2[i]));\r\n                if (nextChild.key != null) {\r\n                    if ((process.env.NODE_ENV !== 'production') && keyToNewIndexMap.has(nextChild.key)) {\r\n                        warn(`Duplicate keys found during update:`, JSON.stringify(nextChild.key), `Make sure keys are unique.`);\r\n                    }\r\n                    keyToNewIndexMap.set(nextChild.key, i);\r\n                }\r\n            }\r\n            // 5.2 loop through old children left to be patched and try to patch\r\n            // matching nodes & remove nodes that are no longer present\r\n            let j;\r\n            let patched = 0;\r\n            const toBePatched = e2 - s2 + 1;\r\n            let moved = false;\r\n            // used to track whether any node has moved\r\n            let maxNewIndexSoFar = 0;\r\n            // works as Map<newIndex, oldIndex>\r\n            // Note that oldIndex is offset by +1\r\n            // and oldIndex = 0 is a special value indicating the new node has\r\n            // no corresponding old node.\r\n            // used for determining longest stable subsequence\r\n            const newIndexToOldIndexMap = new Array(toBePatched);\r\n            for (i = 0; i < toBePatched; i++)\r\n                newIndexToOldIndexMap[i] = 0;\r\n            for (i = s1; i <= e1; i++) {\r\n                const prevChild = c1[i];\r\n                if (patched >= toBePatched) {\r\n                    // all new children have been patched so this can only be a removal\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                    continue;\r\n                }\r\n                let newIndex;\r\n                if (prevChild.key != null) {\r\n                    newIndex = keyToNewIndexMap.get(prevChild.key);\r\n                }\r\n                else {\r\n                    // key-less node, try to locate a key-less node of the same type\r\n                    for (j = s2; j <= e2; j++) {\r\n                        if (newIndexToOldIndexMap[j - s2] === 0 &&\r\n                            isSameVNodeType(prevChild, c2[j])) {\r\n                            newIndex = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (newIndex === undefined) {\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                }\r\n                else {\r\n                    newIndexToOldIndexMap[newIndex - s2] = i + 1;\r\n                    if (newIndex >= maxNewIndexSoFar) {\r\n                        maxNewIndexSoFar = newIndex;\r\n                    }\r\n                    else {\r\n                        moved = true;\r\n                    }\r\n                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, optimized);\r\n                    patched++;\r\n                }\r\n            }\r\n            // 5.3 move and mount\r\n            // generate longest stable subsequence only when nodes have moved\r\n            const increasingNewIndexSequence = moved\r\n                ? getSequence(newIndexToOldIndexMap)\r\n                : EMPTY_ARR;\r\n            j = increasingNewIndexSequence.length - 1;\r\n            // looping backwards so that we can use last patched node as anchor\r\n            for (i = toBePatched - 1; i >= 0; i--) {\r\n                const nextIndex = s2 + i;\r\n                const nextChild = c2[nextIndex];\r\n                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\r\n                if (newIndexToOldIndexMap[i] === 0) {\r\n                    // mount new\r\n                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG);\r\n                }\r\n                else if (moved) {\r\n                    // move if:\r\n                    // There is no stable subsequence (e.g. a reverse)\r\n                    // OR current node is not among the stable sequence\r\n                    if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n                        move(nextChild, container, anchor, 2 /* REORDER */);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\r\n        const { el, type, transition, children, shapeFlag } = vnode;\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            move(vnode.component.subTree, container, anchor, moveType);\r\n            return;\r\n        }\r\n        if ( shapeFlag & 128 /* SUSPENSE */) {\r\n            vnode.suspense.move(container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type.move(vnode, container, anchor, internals);\r\n            return;\r\n        }\r\n        if (type === Fragment) {\r\n            hostInsert(el, container, anchor);\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, anchor, moveType);\r\n            }\r\n            hostInsert(vnode.anchor, container, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            moveStaticNode(vnode, container, anchor);\r\n            return;\r\n        }\r\n        // single nodes\r\n        const needTransition = moveType !== 2 /* REORDER */ &&\r\n            shapeFlag & 1 /* ELEMENT */ &&\r\n            transition;\r\n        if (needTransition) {\r\n            if (moveType === 0 /* ENTER */) {\r\n                transition.beforeEnter(el);\r\n                hostInsert(el, container, anchor);\r\n                queuePostRenderEffect(() => transition.enter(el), parentSuspense);\r\n            }\r\n            else {\r\n                const { leave, delayLeave, afterLeave } = transition;\r\n                const remove = () => hostInsert(el, container, anchor);\r\n                const performLeave = () => {\r\n                    leave(el, () => {\r\n                        remove();\r\n                        afterLeave && afterLeave();\r\n                    });\r\n                };\r\n                if (delayLeave) {\r\n                    delayLeave(el, remove, performLeave);\r\n                }\r\n                else {\r\n                    performLeave();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            hostInsert(el, container, anchor);\r\n        }\r\n    };\r\n    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\r\n        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;\r\n        // unset ref\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, null);\r\n        }\r\n        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n            parentComponent.ctx.deactivate(vnode);\r\n            return;\r\n        }\r\n        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;\r\n        let vnodeHook;\r\n        if ((vnodeHook = props && props.onVnodeBeforeUnmount)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n        }\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            unmountComponent(vnode.component, parentSuspense, doRemove);\r\n        }\r\n        else {\r\n            if ( shapeFlag & 128 /* SUSPENSE */) {\r\n                vnode.suspense.unmount(parentSuspense, doRemove);\r\n                return;\r\n            }\r\n            if (shouldInvokeDirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');\r\n            }\r\n            if (dynamicChildren &&\r\n                // #1153: fast path should not be taken for non-stable (v-for) fragments\r\n                (type !== Fragment ||\r\n                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {\r\n                // fast path for block nodes: only need to unmount dynamic children.\r\n                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);\r\n            }\r\n            else if ((type === Fragment &&\r\n                (patchFlag & 128 /* KEYED_FRAGMENT */ ||\r\n                    patchFlag & 256 /* UNKEYED_FRAGMENT */)) ||\r\n                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {\r\n                unmountChildren(children, parentComponent, parentSuspense);\r\n            }\r\n            // an unmounted teleport should always remove its children if not disabled\r\n            if (shapeFlag & 64 /* TELEPORT */ &&\r\n                (doRemove || !isTeleportDisabled(vnode.props))) {\r\n                vnode.type.remove(vnode, internals);\r\n            }\r\n            if (doRemove) {\r\n                remove(vnode);\r\n            }\r\n        }\r\n        if ((vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                shouldInvokeDirs &&\r\n                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const remove = vnode => {\r\n        const { type, el, anchor, transition } = vnode;\r\n        if (type === Fragment) {\r\n            removeFragment(el, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            removeStaticNode(vnode);\r\n            return;\r\n        }\r\n        const performRemove = () => {\r\n            hostRemove(el);\r\n            if (transition && !transition.persisted && transition.afterLeave) {\r\n                transition.afterLeave();\r\n            }\r\n        };\r\n        if (vnode.shapeFlag & 1 /* ELEMENT */ &&\r\n            transition &&\r\n            !transition.persisted) {\r\n            const { leave, delayLeave } = transition;\r\n            const performLeave = () => leave(el, performRemove);\r\n            if (delayLeave) {\r\n                delayLeave(vnode.el, performRemove, performLeave);\r\n            }\r\n            else {\r\n                performLeave();\r\n            }\r\n        }\r\n        else {\r\n            performRemove();\r\n        }\r\n    };\r\n    const removeFragment = (cur, end) => {\r\n        // For fragments, directly remove all contained DOM nodes.\r\n        // (fragment child nodes cannot have transition)\r\n        let next;\r\n        while (cur !== end) {\r\n            next = hostNextSibling(cur);\r\n            hostRemove(cur);\r\n            cur = next;\r\n        }\r\n        hostRemove(end);\r\n    };\r\n    const unmountComponent = (instance, parentSuspense, doRemove) => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            unregisterHMR(instance);\r\n        }\r\n        const { bum, effects, update, subTree, um } = instance;\r\n        // beforeUnmount hook\r\n        if (bum) {\r\n            invokeArrayFns(bum);\r\n        }\r\n        if (effects) {\r\n            for (let i = 0; i < effects.length; i++) {\r\n                stop(effects[i]);\r\n            }\r\n        }\r\n        // update may be null if a component is unmounted before its async\r\n        // setup has resolved.\r\n        if (update) {\r\n            stop(update);\r\n            unmount(subTree, instance, parentSuspense, doRemove);\r\n        }\r\n        // unmounted hook\r\n        if (um) {\r\n            queuePostRenderEffect(um, parentSuspense);\r\n        }\r\n        queuePostRenderEffect(() => {\r\n            instance.isUnmounted = true;\r\n        }, parentSuspense);\r\n        // A component with async dep inside a pending suspense is unmounted before\r\n        // its async dep resolves. This should remove the dep from the suspense, and\r\n        // cause the suspense to resolve immediately if that was the last dep.\r\n        if (\r\n            parentSuspense &&\r\n            parentSuspense.pendingBranch &&\r\n            !parentSuspense.isUnmounted &&\r\n            instance.asyncDep &&\r\n            !instance.asyncResolved &&\r\n            instance.suspenseId === parentSuspense.pendingId) {\r\n            parentSuspense.deps--;\r\n            if (parentSuspense.deps === 0) {\r\n                parentSuspense.resolve();\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentRemoved(instance);\r\n        }\r\n    };\r\n    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\r\n        }\r\n    };\r\n    const getNextHostNode = vnode => {\r\n        if (vnode.shapeFlag & 6 /* COMPONENT */) {\r\n            return getNextHostNode(vnode.component.subTree);\r\n        }\r\n        if ( vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n            return vnode.suspense.next();\r\n        }\r\n        return hostNextSibling((vnode.anchor || vnode.el));\r\n    };\r\n    const render = (vnode, container) => {\r\n        if (vnode == null) {\r\n            if (container._vnode) {\r\n                unmount(container._vnode, null, null, true);\r\n            }\r\n        }\r\n        else {\r\n            patch(container._vnode || null, vnode, container);\r\n        }\r\n        flushPostFlushCbs();\r\n        container._vnode = vnode;\r\n    };\r\n    const internals = {\r\n        p: patch,\r\n        um: unmount,\r\n        m: move,\r\n        r: remove,\r\n        mt: mountComponent,\r\n        mc: mountChildren,\r\n        pc: patchChildren,\r\n        pbc: patchBlockChildren,\r\n        n: getNextHostNode,\r\n        o: options\r\n    };\r\n    let hydrate;\r\n    let hydrateNode;\r\n    if (createHydrationFns) {\r\n        [hydrate, hydrateNode] = createHydrationFns(internals);\r\n    }\r\n    return {\r\n        render,\r\n        hydrate,\r\n        createApp: createAppAPI(render, hydrate)\r\n    };\r\n}\r\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\r\n    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [\r\n        vnode,\r\n        prevVNode\r\n    ]);\r\n}\r\n/**\r\n * #1156\r\n * When a component is HMR-enabled, we need to make sure that all static nodes\r\n * inside a block also inherit the DOM element from the previous tree so that\r\n * HMR updates (which are full updates) can retrieve the element for patching.\r\n *\r\n * #2080\r\n * Inside keyed `template` fragment static children, if a fragment is moved,\r\n * the children will always moved so that need inherit el form previous nodes\r\n * to ensure correct moved position.\r\n */\r\nfunction traverseStaticChildren(n1, n2, shallow = false) {\r\n    const ch1 = n1.children;\r\n    const ch2 = n2.children;\r\n    if (isArray(ch1) && isArray(ch2)) {\r\n        for (let i = 0; i < ch1.length; i++) {\r\n            // this is only called in the optimized path so array children are\r\n            // guaranteed to be vnodes\r\n            const c1 = ch1[i];\r\n            let c2 = ch2[i];\r\n            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {\r\n                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {\r\n                    c2 = ch2[i] = cloneIfMounted(ch2[i]);\r\n                    c2.el = c1.el;\r\n                }\r\n                if (!shallow)\r\n                    traverseStaticChildren(c1, c2);\r\n            }\r\n            // also inherit for comment nodes, but not placeholders (e.g. v-if which\r\n            // would have received .el during block patch)\r\n            if ((process.env.NODE_ENV !== 'production') && c2.type === Comment && !c2.el) {\r\n                c2.el = c1.el;\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction getSequence(arr) {\r\n    const p = arr.slice();\r\n    const result = [0];\r\n    let i, j, u, v, c;\r\n    const len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        const arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nconst isTeleport = (type) => type.__isTeleport;\r\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === '');\r\nconst isTargetSVG = (target) => typeof SVGElement !== 'undefined' && target instanceof SVGElement;\r\nconst resolveTarget = (props, select) => {\r\n    const targetSelector = props && props.to;\r\n    if (isString(targetSelector)) {\r\n        if (!select) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current renderer does not support string target for Teleports. ` +\r\n                    `(missing querySelector renderer option)`);\r\n            return null;\r\n        }\r\n        else {\r\n            const target = select(targetSelector);\r\n            if (!target) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(`Failed to locate Teleport target with selector \"${targetSelector}\". ` +\r\n                        `Note the target element must exist before the component is mounted - ` +\r\n                        `i.e. the target cannot be rendered by the component itself, and ` +\r\n                        `ideally should be outside of the entire Vue component tree.`);\r\n            }\r\n            return target;\r\n        }\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && !targetSelector && !isTeleportDisabled(props)) {\r\n            warn(`Invalid Teleport target: ${targetSelector}`);\r\n        }\r\n        return targetSelector;\r\n    }\r\n};\r\nconst TeleportImpl = {\r\n    __isTeleport: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized, internals) {\r\n        const { mc: mountChildren, pc: patchChildren, pbc: patchBlockChildren, o: { insert, querySelector, createText, createComment } } = internals;\r\n        const disabled = isTeleportDisabled(n2.props);\r\n        const { shapeFlag, children } = n2;\r\n        if (n1 == null) {\r\n            // insert anchors in the main view\r\n            const placeholder = (n2.el = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport start')\r\n                : createText(''));\r\n            const mainAnchor = (n2.anchor = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport end')\r\n                : createText(''));\r\n            insert(placeholder, container, anchor);\r\n            insert(mainAnchor, container, anchor);\r\n            const target = (n2.target = resolveTarget(n2.props, querySelector));\r\n            const targetAnchor = (n2.targetAnchor = createText(''));\r\n            if (target) {\r\n                insert(targetAnchor, target);\r\n                // #2652 we could be teleporting from a non-SVG tree into an SVG tree\r\n                isSVG = isSVG || isTargetSVG(target);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !disabled) {\r\n                warn('Invalid Teleport target on mount:', target, `(${typeof target})`);\r\n            }\r\n            const mount = (container, anchor) => {\r\n                // Teleport *always* has Array children. This is enforced in both the\r\n                // compiler and vnode children normalization.\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(children, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n                }\r\n            };\r\n            if (disabled) {\r\n                mount(container, mainAnchor);\r\n            }\r\n            else if (target) {\r\n                mount(target, targetAnchor);\r\n            }\r\n        }\r\n        else {\r\n            // update content\r\n            n2.el = n1.el;\r\n            const mainAnchor = (n2.anchor = n1.anchor);\r\n            const target = (n2.target = n1.target);\r\n            const targetAnchor = (n2.targetAnchor = n1.targetAnchor);\r\n            const wasDisabled = isTeleportDisabled(n1.props);\r\n            const currentContainer = wasDisabled ? container : target;\r\n            const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\r\n            isSVG = isSVG || isTargetSVG(target);\r\n            if (n2.dynamicChildren) {\r\n                // fast path when the teleport happens to be a block root\r\n                patchBlockChildren(n1.dynamicChildren, n2.dynamicChildren, currentContainer, parentComponent, parentSuspense, isSVG);\r\n                // even in block tree mode we need to make sure all root-level nodes\r\n                // in the teleport inherit previous DOM references so that they can\r\n                // be moved in future patches.\r\n                traverseStaticChildren(n1, n2, true);\r\n            }\r\n            else if (!optimized) {\r\n                patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent, parentSuspense, isSVG);\r\n            }\r\n            if (disabled) {\r\n                if (!wasDisabled) {\r\n                    // enabled -> disabled\r\n                    // move into main container\r\n                    moveTeleport(n2, container, mainAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n            else {\r\n                // target changed\r\n                if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\r\n                    const nextTarget = (n2.target = resolveTarget(n2.props, querySelector));\r\n                    if (nextTarget) {\r\n                        moveTeleport(n2, nextTarget, null, internals, 0 /* TARGET_CHANGE */);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Invalid Teleport target on update:', target, `(${typeof target})`);\r\n                    }\r\n                }\r\n                else if (wasDisabled) {\r\n                    // disabled -> enabled\r\n                    // move into teleport target\r\n                    moveTeleport(n2, target, targetAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    remove(vnode, { r: remove, o: { remove: hostRemove } }) {\r\n        const { shapeFlag, children, anchor } = vnode;\r\n        hostRemove(anchor);\r\n        if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                remove(children[i]);\r\n            }\r\n        }\r\n    },\r\n    move: moveTeleport,\r\n    hydrate: hydrateTeleport\r\n};\r\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2 /* REORDER */) {\r\n    // move target anchor if this is a target change.\r\n    if (moveType === 0 /* TARGET_CHANGE */) {\r\n        insert(vnode.targetAnchor, container, parentAnchor);\r\n    }\r\n    const { el, anchor, shapeFlag, children, props } = vnode;\r\n    const isReorder = moveType === 2 /* REORDER */;\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(el, container, parentAnchor);\r\n    }\r\n    // if this is a re-order and teleport is enabled (content is in target)\r\n    // do not move children. So the opposite is: only move children if this\r\n    // is not a reorder, or the teleport is disabled\r\n    if (!isReorder || isTeleportDisabled(props)) {\r\n        // Teleport has either Array children or no children.\r\n        if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, parentAnchor, 2 /* REORDER */);\r\n            }\r\n        }\r\n    }\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(anchor, container, parentAnchor);\r\n    }\r\n}\r\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, optimized, { o: { nextSibling, parentNode, querySelector } }, hydrateChildren) {\r\n    const target = (vnode.target = resolveTarget(vnode.props, querySelector));\r\n    if (target) {\r\n        // if multiple teleports rendered to the same target element, we need to\r\n        // pick up from where the last teleport finished instead of the first node\r\n        const targetNode = target._lpa || target.firstChild;\r\n        if (vnode.shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            if (isTeleportDisabled(vnode.props)) {\r\n                vnode.anchor = hydrateChildren(nextSibling(node), vnode, parentNode(node), parentComponent, parentSuspense, optimized);\r\n                vnode.targetAnchor = targetNode;\r\n            }\r\n            else {\r\n                vnode.anchor = nextSibling(node);\r\n                vnode.targetAnchor = hydrateChildren(targetNode, vnode, target, parentComponent, parentSuspense, optimized);\r\n            }\r\n            target._lpa =\r\n                vnode.targetAnchor && nextSibling(vnode.targetAnchor);\r\n        }\r\n    }\r\n    return vnode.anchor && nextSibling(vnode.anchor);\r\n}\r\n// Force-casted public typing for h and TSX props inference\r\nconst Teleport = TeleportImpl;\n\nconst COMPONENTS = 'components';\r\nconst DIRECTIVES = 'directives';\r\n/**\r\n * @private\r\n */\r\nfunction resolveComponent(name) {\r\n    return resolveAsset(COMPONENTS, name) || name;\r\n}\r\nconst NULL_DYNAMIC_COMPONENT = Symbol();\r\n/**\r\n * @private\r\n */\r\nfunction resolveDynamicComponent(component) {\r\n    if (isString(component)) {\r\n        return resolveAsset(COMPONENTS, component, false) || component;\r\n    }\r\n    else {\r\n        // invalid types will fallthrough to createVNode and raise warning\r\n        return (component || NULL_DYNAMIC_COMPONENT);\r\n    }\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction resolveDirective(name) {\r\n    return resolveAsset(DIRECTIVES, name);\r\n}\r\n// implementation\r\nfunction resolveAsset(type, name, warnMissing = true) {\r\n    const instance = currentRenderingInstance || currentInstance;\r\n    if (instance) {\r\n        const Component = instance.type;\r\n        // self name has highest priority\r\n        if (type === COMPONENTS) {\r\n            // special self referencing call generated by compiler\r\n            // inferred from SFC filename\r\n            if (name === `_self`) {\r\n                return Component;\r\n            }\r\n            const selfName = Component.displayName || Component.name;\r\n            if (selfName &&\r\n                (selfName === name ||\r\n                    selfName === camelize(name) ||\r\n                    selfName === capitalize(camelize(name)))) {\r\n                return Component;\r\n            }\r\n        }\r\n        const res = \r\n        // local registration\r\n        // check instance[type] first for components with mixin or extends.\r\n        resolve(instance[type] || Component[type], name) ||\r\n            // global registration\r\n            resolve(instance.appContext[type], name);\r\n        if ((process.env.NODE_ENV !== 'production') && warnMissing && !res) {\r\n            warn(`Failed to resolve ${type.slice(0, -1)}: ${name}`);\r\n        }\r\n        return res;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`resolve${capitalize(type.slice(0, -1))} ` +\r\n            `can only be used in render() or setup().`);\r\n    }\r\n}\r\nfunction resolve(registry, name) {\r\n    return (registry &&\r\n        (registry[name] ||\r\n            registry[camelize(name)] ||\r\n            registry[capitalize(camelize(name))]));\r\n}\n\nconst Fragment = Symbol((process.env.NODE_ENV !== 'production') ? 'Fragment' : undefined);\r\nconst Text = Symbol((process.env.NODE_ENV !== 'production') ? 'Text' : undefined);\r\nconst Comment = Symbol((process.env.NODE_ENV !== 'production') ? 'Comment' : undefined);\r\nconst Static = Symbol((process.env.NODE_ENV !== 'production') ? 'Static' : undefined);\r\n// Since v-if and v-for are the two possible ways node structure can dynamically\r\n// change, once we consider v-if branches and each v-for fragment a block, we\r\n// can divide a template into nested blocks, and within each block the node\r\n// structure would be stable. This allows us to skip most children diffing\r\n// and only worry about the dynamic nodes (indicated by patch flags).\r\nconst blockStack = [];\r\nlet currentBlock = null;\r\n/**\r\n * Open a block.\r\n * This must be called before `createBlock`. It cannot be part of `createBlock`\r\n * because the children of the block are evaluated before `createBlock` itself\r\n * is called. The generated code typically looks like this:\r\n *\r\n * ```js\r\n * function render() {\r\n *   return (openBlock(),createBlock('div', null, [...]))\r\n * }\r\n * ```\r\n * disableTracking is true when creating a v-for fragment block, since a v-for\r\n * fragment always diffs its children.\r\n *\r\n * @private\r\n */\r\nfunction openBlock(disableTracking = false) {\r\n    blockStack.push((currentBlock = disableTracking ? null : []));\r\n}\r\nfunction closeBlock() {\r\n    blockStack.pop();\r\n    currentBlock = blockStack[blockStack.length - 1] || null;\r\n}\r\n// Whether we should be tracking dynamic child nodes inside a block.\r\n// Only tracks when this value is > 0\r\n// We are not using a simple boolean because this value may need to be\r\n// incremented/decremented by nested usage of v-once (see below)\r\nlet shouldTrack = 1;\r\n/**\r\n * Block tracking sometimes needs to be disabled, for example during the\r\n * creation of a tree that needs to be cached by v-once. The compiler generates\r\n * code like this:\r\n *\r\n * ``` js\r\n * _cache[1] || (\r\n *   setBlockTracking(-1),\r\n *   _cache[1] = createVNode(...),\r\n *   setBlockTracking(1),\r\n *   _cache[1]\r\n * )\r\n * ```\r\n *\r\n * @private\r\n */\r\nfunction setBlockTracking(value) {\r\n    shouldTrack += value;\r\n}\r\n/**\r\n * Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n * A block root keeps track of dynamic nodes within the block in the\r\n * `dynamicChildren` array.\r\n *\r\n * @private\r\n */\r\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\r\n    const vnode = createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */);\r\n    // save current block children on the block vnode\r\n    vnode.dynamicChildren = currentBlock || EMPTY_ARR;\r\n    // close block\r\n    closeBlock();\r\n    // a block is always going to be patched, so track it as a child of its\r\n    // parent block\r\n    if (shouldTrack > 0 && currentBlock) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nfunction isVNode(value) {\r\n    return value ? value.__v_isVNode === true : false;\r\n}\r\nfunction isSameVNodeType(n1, n2) {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        n2.shapeFlag & 6 /* COMPONENT */ &&\r\n        hmrDirtyComponents.has(n2.type)) {\r\n        // HMR only: if the component has been hot-updated, force a reload.\r\n        return false;\r\n    }\r\n    return n1.type === n2.type && n1.key === n2.key;\r\n}\r\nlet vnodeArgsTransformer;\r\n/**\r\n * Internal API for registering an arguments transform for createVNode\r\n * used for creating stubs in the test-utils\r\n * It is *internal* but needs to be exposed for test-utils to pick up proper\r\n * typings\r\n */\r\nfunction transformVNodeArgs(transformer) {\r\n    vnodeArgsTransformer = transformer;\r\n}\r\nconst createVNodeWithArgsTransform = (...args) => {\r\n    return _createVNode(...(vnodeArgsTransformer\r\n        ? vnodeArgsTransformer(args, currentRenderingInstance)\r\n        : args));\r\n};\r\nconst InternalObjectKey = `__vInternal`;\r\nconst normalizeKey = ({ key }) => key != null ? key : null;\r\nconst normalizeRef = ({ ref }) => {\r\n    return (ref != null\r\n        ? isString(ref) || isRef(ref) || isFunction(ref)\r\n            ? { i: currentRenderingInstance, r: ref }\r\n            : ref\r\n        : null);\r\n};\r\nconst createVNode = ((process.env.NODE_ENV !== 'production')\r\n    ? createVNodeWithArgsTransform\r\n    : _createVNode);\r\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\r\n    if (!type || type === NULL_DYNAMIC_COMPONENT) {\r\n        if ((process.env.NODE_ENV !== 'production') && !type) {\r\n            warn(`Invalid vnode type when creating vnode: ${type}.`);\r\n        }\r\n        type = Comment;\r\n    }\r\n    if (isVNode(type)) {\r\n        // createVNode receiving an existing vnode. This happens in cases like\r\n        // <component :is=\"vnode\"/>\r\n        // #2078 make sure to merge refs during the clone instead of overwriting it\r\n        const cloned = cloneVNode(type, props, true /* mergeRef: true */);\r\n        if (children) {\r\n            normalizeChildren(cloned, children);\r\n        }\r\n        return cloned;\r\n    }\r\n    // class component normalization.\r\n    if (isClassComponent(type)) {\r\n        type = type.__vccOpts;\r\n    }\r\n    // class & style normalization.\r\n    if (props) {\r\n        // for reactive or proxy objects, we need to clone it to enable mutation.\r\n        if (isProxy(props) || InternalObjectKey in props) {\r\n            props = extend({}, props);\r\n        }\r\n        let { class: klass, style } = props;\r\n        if (klass && !isString(klass)) {\r\n            props.class = normalizeClass(klass);\r\n        }\r\n        if (isObject(style)) {\r\n            // reactive state objects need to be cloned since they are likely to be\r\n            // mutated\r\n            if (isProxy(style) && !isArray(style)) {\r\n                style = extend({}, style);\r\n            }\r\n            props.style = normalizeStyle(style);\r\n        }\r\n    }\r\n    // encode the vnode type information into a bitmap\r\n    const shapeFlag = isString(type)\r\n        ? 1 /* ELEMENT */\r\n        :  isSuspense(type)\r\n            ? 128 /* SUSPENSE */\r\n            : isTeleport(type)\r\n                ? 64 /* TELEPORT */\r\n                : isObject(type)\r\n                    ? 4 /* STATEFUL_COMPONENT */\r\n                    : isFunction(type)\r\n                        ? 2 /* FUNCTIONAL_COMPONENT */\r\n                        : 0;\r\n    if ((process.env.NODE_ENV !== 'production') && shapeFlag & 4 /* STATEFUL_COMPONENT */ && isProxy(type)) {\r\n        type = toRaw(type);\r\n        warn(`Vue received a Component which was made a reactive object. This can ` +\r\n            `lead to unnecessary performance overhead, and should be avoided by ` +\r\n            `marking the component with \\`markRaw\\` or using \\`shallowRef\\` ` +\r\n            `instead of \\`ref\\`.`, `\\nComponent that was made reactive: `, type);\r\n    }\r\n    const vnode = {\r\n        __v_isVNode: true,\r\n        [\"__v_skip\" /* SKIP */]: true,\r\n        type,\r\n        props,\r\n        key: props && normalizeKey(props),\r\n        ref: props && normalizeRef(props),\r\n        scopeId: currentScopeId,\r\n        children: null,\r\n        component: null,\r\n        suspense: null,\r\n        ssContent: null,\r\n        ssFallback: null,\r\n        dirs: null,\r\n        transition: null,\r\n        el: null,\r\n        anchor: null,\r\n        target: null,\r\n        targetAnchor: null,\r\n        staticCount: 0,\r\n        shapeFlag,\r\n        patchFlag,\r\n        dynamicProps,\r\n        dynamicChildren: null,\r\n        appContext: null\r\n    };\r\n    // validate key\r\n    if ((process.env.NODE_ENV !== 'production') && vnode.key !== vnode.key) {\r\n        warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\r\n    }\r\n    normalizeChildren(vnode, children);\r\n    // normalize suspense children\r\n    if ( shapeFlag & 128 /* SUSPENSE */) {\r\n        const { content, fallback } = normalizeSuspenseChildren(vnode);\r\n        vnode.ssContent = content;\r\n        vnode.ssFallback = fallback;\r\n    }\r\n    if (shouldTrack > 0 &&\r\n        // avoid a block node from tracking itself\r\n        !isBlockNode &&\r\n        // has current parent block\r\n        currentBlock &&\r\n        // presence of a patch flag indicates this node needs patching on updates.\r\n        // component nodes also should always be patched, because even if the\r\n        // component doesn't need to update, it needs to persist the instance on to\r\n        // the next vnode so that it can be properly unmounted later.\r\n        (patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&\r\n        // the EVENTS flag is only for hydration and if it is the only flag, the\r\n        // vnode should not be considered dynamic due to handler caching.\r\n        patchFlag !== 32 /* HYDRATE_EVENTS */) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\r\n    // This is intentionally NOT using spread or extend to avoid the runtime\r\n    // key enumeration cost.\r\n    const { props, ref, patchFlag } = vnode;\r\n    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\r\n    return {\r\n        __v_isVNode: true,\r\n        [\"__v_skip\" /* SKIP */]: true,\r\n        type: vnode.type,\r\n        props: mergedProps,\r\n        key: mergedProps && normalizeKey(mergedProps),\r\n        ref: extraProps && extraProps.ref\r\n            ? // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\r\n                // if the vnode itself already has a ref, cloneVNode will need to merge\r\n                // the refs so the single vnode can be set on multiple refs\r\n                mergeRef && ref\r\n                    ? isArray(ref)\r\n                        ? ref.concat(normalizeRef(extraProps))\r\n                        : [ref, normalizeRef(extraProps)]\r\n                    : normalizeRef(extraProps)\r\n            : ref,\r\n        scopeId: vnode.scopeId,\r\n        children: vnode.children,\r\n        target: vnode.target,\r\n        targetAnchor: vnode.targetAnchor,\r\n        staticCount: vnode.staticCount,\r\n        shapeFlag: vnode.shapeFlag,\r\n        // if the vnode is cloned with extra props, we can no longer assume its\r\n        // existing patch flag to be reliable and need to add the FULL_PROPS flag.\r\n        // note: perserve flag for fragments since they use the flag for children\r\n        // fast paths only.\r\n        patchFlag: extraProps && vnode.type !== Fragment\r\n            ? patchFlag === -1 // hoisted node\r\n                ? 16 /* FULL_PROPS */\r\n                : patchFlag | 16 /* FULL_PROPS */\r\n            : patchFlag,\r\n        dynamicProps: vnode.dynamicProps,\r\n        dynamicChildren: vnode.dynamicChildren,\r\n        appContext: vnode.appContext,\r\n        dirs: vnode.dirs,\r\n        transition: vnode.transition,\r\n        // These should technically only be non-null on mounted VNodes. However,\r\n        // they *should* be copied for kept-alive vnodes. So we just always copy\r\n        // them since them being non-null during a mount doesn't affect the logic as\r\n        // they will simply be overwritten.\r\n        component: vnode.component,\r\n        suspense: vnode.suspense,\r\n        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\r\n        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\r\n        el: vnode.el,\r\n        anchor: vnode.anchor\r\n    };\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createTextVNode(text = ' ', flag = 0) {\r\n    return createVNode(Text, null, text, flag);\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createStaticVNode(content, numberOfNodes) {\r\n    // A static vnode can contain multiple stringified elements, and the number\r\n    // of elements is necessary for hydration.\r\n    const vnode = createVNode(Static, null, content);\r\n    vnode.staticCount = numberOfNodes;\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createCommentVNode(text = '', \r\n// when used as the v-else branch, the comment node must be created as a\r\n// block to ensure correct updates.\r\nasBlock = false) {\r\n    return asBlock\r\n        ? (openBlock(), createBlock(Comment, null, text))\r\n        : createVNode(Comment, null, text);\r\n}\r\nfunction normalizeVNode(child) {\r\n    if (child == null || typeof child === 'boolean') {\r\n        // empty placeholder\r\n        return createVNode(Comment);\r\n    }\r\n    else if (isArray(child)) {\r\n        // fragment\r\n        return createVNode(Fragment, null, child);\r\n    }\r\n    else if (typeof child === 'object') {\r\n        // already vnode, this should be the most common since compiled templates\r\n        // always produce all-vnode children arrays\r\n        return child.el === null ? child : cloneVNode(child);\r\n    }\r\n    else {\r\n        // strings and numbers\r\n        return createVNode(Text, null, String(child));\r\n    }\r\n}\r\n// optimized normalization for template-compiled render fns\r\nfunction cloneIfMounted(child) {\r\n    return child.el === null ? child : cloneVNode(child);\r\n}\r\nfunction normalizeChildren(vnode, children) {\r\n    let type = 0;\r\n    const { shapeFlag } = vnode;\r\n    if (children == null) {\r\n        children = null;\r\n    }\r\n    else if (isArray(children)) {\r\n        type = 16 /* ARRAY_CHILDREN */;\r\n    }\r\n    else if (typeof children === 'object') {\r\n        if (shapeFlag & 1 /* ELEMENT */ || shapeFlag & 64 /* TELEPORT */) {\r\n            // Normalize slot to plain children for plain element and Teleport\r\n            const slot = children.default;\r\n            if (slot) {\r\n                // _c marker is added by withCtx() indicating this is a compiled slot\r\n                slot._c && setCompiledSlotRendering(1);\r\n                normalizeChildren(vnode, slot());\r\n                slot._c && setCompiledSlotRendering(-1);\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n            type = 32 /* SLOTS_CHILDREN */;\r\n            const slotFlag = children._;\r\n            if (!slotFlag && !(InternalObjectKey in children)) {\r\n                children._ctx = currentRenderingInstance;\r\n            }\r\n            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {\r\n                // a child component receives forwarded slots from the parent.\r\n                // its slot type is determined by its parent's slot type.\r\n                if (currentRenderingInstance.vnode.patchFlag & 1024 /* DYNAMIC_SLOTS */) {\r\n                    children._ = 2 /* DYNAMIC */;\r\n                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;\r\n                }\r\n                else {\r\n                    children._ = 1 /* STABLE */;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (isFunction(children)) {\r\n        children = { default: children, _ctx: currentRenderingInstance };\r\n        type = 32 /* SLOTS_CHILDREN */;\r\n    }\r\n    else {\r\n        children = String(children);\r\n        // force teleport children to array so it can be moved around\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type = 16 /* ARRAY_CHILDREN */;\r\n            children = [createTextVNode(children)];\r\n        }\r\n        else {\r\n            type = 8 /* TEXT_CHILDREN */;\r\n        }\r\n    }\r\n    vnode.children = children;\r\n    vnode.shapeFlag |= type;\r\n}\r\nfunction mergeProps(...args) {\r\n    const ret = extend({}, args[0]);\r\n    for (let i = 1; i < args.length; i++) {\r\n        const toMerge = args[i];\r\n        for (const key in toMerge) {\r\n            if (key === 'class') {\r\n                if (ret.class !== toMerge.class) {\r\n                    ret.class = normalizeClass([ret.class, toMerge.class]);\r\n                }\r\n            }\r\n            else if (key === 'style') {\r\n                ret.style = normalizeStyle([ret.style, toMerge.style]);\r\n            }\r\n            else if (isOn(key)) {\r\n                const existing = ret[key];\r\n                const incoming = toMerge[key];\r\n                if (existing !== incoming) {\r\n                    ret[key] = existing\r\n                        ? [].concat(existing, toMerge[key])\r\n                        : incoming;\r\n                }\r\n            }\r\n            else if (key !== '') {\r\n                ret[key] = toMerge[key];\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\n\nfunction provide(key, value) {\r\n    if (!currentInstance) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`provide() can only be used inside setup().`);\r\n        }\r\n    }\r\n    else {\r\n        let provides = currentInstance.provides;\r\n        // by default an instance inherits its parent's provides object\r\n        // but when it needs to provide values of its own, it creates its\r\n        // own provides object using parent provides object as prototype.\r\n        // this way in `inject` we can simply look up injections from direct\r\n        // parent and let the prototype chain do the work.\r\n        const parentProvides = currentInstance.parent && currentInstance.parent.provides;\r\n        if (parentProvides === provides) {\r\n            provides = currentInstance.provides = Object.create(parentProvides);\r\n        }\r\n        // TS doesn't allow symbol as index type\r\n        provides[key] = value;\r\n    }\r\n}\r\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\r\n    // fallback to `currentRenderingInstance` so that this can be called in\r\n    // a functional component\r\n    const instance = currentInstance || currentRenderingInstance;\r\n    if (instance) {\r\n        // #2400\r\n        // to support `app.use` plugins,\r\n        // fallback to appContext's `provides` if the intance is at root\r\n        const provides = instance.parent == null\r\n            ? instance.vnode.appContext && instance.vnode.appContext.provides\r\n            : instance.parent.provides;\r\n        if (provides && key in provides) {\r\n            // TS doesn't allow symbol as index type\r\n            return provides[key];\r\n        }\r\n        else if (arguments.length > 1) {\r\n            return treatDefaultAsFactory && isFunction(defaultValue)\r\n                ? defaultValue()\r\n                : defaultValue;\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`injection \"${String(key)}\" not found.`);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`inject() can only be used inside setup() or functional components.`);\r\n    }\r\n}\n\nfunction createDuplicateChecker() {\r\n    const cache = Object.create(null);\r\n    return (type, key) => {\r\n        if (cache[key]) {\r\n            warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\r\n        }\r\n        else {\r\n            cache[key] = type;\r\n        }\r\n    };\r\n}\r\nlet isInBeforeCreate = false;\r\nfunction applyOptions(instance, options, deferredData = [], deferredWatch = [], deferredProvide = [], asMixin = false) {\r\n    const { \r\n    // composition\r\n    mixins, extends: extendsOptions, \r\n    // state\r\n    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, \r\n    // assets\r\n    components, directives, \r\n    // lifecycle\r\n    beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, \r\n    // public API\r\n    expose } = options;\r\n    const publicThis = instance.proxy;\r\n    const ctx = instance.ctx;\r\n    const globalMixins = instance.appContext.mixins;\r\n    if (asMixin && render && instance.render === NOOP) {\r\n        instance.render = render;\r\n    }\r\n    // applyOptions is called non-as-mixin once per instance\r\n    if (!asMixin) {\r\n        isInBeforeCreate = true;\r\n        callSyncHook('beforeCreate', \"bc\" /* BEFORE_CREATE */, options, instance, globalMixins);\r\n        isInBeforeCreate = false;\r\n        // global mixins are applied first\r\n        applyMixins(instance, globalMixins, deferredData, deferredWatch, deferredProvide);\r\n    }\r\n    // extending a base component...\r\n    if (extendsOptions) {\r\n        applyOptions(instance, extendsOptions, deferredData, deferredWatch, deferredProvide, true);\r\n    }\r\n    // local mixins\r\n    if (mixins) {\r\n        applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide);\r\n    }\r\n    const checkDuplicateProperties = (process.env.NODE_ENV !== 'production') ? createDuplicateChecker() : null;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const [propsOptions] = instance.propsOptions;\r\n        if (propsOptions) {\r\n            for (const key in propsOptions) {\r\n                checkDuplicateProperties(\"Props\" /* PROPS */, key);\r\n            }\r\n        }\r\n    }\r\n    // options initialization order (to be consistent with Vue 2):\r\n    // - props (already done outside of this function)\r\n    // - inject\r\n    // - methods\r\n    // - data (deferred since it relies on `this` access)\r\n    // - computed\r\n    // - watch (deferred since it relies on `this` access)\r\n    if (injectOptions) {\r\n        if (isArray(injectOptions)) {\r\n            for (let i = 0; i < injectOptions.length; i++) {\r\n                const key = injectOptions[i];\r\n                ctx[key] = inject(key);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Inject\" /* INJECT */, key);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (const key in injectOptions) {\r\n                const opt = injectOptions[key];\r\n                if (isObject(opt)) {\r\n                    ctx[key] = inject(opt.from || key, opt.default, true /* treat default function as factory */);\r\n                }\r\n                else {\r\n                    ctx[key] = inject(opt);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Inject\" /* INJECT */, key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (methods) {\r\n        for (const key in methods) {\r\n            const methodHandler = methods[key];\r\n            if (isFunction(methodHandler)) {\r\n                ctx[key] = methodHandler.bind(publicThis);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Methods\" /* METHODS */, key);\r\n                }\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. ` +\r\n                    `Did you reference the function correctly?`);\r\n            }\r\n        }\r\n    }\r\n    if (!asMixin) {\r\n        if (deferredData.length) {\r\n            deferredData.forEach(dataFn => resolveData(instance, dataFn, publicThis));\r\n        }\r\n        if (dataOptions) {\r\n            resolveData(instance, dataOptions, publicThis);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const rawData = toRaw(instance.data);\r\n            for (const key in rawData) {\r\n                checkDuplicateProperties(\"Data\" /* DATA */, key);\r\n                // expose data on ctx during dev\r\n                if (key[0] !== '$' && key[0] !== '_') {\r\n                    Object.defineProperty(ctx, key, {\r\n                        configurable: true,\r\n                        enumerable: true,\r\n                        get: () => rawData[key],\r\n                        set: NOOP\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (dataOptions) {\r\n        deferredData.push(dataOptions);\r\n    }\r\n    if (computedOptions) {\r\n        for (const key in computedOptions) {\r\n            const opt = computedOptions[key];\r\n            const get = isFunction(opt)\r\n                ? opt.bind(publicThis, publicThis)\r\n                : isFunction(opt.get)\r\n                    ? opt.get.bind(publicThis, publicThis)\r\n                    : NOOP;\r\n            if ((process.env.NODE_ENV !== 'production') && get === NOOP) {\r\n                warn(`Computed property \"${key}\" has no getter.`);\r\n            }\r\n            const set = !isFunction(opt) && isFunction(opt.set)\r\n                ? opt.set.bind(publicThis)\r\n                : (process.env.NODE_ENV !== 'production')\r\n                    ? () => {\r\n                        warn(`Write operation failed: computed property \"${key}\" is readonly.`);\r\n                    }\r\n                    : NOOP;\r\n            const c = computed({\r\n                get,\r\n                set\r\n            });\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => c.value,\r\n                set: v => (c.value = v)\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\r\n            }\r\n        }\r\n    }\r\n    if (watchOptions) {\r\n        deferredWatch.push(watchOptions);\r\n    }\r\n    if (!asMixin && deferredWatch.length) {\r\n        deferredWatch.forEach(watchOptions => {\r\n            for (const key in watchOptions) {\r\n                createWatcher(watchOptions[key], ctx, publicThis, key);\r\n            }\r\n        });\r\n    }\r\n    if (provideOptions) {\r\n        deferredProvide.push(provideOptions);\r\n    }\r\n    if (!asMixin && deferredProvide.length) {\r\n        deferredProvide.forEach(provideOptions => {\r\n            const provides = isFunction(provideOptions)\r\n                ? provideOptions.call(publicThis)\r\n                : provideOptions;\r\n            Reflect.ownKeys(provides).forEach(key => {\r\n                provide(key, provides[key]);\r\n            });\r\n        });\r\n    }\r\n    // asset options.\r\n    // To reduce memory usage, only components with mixins or extends will have\r\n    // resolved asset registry attached to instance.\r\n    if (asMixin) {\r\n        if (components) {\r\n            extend(instance.components ||\r\n                (instance.components = extend({}, instance.type.components)), components);\r\n        }\r\n        if (directives) {\r\n            extend(instance.directives ||\r\n                (instance.directives = extend({}, instance.type.directives)), directives);\r\n        }\r\n    }\r\n    // lifecycle options\r\n    if (!asMixin) {\r\n        callSyncHook('created', \"c\" /* CREATED */, options, instance, globalMixins);\r\n    }\r\n    if (beforeMount) {\r\n        onBeforeMount(beforeMount.bind(publicThis));\r\n    }\r\n    if (mounted) {\r\n        onMounted(mounted.bind(publicThis));\r\n    }\r\n    if (beforeUpdate) {\r\n        onBeforeUpdate(beforeUpdate.bind(publicThis));\r\n    }\r\n    if (updated) {\r\n        onUpdated(updated.bind(publicThis));\r\n    }\r\n    if (activated) {\r\n        onActivated(activated.bind(publicThis));\r\n    }\r\n    if (deactivated) {\r\n        onDeactivated(deactivated.bind(publicThis));\r\n    }\r\n    if (errorCaptured) {\r\n        onErrorCaptured(errorCaptured.bind(publicThis));\r\n    }\r\n    if (renderTracked) {\r\n        onRenderTracked(renderTracked.bind(publicThis));\r\n    }\r\n    if (renderTriggered) {\r\n        onRenderTriggered(renderTriggered.bind(publicThis));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && beforeDestroy) {\r\n        warn(`\\`beforeDestroy\\` has been renamed to \\`beforeUnmount\\`.`);\r\n    }\r\n    if (beforeUnmount) {\r\n        onBeforeUnmount(beforeUnmount.bind(publicThis));\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && destroyed) {\r\n        warn(`\\`destroyed\\` has been renamed to \\`unmounted\\`.`);\r\n    }\r\n    if (unmounted) {\r\n        onUnmounted(unmounted.bind(publicThis));\r\n    }\r\n    if (isArray(expose)) {\r\n        if (!asMixin) {\r\n            if (expose.length) {\r\n                const exposed = instance.exposed || (instance.exposed = proxyRefs({}));\r\n                expose.forEach(key => {\r\n                    exposed[key] = toRef(publicThis, key);\r\n                });\r\n            }\r\n            else if (!instance.exposed) {\r\n                instance.exposed = EMPTY_OBJ;\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`The \\`expose\\` option is ignored when used in mixins.`);\r\n        }\r\n    }\r\n}\r\nfunction callSyncHook(name, type, options, instance, globalMixins) {\r\n    callHookFromMixins(name, type, globalMixins, instance);\r\n    const { extends: base, mixins } = options;\r\n    if (base) {\r\n        callHookFromExtends(name, type, base, instance);\r\n    }\r\n    if (mixins) {\r\n        callHookFromMixins(name, type, mixins, instance);\r\n    }\r\n    const selfHook = options[name];\r\n    if (selfHook) {\r\n        callWithAsyncErrorHandling(selfHook.bind(instance.proxy), instance, type);\r\n    }\r\n}\r\nfunction callHookFromExtends(name, type, base, instance) {\r\n    if (base.extends) {\r\n        callHookFromExtends(name, type, base.extends, instance);\r\n    }\r\n    const baseHook = base[name];\r\n    if (baseHook) {\r\n        callWithAsyncErrorHandling(baseHook.bind(instance.proxy), instance, type);\r\n    }\r\n}\r\nfunction callHookFromMixins(name, type, mixins, instance) {\r\n    for (let i = 0; i < mixins.length; i++) {\r\n        const chainedMixins = mixins[i].mixins;\r\n        if (chainedMixins) {\r\n            callHookFromMixins(name, type, chainedMixins, instance);\r\n        }\r\n        const fn = mixins[i][name];\r\n        if (fn) {\r\n            callWithAsyncErrorHandling(fn.bind(instance.proxy), instance, type);\r\n        }\r\n    }\r\n}\r\nfunction applyMixins(instance, mixins, deferredData, deferredWatch, deferredProvide) {\r\n    for (let i = 0; i < mixins.length; i++) {\r\n        applyOptions(instance, mixins[i], deferredData, deferredWatch, deferredProvide, true);\r\n    }\r\n}\r\nfunction resolveData(instance, dataFn, publicThis) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(dataFn)) {\r\n        warn(`The data option must be a function. ` +\r\n            `Plain object usage is no longer supported.`);\r\n    }\r\n    const data = dataFn.call(publicThis, publicThis);\r\n    if ((process.env.NODE_ENV !== 'production') && isPromise(data)) {\r\n        warn(`data() returned a Promise - note data() cannot be async; If you ` +\r\n            `intend to perform data fetching before component renders, use ` +\r\n            `async setup() + <Suspense>.`);\r\n    }\r\n    if (!isObject(data)) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`data() should return an object.`);\r\n    }\r\n    else if (instance.data === EMPTY_OBJ) {\r\n        instance.data = reactive(data);\r\n    }\r\n    else {\r\n        // existing data: this is a mixin or extends.\r\n        extend(instance.data, data);\r\n    }\r\n}\r\nfunction createWatcher(raw, ctx, publicThis, key) {\r\n    const getter = key.includes('.')\r\n        ? createPathGetter(publicThis, key)\r\n        : () => publicThis[key];\r\n    if (isString(raw)) {\r\n        const handler = ctx[raw];\r\n        if (isFunction(handler)) {\r\n            watch(getter, handler);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\r\n        }\r\n    }\r\n    else if (isFunction(raw)) {\r\n        watch(getter, raw.bind(publicThis));\r\n    }\r\n    else if (isObject(raw)) {\r\n        if (isArray(raw)) {\r\n            raw.forEach(r => createWatcher(r, ctx, publicThis, key));\r\n        }\r\n        else {\r\n            const handler = isFunction(raw.handler)\r\n                ? raw.handler.bind(publicThis)\r\n                : ctx[raw.handler];\r\n            if (isFunction(handler)) {\r\n                watch(getter, handler, raw);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\r\n            }\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid watch option: \"${key}\"`, raw);\r\n    }\r\n}\r\nfunction createPathGetter(ctx, path) {\r\n    const segments = path.split('.');\r\n    return () => {\r\n        let cur = ctx;\r\n        for (let i = 0; i < segments.length && cur; i++) {\r\n            cur = cur[segments[i]];\r\n        }\r\n        return cur;\r\n    };\r\n}\r\nfunction resolveMergedOptions(instance) {\r\n    const raw = instance.type;\r\n    const { __merged, mixins, extends: extendsOptions } = raw;\r\n    if (__merged)\r\n        return __merged;\r\n    const globalMixins = instance.appContext.mixins;\r\n    if (!globalMixins.length && !mixins && !extendsOptions)\r\n        return raw;\r\n    const options = {};\r\n    globalMixins.forEach(m => mergeOptions(options, m, instance));\r\n    mergeOptions(options, raw, instance);\r\n    return (raw.__merged = options);\r\n}\r\nfunction mergeOptions(to, from, instance) {\r\n    const strats = instance.appContext.config.optionMergeStrategies;\r\n    const { mixins, extends: extendsOptions } = from;\r\n    extendsOptions && mergeOptions(to, extendsOptions, instance);\r\n    mixins &&\r\n        mixins.forEach((m) => mergeOptions(to, m, instance));\r\n    for (const key in from) {\r\n        if (strats && hasOwn(strats, key)) {\r\n            to[key] = strats[key](to[key], from[key], instance.proxy, key);\r\n        }\r\n        else {\r\n            to[key] = from[key];\r\n        }\r\n    }\r\n}\n\n/**\r\n * #2437 In Vue 3, functional components do not have a public instance proxy but\r\n * they exist in the internal parent chain. For code that relies on traversing\r\n * public $parent chains, skip functional ones and go to the parent instead.\r\n */\r\nconst getPublicInstance = (i) => i && (i.proxy ? i.proxy : getPublicInstance(i.parent));\r\nconst publicPropertiesMap = extend(Object.create(null), {\r\n    $: i => i,\r\n    $el: i => i.vnode.el,\r\n    $data: i => i.data,\r\n    $props: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.props) : i.props),\r\n    $attrs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.attrs) : i.attrs),\r\n    $slots: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.slots) : i.slots),\r\n    $refs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.refs) : i.refs),\r\n    $parent: i => getPublicInstance(i.parent),\r\n    $root: i => i.root && i.root.proxy,\r\n    $emit: i => i.emit,\r\n    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),\r\n    $forceUpdate: i => () => queueJob(i.update),\r\n    $nextTick: i => nextTick.bind(i.proxy),\r\n    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)\r\n});\r\nconst PublicInstanceProxyHandlers = {\r\n    get({ _: instance }, key) {\r\n        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\r\n        // let @vue/reactivity know it should never observe Vue public instances.\r\n        if (key === \"__v_skip\" /* SKIP */) {\r\n            return true;\r\n        }\r\n        // for internal formatters to know that this is a Vue instance\r\n        if ((process.env.NODE_ENV !== 'production') && key === '__isVue') {\r\n            return true;\r\n        }\r\n        // data / props / ctx\r\n        // This getter gets called for every property access on the render context\r\n        // during render and is a major hotspot. The most expensive part of this\r\n        // is the multiple hasOwn() calls. It's much faster to do a simple property\r\n        // access on a plain object, so we use an accessCache object (with null\r\n        // prototype) to memoize what access type a key corresponds to.\r\n        let normalizedProps;\r\n        if (key[0] !== '$') {\r\n            const n = accessCache[key];\r\n            if (n !== undefined) {\r\n                switch (n) {\r\n                    case 0 /* SETUP */:\r\n                        return setupState[key];\r\n                    case 1 /* DATA */:\r\n                        return data[key];\r\n                    case 3 /* CONTEXT */:\r\n                        return ctx[key];\r\n                    case 2 /* PROPS */:\r\n                        return props[key];\r\n                    // default: just fallthrough\r\n                }\r\n            }\r\n            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n                accessCache[key] = 0 /* SETUP */;\r\n                return setupState[key];\r\n            }\r\n            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n                accessCache[key] = 1 /* DATA */;\r\n                return data[key];\r\n            }\r\n            else if (\r\n            // only cache other properties when instance has declared (thus stable)\r\n            // props\r\n            (normalizedProps = instance.propsOptions[0]) &&\r\n                hasOwn(normalizedProps, key)) {\r\n                accessCache[key] = 2 /* PROPS */;\r\n                return props[key];\r\n            }\r\n            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n                accessCache[key] = 3 /* CONTEXT */;\r\n                return ctx[key];\r\n            }\r\n            else if (!__VUE_OPTIONS_API__ || !isInBeforeCreate) {\r\n                accessCache[key] = 4 /* OTHER */;\r\n            }\r\n        }\r\n        const publicGetter = publicPropertiesMap[key];\r\n        let cssModule, globalProperties;\r\n        // public $xxx properties\r\n        if (publicGetter) {\r\n            if (key === '$attrs') {\r\n                track(instance, \"get\" /* GET */, key);\r\n                (process.env.NODE_ENV !== 'production') && markAttrsAccessed();\r\n            }\r\n            return publicGetter(instance);\r\n        }\r\n        else if (\r\n        // css module (injected by vue-loader)\r\n        (cssModule = type.__cssModules) &&\r\n            (cssModule = cssModule[key])) {\r\n            return cssModule;\r\n        }\r\n        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n            // user may set custom properties to `this` that start with `$`\r\n            accessCache[key] = 3 /* CONTEXT */;\r\n            return ctx[key];\r\n        }\r\n        else if (\r\n        // global properties\r\n        ((globalProperties = appContext.config.globalProperties),\r\n            hasOwn(globalProperties, key))) {\r\n            return globalProperties[key];\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production') &&\r\n            currentRenderingInstance &&\r\n            (!isString(key) ||\r\n                // #1091 avoid internal isRef/isVNode checks on component instance leading\r\n                // to infinite warning loop\r\n                key.indexOf('__v') !== 0)) {\r\n            if (data !== EMPTY_OBJ &&\r\n                (key[0] === '$' || key[0] === '_') &&\r\n                hasOwn(data, key)) {\r\n                warn(`Property ${JSON.stringify(key)} must be accessed via $data because it starts with a reserved ` +\r\n                    `character (\"$\" or \"_\") and is not proxied on the render context.`);\r\n            }\r\n            else {\r\n                warn(`Property ${JSON.stringify(key)} was accessed during render ` +\r\n                    `but is not defined on instance.`);\r\n            }\r\n        }\r\n    },\r\n    set({ _: instance }, key, value) {\r\n        const { data, setupState, ctx } = instance;\r\n        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n            setupState[key] = value;\r\n        }\r\n        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n            data[key] = value;\r\n        }\r\n        else if (key in instance.props) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate prop \"${key}\". Props are readonly.`, instance);\r\n            return false;\r\n        }\r\n        if (key[0] === '$' && key.slice(1) in instance) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate public property \"${key}\". ` +\r\n                    `Properties starting with $ are reserved and readonly.`, instance);\r\n            return false;\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && key in instance.appContext.config.globalProperties) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    value\r\n                });\r\n            }\r\n            else {\r\n                ctx[key] = value;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {\r\n        let normalizedProps;\r\n        return (accessCache[key] !== undefined ||\r\n            (data !== EMPTY_OBJ && hasOwn(data, key)) ||\r\n            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||\r\n            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||\r\n            hasOwn(ctx, key) ||\r\n            hasOwn(publicPropertiesMap, key) ||\r\n            hasOwn(appContext.config.globalProperties, key));\r\n    }\r\n};\r\nif ((process.env.NODE_ENV !== 'production') && !false) {\r\n    PublicInstanceProxyHandlers.ownKeys = (target) => {\r\n        warn(`Avoid app logic that relies on enumerating keys on a component instance. ` +\r\n            `The keys will be empty in production mode to avoid performance overhead.`);\r\n        return Reflect.ownKeys(target);\r\n    };\r\n}\r\nconst RuntimeCompiledPublicInstanceProxyHandlers = extend({}, PublicInstanceProxyHandlers, {\r\n    get(target, key) {\r\n        // fast path for unscopables when using `with` block\r\n        if (key === Symbol.unscopables) {\r\n            return;\r\n        }\r\n        return PublicInstanceProxyHandlers.get(target, key, target);\r\n    },\r\n    has(_, key) {\r\n        const has = key[0] !== '_' && !isGloballyWhitelisted(key);\r\n        if ((process.env.NODE_ENV !== 'production') && !has && PublicInstanceProxyHandlers.has(_, key)) {\r\n            warn(`Property ${JSON.stringify(key)} should not start with _ which is a reserved prefix for Vue internals.`);\r\n        }\r\n        return has;\r\n    }\r\n});\r\n// In dev mode, the proxy target exposes the same properties as seen on `this`\r\n// for easier console inspection. In prod mode it will be an empty object so\r\n// these properties definitions can be skipped.\r\nfunction createRenderContext(instance) {\r\n    const target = {};\r\n    // expose internal instance for proxy handlers\r\n    Object.defineProperty(target, `_`, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        get: () => instance\r\n    });\r\n    // expose public properties\r\n    Object.keys(publicPropertiesMap).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => publicPropertiesMap[key](instance),\r\n            // intercepted by the proxy so no need for implementation,\r\n            // but needed to prevent set errors\r\n            set: NOOP\r\n        });\r\n    });\r\n    // expose global properties\r\n    const { globalProperties } = instance.appContext.config;\r\n    Object.keys(globalProperties).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => globalProperties[key],\r\n            set: NOOP\r\n        });\r\n    });\r\n    return target;\r\n}\r\n// dev only\r\nfunction exposePropsOnRenderContext(instance) {\r\n    const { ctx, propsOptions: [propsOptions] } = instance;\r\n    if (propsOptions) {\r\n        Object.keys(propsOptions).forEach(key => {\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => instance.props[key],\r\n                set: NOOP\r\n            });\r\n        });\r\n    }\r\n}\r\n// dev only\r\nfunction exposeSetupStateOnRenderContext(instance) {\r\n    const { ctx, setupState } = instance;\r\n    Object.keys(toRaw(setupState)).forEach(key => {\r\n        if (key[0] === '$' || key[0] === '_') {\r\n            warn(`setup() return property ${JSON.stringify(key)} should not start with \"$\" or \"_\" ` +\r\n                `which are reserved prefixes for Vue internals.`);\r\n            return;\r\n        }\r\n        Object.defineProperty(ctx, key, {\r\n            enumerable: true,\r\n            configurable: true,\r\n            get: () => setupState[key],\r\n            set: NOOP\r\n        });\r\n    });\r\n}\n\nconst emptyAppContext = createAppContext();\r\nlet uid$1 = 0;\r\nfunction createComponentInstance(vnode, parent, suspense) {\r\n    const type = vnode.type;\r\n    // inherit parent app context - or - if root, adopt from root vnode\r\n    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\r\n    const instance = {\r\n        uid: uid$1++,\r\n        vnode,\r\n        type,\r\n        parent,\r\n        appContext,\r\n        root: null,\r\n        next: null,\r\n        subTree: null,\r\n        update: null,\r\n        render: null,\r\n        proxy: null,\r\n        exposed: null,\r\n        withProxy: null,\r\n        effects: null,\r\n        provides: parent ? parent.provides : Object.create(appContext.provides),\r\n        accessCache: null,\r\n        renderCache: [],\r\n        // local resovled assets\r\n        components: null,\r\n        directives: null,\r\n        // resolved props and emits options\r\n        propsOptions: normalizePropsOptions(type, appContext),\r\n        emitsOptions: normalizeEmitsOptions(type, appContext),\r\n        // emit\r\n        emit: null,\r\n        emitted: null,\r\n        // state\r\n        ctx: EMPTY_OBJ,\r\n        data: EMPTY_OBJ,\r\n        props: EMPTY_OBJ,\r\n        attrs: EMPTY_OBJ,\r\n        slots: EMPTY_OBJ,\r\n        refs: EMPTY_OBJ,\r\n        setupState: EMPTY_OBJ,\r\n        setupContext: null,\r\n        // suspense related\r\n        suspense,\r\n        suspenseId: suspense ? suspense.pendingId : 0,\r\n        asyncDep: null,\r\n        asyncResolved: false,\r\n        // lifecycle hooks\r\n        // not using enums here because it results in computed properties\r\n        isMounted: false,\r\n        isUnmounted: false,\r\n        isDeactivated: false,\r\n        bc: null,\r\n        c: null,\r\n        bm: null,\r\n        m: null,\r\n        bu: null,\r\n        u: null,\r\n        um: null,\r\n        bum: null,\r\n        da: null,\r\n        a: null,\r\n        rtg: null,\r\n        rtc: null,\r\n        ec: null\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        instance.ctx = createRenderContext(instance);\r\n    }\r\n    else {\r\n        instance.ctx = { _: instance };\r\n    }\r\n    instance.root = parent ? parent.root : instance;\r\n    instance.emit = emit.bind(null, instance);\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsComponentAdded(instance);\r\n    }\r\n    return instance;\r\n}\r\nlet currentInstance = null;\r\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\r\nconst setCurrentInstance = (instance) => {\r\n    currentInstance = instance;\r\n};\r\nconst isBuiltInTag = /*#__PURE__*/ makeMap('slot,component');\r\nfunction validateComponentName(name, config) {\r\n    const appIsNativeTag = config.isNativeTag || NO;\r\n    if (isBuiltInTag(name) || appIsNativeTag(name)) {\r\n        warn('Do not use built-in or reserved HTML elements as component id: ' + name);\r\n    }\r\n}\r\nlet isInSSRComponentSetup = false;\r\nfunction setupComponent(instance, isSSR = false) {\r\n    isInSSRComponentSetup = isSSR;\r\n    const { props, children, shapeFlag } = instance.vnode;\r\n    const isStateful = shapeFlag & 4 /* STATEFUL_COMPONENT */;\r\n    initProps(instance, props, isStateful, isSSR);\r\n    initSlots(instance, children);\r\n    const setupResult = isStateful\r\n        ? setupStatefulComponent(instance, isSSR)\r\n        : undefined;\r\n    isInSSRComponentSetup = false;\r\n    return setupResult;\r\n}\r\nfunction setupStatefulComponent(instance, isSSR) {\r\n    const Component = instance.type;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        if (Component.name) {\r\n            validateComponentName(Component.name, instance.appContext.config);\r\n        }\r\n        if (Component.components) {\r\n            const names = Object.keys(Component.components);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateComponentName(names[i], instance.appContext.config);\r\n            }\r\n        }\r\n        if (Component.directives) {\r\n            const names = Object.keys(Component.directives);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateDirectiveName(names[i]);\r\n            }\r\n        }\r\n    }\r\n    // 0. create render proxy property access cache\r\n    instance.accessCache = Object.create(null);\r\n    // 1. create public instance / render proxy\r\n    // also mark it raw so it's never observed\r\n    instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        exposePropsOnRenderContext(instance);\r\n    }\r\n    // 2. call setup()\r\n    const { setup } = Component;\r\n    if (setup) {\r\n        const setupContext = (instance.setupContext =\r\n            setup.length > 1 ? createSetupContext(instance) : null);\r\n        currentInstance = instance;\r\n        pauseTracking();\r\n        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [(process.env.NODE_ENV !== 'production') ? shallowReadonly(instance.props) : instance.props, setupContext]);\r\n        resetTracking();\r\n        currentInstance = null;\r\n        if (isPromise(setupResult)) {\r\n            if (isSSR) {\r\n                // return the promise so server-renderer can wait on it\r\n                return setupResult.then((resolvedResult) => {\r\n                    handleSetupResult(instance, resolvedResult);\r\n                });\r\n            }\r\n            else {\r\n                // async setup returned Promise.\r\n                // bail here and wait for re-entry.\r\n                instance.asyncDep = setupResult;\r\n            }\r\n        }\r\n        else {\r\n            handleSetupResult(instance, setupResult);\r\n        }\r\n    }\r\n    else {\r\n        finishComponentSetup(instance);\r\n    }\r\n}\r\nfunction handleSetupResult(instance, setupResult, isSSR) {\r\n    if (isFunction(setupResult)) {\r\n        // setup returned an inline render function\r\n        {\r\n            instance.render = setupResult;\r\n        }\r\n    }\r\n    else if (isObject(setupResult)) {\r\n        if ((process.env.NODE_ENV !== 'production') && isVNode(setupResult)) {\r\n            warn(`setup() should not return VNodes directly - ` +\r\n                `return a render function instead.`);\r\n        }\r\n        // setup returned bindings.\r\n        // assuming a render function compiled from template is present.\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.devtoolsRawSetupState = setupResult;\r\n        }\r\n        instance.setupState = proxyRefs(setupResult);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            exposeSetupStateOnRenderContext(instance);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production') && setupResult !== undefined) {\r\n        warn(`setup() should return an object. Received: ${setupResult === null ? 'null' : typeof setupResult}`);\r\n    }\r\n    finishComponentSetup(instance);\r\n}\r\nlet compile;\r\n/**\r\n * For runtime-dom to register the compiler.\r\n * Note the exported method uses any to avoid d.ts relying on the compiler types.\r\n */\r\nfunction registerRuntimeCompiler(_compile) {\r\n    compile = _compile;\r\n}\r\nfunction finishComponentSetup(instance, isSSR) {\r\n    const Component = instance.type;\r\n    // template / render function normalization\r\n    if (!instance.render) {\r\n        // could be set from setup()\r\n        if (compile && Component.template && !Component.render) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                startMeasure(instance, `compile`);\r\n            }\r\n            Component.render = compile(Component.template, {\r\n                isCustomElement: instance.appContext.config.isCustomElement,\r\n                delimiters: Component.delimiters\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                endMeasure(instance, `compile`);\r\n            }\r\n        }\r\n        instance.render = (Component.render || NOOP);\r\n        // for runtime-compiled render functions using `with` blocks, the render\r\n        // proxy used needs a different `has` handler which is more performant and\r\n        // also only allows a whitelist of globals to fallthrough.\r\n        if (instance.render._rc) {\r\n            instance.withProxy = new Proxy(instance.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\r\n        }\r\n    }\r\n    // support for 2.x options\r\n    if (__VUE_OPTIONS_API__) {\r\n        currentInstance = instance;\r\n        pauseTracking();\r\n        applyOptions(instance, Component);\r\n        resetTracking();\r\n        currentInstance = null;\r\n    }\r\n    // warn missing template/render\r\n    if ((process.env.NODE_ENV !== 'production') && !Component.render && instance.render === NOOP) {\r\n        /* istanbul ignore if */\r\n        if (!compile && Component.template) {\r\n            warn(`Component provided template option but ` +\r\n                `runtime compilation is not supported in this build of Vue.` +\r\n                ( ` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".`\r\n                    ) /* should not happen */);\r\n        }\r\n        else {\r\n            warn(`Component is missing template or render function.`);\r\n        }\r\n    }\r\n}\r\nconst attrHandlers = {\r\n    get: (target, key) => {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            markAttrsAccessed();\r\n        }\r\n        return target[key];\r\n    },\r\n    set: () => {\r\n        warn(`setupContext.attrs is readonly.`);\r\n        return false;\r\n    },\r\n    deleteProperty: () => {\r\n        warn(`setupContext.attrs is readonly.`);\r\n        return false;\r\n    }\r\n};\r\nfunction createSetupContext(instance) {\r\n    const expose = exposed => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.exposed) {\r\n            warn(`expose() should be called only once per setup().`);\r\n        }\r\n        instance.exposed = proxyRefs(exposed);\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        // We use getters in dev in case libs like test-utils overwrite instance\r\n        // properties (overwrites should not be done in prod)\r\n        return Object.freeze({\r\n            get props() {\r\n                return instance.props;\r\n            },\r\n            get attrs() {\r\n                return new Proxy(instance.attrs, attrHandlers);\r\n            },\r\n            get slots() {\r\n                return shallowReadonly(instance.slots);\r\n            },\r\n            get emit() {\r\n                return (event, ...args) => instance.emit(event, ...args);\r\n            },\r\n            expose\r\n        });\r\n    }\r\n    else {\r\n        return {\r\n            attrs: instance.attrs,\r\n            slots: instance.slots,\r\n            emit: instance.emit,\r\n            expose\r\n        };\r\n    }\r\n}\r\n// record effects created during a component's setup() so that they can be\r\n// stopped when the component unmounts\r\nfunction recordInstanceBoundEffect(effect, instance = currentInstance) {\r\n    if (instance) {\r\n        (instance.effects || (instance.effects = [])).push(effect);\r\n    }\r\n}\r\nconst classifyRE = /(?:^|[-_])(\\w)/g;\r\nconst classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');\r\n/* istanbul ignore next */\r\nfunction formatComponentName(instance, Component, isRoot = false) {\r\n    let name = isFunction(Component)\r\n        ? Component.displayName || Component.name\r\n        : Component.name;\r\n    if (!name && Component.__file) {\r\n        const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\r\n        if (match) {\r\n            name = match[1];\r\n        }\r\n    }\r\n    if (!name && instance && instance.parent) {\r\n        // try to infer the name based on reverse resolution\r\n        const inferFromRegistry = (registry) => {\r\n            for (const key in registry) {\r\n                if (registry[key] === Component) {\r\n                    return key;\r\n                }\r\n            }\r\n        };\r\n        name =\r\n            inferFromRegistry(instance.components ||\r\n                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);\r\n    }\r\n    return name ? classify(name) : isRoot ? `App` : `Anonymous`;\r\n}\r\nfunction isClassComponent(value) {\r\n    return isFunction(value) && '__vccOpts' in value;\r\n}\n\nfunction computed(getterOrOptions) {\r\n    const c = computed$1(getterOrOptions);\r\n    recordInstanceBoundEffect(c.effect);\r\n    return c;\r\n}\n\n// implementation\r\nfunction defineProps() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`defineProps() is a compiler-hint helper that is only usable inside ` +\r\n            `<script setup> of a single file component. Its arguments should be ` +\r\n            `compiled away and passing it at runtime has no effect.`);\r\n    }\r\n    return null;\r\n}\r\n// implementation\r\nfunction defineEmit() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`defineEmit() is a compiler-hint helper that is only usable inside ` +\r\n            `<script setup> of a single file component. Its arguments should be ` +\r\n            `compiled away and passing it at runtime has no effect.`);\r\n    }\r\n    return null;\r\n}\r\nfunction useContext() {\r\n    const i = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !i) {\r\n        warn(`useContext() called without active instance.`);\r\n    }\r\n    return i.setupContext || (i.setupContext = createSetupContext(i));\r\n}\n\n// Actual implementation\r\nfunction h(type, propsOrChildren, children) {\r\n    const l = arguments.length;\r\n    if (l === 2) {\r\n        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n            // single vnode without props\r\n            if (isVNode(propsOrChildren)) {\r\n                return createVNode(type, null, [propsOrChildren]);\r\n            }\r\n            // props without children\r\n            return createVNode(type, propsOrChildren);\r\n        }\r\n        else {\r\n            // omit props\r\n            return createVNode(type, null, propsOrChildren);\r\n        }\r\n    }\r\n    else {\r\n        if (l > 3) {\r\n            children = Array.prototype.slice.call(arguments, 2);\r\n        }\r\n        else if (l === 3 && isVNode(children)) {\r\n            children = [children];\r\n        }\r\n        return createVNode(type, propsOrChildren, children);\r\n    }\r\n}\n\nconst ssrContextKey = Symbol((process.env.NODE_ENV !== 'production') ? `ssrContext` : ``);\r\nconst useSSRContext = () => {\r\n    {\r\n        const ctx = inject(ssrContextKey);\r\n        if (!ctx) {\r\n            warn(`Server rendering context not provided. Make sure to only call ` +\r\n                `useSsrContext() conditionally in the server build.`);\r\n        }\r\n        return ctx;\r\n    }\r\n};\n\nfunction initCustomFormatter() {\r\n    /* eslint-disable no-restricted-globals */\r\n    if (!(process.env.NODE_ENV !== 'production') || typeof window === 'undefined') {\r\n        return;\r\n    }\r\n    const vueStyle = { style: 'color:#3ba776' };\r\n    const numberStyle = { style: 'color:#0b1bc9' };\r\n    const stringStyle = { style: 'color:#b62e24' };\r\n    const keywordStyle = { style: 'color:#9d288c' };\r\n    // custom formatter for Chrome\r\n    // https://www.mattzeunert.com/2016/02/19/custom-chrome-devtools-object-formatters.html\r\n    const formatter = {\r\n        header(obj) {\r\n            // TODO also format ComponentPublicInstance & ctx.slots/attrs in setup\r\n            if (!isObject(obj)) {\r\n                return null;\r\n            }\r\n            if (obj.__isVue) {\r\n                return ['div', vueStyle, `VueInstance`];\r\n            }\r\n            else if (isRef(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, genRefFlag(obj)],\r\n                    '<',\r\n                    formatValue(obj.value),\r\n                    `>`\r\n                ];\r\n            }\r\n            else if (isReactive(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Reactive'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    `>${isReadonly(obj) ? ` (readonly)` : ``}`\r\n                ];\r\n            }\r\n            else if (isReadonly(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Readonly'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    '>'\r\n                ];\r\n            }\r\n            return null;\r\n        },\r\n        hasBody(obj) {\r\n            return obj && obj.__isVue;\r\n        },\r\n        body(obj) {\r\n            if (obj && obj.__isVue) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ...formatInstance(obj.$)\r\n                ];\r\n            }\r\n        }\r\n    };\r\n    function formatInstance(instance) {\r\n        const blocks = [];\r\n        if (instance.type.props && instance.props) {\r\n            blocks.push(createInstanceBlock('props', toRaw(instance.props)));\r\n        }\r\n        if (instance.setupState !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('setup', instance.setupState));\r\n        }\r\n        if (instance.data !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('data', toRaw(instance.data)));\r\n        }\r\n        const computed = extractKeys(instance, 'computed');\r\n        if (computed) {\r\n            blocks.push(createInstanceBlock('computed', computed));\r\n        }\r\n        const injected = extractKeys(instance, 'inject');\r\n        if (injected) {\r\n            blocks.push(createInstanceBlock('injected', injected));\r\n        }\r\n        blocks.push([\r\n            'div',\r\n            {},\r\n            [\r\n                'span',\r\n                {\r\n                    style: keywordStyle.style + ';opacity:0.66'\r\n                },\r\n                '$ (internal): '\r\n            ],\r\n            ['object', { object: instance }]\r\n        ]);\r\n        return blocks;\r\n    }\r\n    function createInstanceBlock(type, target) {\r\n        target = extend({}, target);\r\n        if (!Object.keys(target).length) {\r\n            return ['span', {}];\r\n        }\r\n        return [\r\n            'div',\r\n            { style: 'line-height:1.25em;margin-bottom:0.6em' },\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'color:#476582'\r\n                },\r\n                type\r\n            ],\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'padding-left:1.25em'\r\n                },\r\n                ...Object.keys(target).map(key => {\r\n                    return [\r\n                        'div',\r\n                        {},\r\n                        ['span', keywordStyle, key + ': '],\r\n                        formatValue(target[key], false)\r\n                    ];\r\n                })\r\n            ]\r\n        ];\r\n    }\r\n    function formatValue(v, asRaw = true) {\r\n        if (typeof v === 'number') {\r\n            return ['span', numberStyle, v];\r\n        }\r\n        else if (typeof v === 'string') {\r\n            return ['span', stringStyle, JSON.stringify(v)];\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            return ['span', keywordStyle, v];\r\n        }\r\n        else if (isObject(v)) {\r\n            return ['object', { object: asRaw ? toRaw(v) : v }];\r\n        }\r\n        else {\r\n            return ['span', stringStyle, String(v)];\r\n        }\r\n    }\r\n    function extractKeys(instance, type) {\r\n        const Comp = instance.type;\r\n        if (isFunction(Comp)) {\r\n            return;\r\n        }\r\n        const extracted = {};\r\n        for (const key in instance.ctx) {\r\n            if (isKeyOfType(Comp, key, type)) {\r\n                extracted[key] = instance.ctx[key];\r\n            }\r\n        }\r\n        return extracted;\r\n    }\r\n    function isKeyOfType(Comp, key, type) {\r\n        const opts = Comp[type];\r\n        if ((isArray(opts) && opts.includes(key)) ||\r\n            (isObject(opts) && key in opts)) {\r\n            return true;\r\n        }\r\n        if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\r\n            return true;\r\n        }\r\n        if (Comp.mixins && Comp.mixins.some(m => isKeyOfType(m, key, type))) {\r\n            return true;\r\n        }\r\n    }\r\n    function genRefFlag(v) {\r\n        if (v._shallow) {\r\n            return `ShallowRef`;\r\n        }\r\n        if (v.effect) {\r\n            return `ComputedRef`;\r\n        }\r\n        return `Ref`;\r\n    }\r\n    if (window.devtoolsFormatters) {\r\n        window.devtoolsFormatters.push(formatter);\r\n    }\r\n    else {\r\n        window.devtoolsFormatters = [formatter];\r\n    }\r\n}\n\n/**\r\n * Actual implementation\r\n */\r\nfunction renderList(source, renderItem) {\r\n    let ret;\r\n    if (isArray(source) || isString(source)) {\r\n        ret = new Array(source.length);\r\n        for (let i = 0, l = source.length; i < l; i++) {\r\n            ret[i] = renderItem(source[i], i);\r\n        }\r\n    }\r\n    else if (typeof source === 'number') {\r\n        if ((process.env.NODE_ENV !== 'production') && !Number.isInteger(source)) {\r\n            warn(`The v-for range expect an integer value but got ${source}.`);\r\n            return [];\r\n        }\r\n        ret = new Array(source);\r\n        for (let i = 0; i < source; i++) {\r\n            ret[i] = renderItem(i + 1, i);\r\n        }\r\n    }\r\n    else if (isObject(source)) {\r\n        if (source[Symbol.iterator]) {\r\n            ret = Array.from(source, renderItem);\r\n        }\r\n        else {\r\n            const keys = Object.keys(source);\r\n            ret = new Array(keys.length);\r\n            for (let i = 0, l = keys.length; i < l; i++) {\r\n                const key = keys[i];\r\n                ret[i] = renderItem(source[key], key, i);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        ret = [];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * For prefixing keys in v-on=\"obj\" with \"on\"\r\n * @private\r\n */\r\nfunction toHandlers(obj) {\r\n    const ret = {};\r\n    if ((process.env.NODE_ENV !== 'production') && !isObject(obj)) {\r\n        warn(`v-on with no argument expects an object value.`);\r\n        return ret;\r\n    }\r\n    for (const key in obj) {\r\n        ret[toHandlerKey(key)] = obj[key];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Compiler runtime helper for creating dynamic slots object\r\n * @private\r\n */\r\nfunction createSlots(slots, dynamicSlots) {\r\n    for (let i = 0; i < dynamicSlots.length; i++) {\r\n        const slot = dynamicSlots[i];\r\n        // array of dynamic slot generated by <template v-for=\"...\" #[...]>\r\n        if (isArray(slot)) {\r\n            for (let j = 0; j < slot.length; j++) {\r\n                slots[slot[j].name] = slot[j].fn;\r\n            }\r\n        }\r\n        else if (slot) {\r\n            // conditional single slot generated by <template v-if=\"...\" #foo>\r\n            slots[slot.name] = slot.fn;\r\n        }\r\n    }\r\n    return slots;\r\n}\n\n// Core API ------------------------------------------------------------------\r\nconst version = \"3.0.4\";\r\n/**\r\n * SSR utils for \\@vue/server-renderer. Only exposed in cjs builds.\r\n * @internal\r\n */\r\nconst ssrUtils = ( null);\n\nexport { BaseTransition, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, computed, createBlock, createCommentVNode, createHydrationRenderer, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmit, defineProps, devtools, getCurrentInstance, getTransitionRawChildren, h, handleError, initCustomFormatter, inject, isVNode, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useContext, useSSRContext, useTransitionState, version, warn, watch, watchEffect, withCtx, withDirectives, withScopeId };\n","import { camelize, warn, callWithAsyncErrorHandling, getCurrentInstance, onMounted, watchEffect, onUpdated, Fragment, h, BaseTransition, useTransitionState, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, createVNode, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, isOn, isModelListener, isFunction, EMPTY_OBJ, extend, isObject, toNumber, invokeArrayFns, looseIndexOf, isSet, looseEqual, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nconst doc = (typeof document !== 'undefined' ? document : null);\r\nlet tempContainer;\r\nlet tempSVGContainer;\r\nconst nodeOps = {\r\n    insert: (child, parent, anchor) => {\r\n        parent.insertBefore(child, anchor || null);\r\n    },\r\n    remove: child => {\r\n        const parent = child.parentNode;\r\n        if (parent) {\r\n            parent.removeChild(child);\r\n        }\r\n    },\r\n    createElement: (tag, isSVG, is) => isSVG\r\n        ? doc.createElementNS(svgNS, tag)\r\n        : doc.createElement(tag, is ? { is } : undefined),\r\n    createText: text => doc.createTextNode(text),\r\n    createComment: text => doc.createComment(text),\r\n    setText: (node, text) => {\r\n        node.nodeValue = text;\r\n    },\r\n    setElementText: (el, text) => {\r\n        el.textContent = text;\r\n    },\r\n    parentNode: node => node.parentNode,\r\n    nextSibling: node => node.nextSibling,\r\n    querySelector: selector => doc.querySelector(selector),\r\n    setScopeId(el, id) {\r\n        el.setAttribute(id, '');\r\n    },\r\n    cloneNode(el) {\r\n        return el.cloneNode(true);\r\n    },\r\n    // __UNSAFE__\r\n    // Reason: innerHTML.\r\n    // Static content here can only come from compiled templates.\r\n    // As long as the user only uses trusted templates, this is safe.\r\n    insertStaticContent(content, parent, anchor, isSVG) {\r\n        const temp = isSVG\r\n            ? tempSVGContainer ||\r\n                (tempSVGContainer = doc.createElementNS(svgNS, 'svg'))\r\n            : tempContainer || (tempContainer = doc.createElement('div'));\r\n        temp.innerHTML = content;\r\n        const first = temp.firstChild;\r\n        let node = first;\r\n        let last = node;\r\n        while (node) {\r\n            last = node;\r\n            nodeOps.insert(node, parent, anchor);\r\n            node = temp.firstChild;\r\n        }\r\n        return [first, last];\r\n    }\r\n};\n\n// compiler should normalize class + :class bindings on the same element\r\n// into a single binding ['staticClass', dynamic]\r\nfunction patchClass(el, value, isSVG) {\r\n    if (value == null) {\r\n        value = '';\r\n    }\r\n    if (isSVG) {\r\n        el.setAttribute('class', value);\r\n    }\r\n    else {\r\n        // directly setting className should be faster than setAttribute in theory\r\n        // if this is an element during a transition, take the temporary transition\r\n        // classes into account.\r\n        const transitionClasses = el._vtc;\r\n        if (transitionClasses) {\r\n            value = (value\r\n                ? [value, ...transitionClasses]\r\n                : [...transitionClasses]).join(' ');\r\n        }\r\n        el.className = value;\r\n    }\r\n}\n\nfunction patchStyle(el, prev, next) {\r\n    const style = el.style;\r\n    if (!next) {\r\n        el.removeAttribute('style');\r\n    }\r\n    else if (isString(next)) {\r\n        if (prev !== next) {\r\n            style.cssText = next;\r\n        }\r\n    }\r\n    else {\r\n        for (const key in next) {\r\n            setStyle(style, key, next[key]);\r\n        }\r\n        if (prev && !isString(prev)) {\r\n            for (const key in prev) {\r\n                if (next[key] == null) {\r\n                    setStyle(style, key, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nconst importantRE = /\\s*!important$/;\r\nfunction setStyle(style, name, val) {\r\n    if (isArray(val)) {\r\n        val.forEach(v => setStyle(style, name, v));\r\n    }\r\n    else {\r\n        if (name.startsWith('--')) {\r\n            // custom property definition\r\n            style.setProperty(name, val);\r\n        }\r\n        else {\r\n            const prefixed = autoPrefix(style, name);\r\n            if (importantRE.test(val)) {\r\n                // !important\r\n                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');\r\n            }\r\n            else {\r\n                style[prefixed] = val;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst prefixes = ['Webkit', 'Moz', 'ms'];\r\nconst prefixCache = {};\r\nfunction autoPrefix(style, rawName) {\r\n    const cached = prefixCache[rawName];\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let name = camelize(rawName);\r\n    if (name !== 'filter' && name in style) {\r\n        return (prefixCache[rawName] = name);\r\n    }\r\n    name = capitalize(name);\r\n    for (let i = 0; i < prefixes.length; i++) {\r\n        const prefixed = prefixes[i] + name;\r\n        if (prefixed in style) {\r\n            return (prefixCache[rawName] = prefixed);\r\n        }\r\n    }\r\n    return rawName;\r\n}\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\r\nfunction patchAttr(el, key, value, isSVG) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && value === false)) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\n\n// __UNSAFE__\r\n// functions. The user is responsible for using them with only trusted content.\r\nfunction patchDOMProp(el, key, value, \r\n// the following args are passed only due to potential innerHTML/textContent\r\n// overriding existing VNodes, in which case the old tree must be properly\r\n// unmounted.\r\nprevChildren, parentComponent, parentSuspense, unmountChildren) {\r\n    if (key === 'innerHTML' || key === 'textContent') {\r\n        if (prevChildren) {\r\n            unmountChildren(prevChildren, parentComponent, parentSuspense);\r\n        }\r\n        el[key] = value == null ? '' : value;\r\n        return;\r\n    }\r\n    if (key === 'value' && el.tagName !== 'PROGRESS') {\r\n        // store value as _value as well since\r\n        // non-string values will be stringified.\r\n        el._value = value;\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n        return;\r\n    }\r\n    if (value === '' || value == null) {\r\n        const type = typeof el[key];\r\n        if (value === '' && type === 'boolean') {\r\n            // e.g. <select multiple> compiles to { multiple: '' }\r\n            el[key] = true;\r\n            return;\r\n        }\r\n        else if (value == null && type === 'string') {\r\n            // e.g. <div :id=\"null\">\r\n            el[key] = '';\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n        else if (type === 'number') {\r\n            // e.g. <img :width=\"null\">\r\n            el[key] = 0;\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n    }\r\n    // some properties perform value validation and throw\r\n    try {\r\n        el[key] = value;\r\n    }\r\n    catch (e) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Failed setting prop \"${key}\" on <${el.tagName.toLowerCase()}>: ` +\r\n                `value ${value} is invalid.`, e);\r\n        }\r\n    }\r\n}\n\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nlet _getNow = Date.now;\r\n// Determine what event timestamp the browser is using. Annoyingly, the\r\n// timestamp can either be hi-res (relative to page load) or low-res\r\n// (relative to UNIX epoch), so in order to compare time we have to use the\r\n// same timestamp type when saving the flush timestamp.\r\nif (typeof document !== 'undefined' &&\r\n    _getNow() > document.createEvent('Event').timeStamp) {\r\n    // if the low-res timestamp which is bigger than the event timestamp\r\n    // (which is evaluated AFTER) it means the event is using a hi-res timestamp,\r\n    // and we need to use the hi-res version for event listeners as well.\r\n    _getNow = () => performance.now();\r\n}\r\n// To avoid the overhead of repeatedly calling performance.now(), we cache\r\n// and use the same timestamp for all event listeners attached in the same tick.\r\nlet cachedNow = 0;\r\nconst p = Promise.resolve();\r\nconst reset = () => {\r\n    cachedNow = 0;\r\n};\r\nconst getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()));\r\nfunction addEventListener(el, event, handler, options) {\r\n    el.addEventListener(event, handler, options);\r\n}\r\nfunction removeEventListener(el, event, handler, options) {\r\n    el.removeEventListener(event, handler, options);\r\n}\r\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\r\n    // vei = vue event invokers\r\n    const invokers = el._vei || (el._vei = {});\r\n    const existingInvoker = invokers[rawName];\r\n    if (nextValue && existingInvoker) {\r\n        // patch\r\n        existingInvoker.value = nextValue;\r\n    }\r\n    else {\r\n        const [name, options] = parseName(rawName);\r\n        if (nextValue) {\r\n            // add\r\n            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));\r\n            addEventListener(el, name, invoker, options);\r\n        }\r\n        else if (existingInvoker) {\r\n            // remove\r\n            removeEventListener(el, name, existingInvoker, options);\r\n            invokers[rawName] = undefined;\r\n        }\r\n    }\r\n}\r\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\r\nfunction parseName(name) {\r\n    let options;\r\n    if (optionsModifierRE.test(name)) {\r\n        options = {};\r\n        let m;\r\n        while ((m = name.match(optionsModifierRE))) {\r\n            name = name.slice(0, name.length - m[0].length);\r\n            options[m[0].toLowerCase()] = true;\r\n        }\r\n    }\r\n    return [name.slice(2).toLowerCase(), options];\r\n}\r\nfunction createInvoker(initialValue, instance) {\r\n    const invoker = (e) => {\r\n        // async edge case #6566: inner click event triggers patch, event handler\r\n        // attached to outer element during patch, and triggered again. This\r\n        // happens because browsers fire microtask ticks between event propagation.\r\n        // the solution is simple: we save the timestamp when a handler is attached,\r\n        // and the handler would only fire if the event passed to it was fired\r\n        // AFTER it was attached.\r\n        const timeStamp = e.timeStamp || _getNow();\r\n        if (timeStamp >= invoker.attached - 1) {\r\n            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);\r\n        }\r\n    };\r\n    invoker.value = initialValue;\r\n    invoker.attached = getNow();\r\n    return invoker;\r\n}\r\nfunction patchStopImmediatePropagation(e, value) {\r\n    if (isArray(value)) {\r\n        const originalStop = e.stopImmediatePropagation;\r\n        e.stopImmediatePropagation = () => {\r\n            originalStop.call(e);\r\n            e._stopped = true;\r\n        };\r\n        return value.map(fn => (e) => !e._stopped && fn(e));\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\n\nconst nativeOnRE = /^on[a-z]/;\r\nconst forcePatchProp = (_, key) => key === 'value';\r\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\r\n    switch (key) {\r\n        // special\r\n        case 'class':\r\n            patchClass(el, nextValue, isSVG);\r\n            break;\r\n        case 'style':\r\n            patchStyle(el, prevValue, nextValue);\r\n            break;\r\n        default:\r\n            if (isOn(key)) {\r\n                // ignore v-model listeners\r\n                if (!isModelListener(key)) {\r\n                    patchEvent(el, key, prevValue, nextValue, parentComponent);\r\n                }\r\n            }\r\n            else if (shouldSetAsProp(el, key, nextValue, isSVG)) {\r\n                patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);\r\n            }\r\n            else {\r\n                // special case for <input v-model type=\"checkbox\"> with\r\n                // :true-value & :false-value\r\n                // store value as dom properties since non-string values will be\r\n                // stringified.\r\n                if (key === 'true-value') {\r\n                    el._trueValue = nextValue;\r\n                }\r\n                else if (key === 'false-value') {\r\n                    el._falseValue = nextValue;\r\n                }\r\n                patchAttr(el, key, nextValue, isSVG);\r\n            }\r\n            break;\r\n    }\r\n};\r\nfunction shouldSetAsProp(el, key, value, isSVG) {\r\n    if (isSVG) {\r\n        // most keys must be set as attribute on svg elements to work\r\n        // ...except innerHTML\r\n        if (key === 'innerHTML') {\r\n            return true;\r\n        }\r\n        // or native onclick with function values\r\n        if (key in el && nativeOnRE.test(key) && isFunction(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    // spellcheck and draggable are numerated attrs, however their\r\n    // corresponding DOM properties are actually booleans - this leads to\r\n    // setting it with a string \"false\" value leading it to be coerced to\r\n    // `true`, so we need to always treat them as attributes.\r\n    // Note that `contentEditable` doesn't have this problem: its DOM\r\n    // property is also enumerated string values.\r\n    if (key === 'spellcheck' || key === 'draggable') {\r\n        return false;\r\n    }\r\n    // #1787 form as an attribute must be a string, while it accepts an Element as\r\n    // a prop\r\n    if (key === 'form' && typeof value === 'string') {\r\n        return false;\r\n    }\r\n    // #1526 <input list> must be set as attribute\r\n    if (key === 'list' && el.tagName === 'INPUT') {\r\n        return false;\r\n    }\r\n    // native onclick with string value, must be set as attribute\r\n    if (nativeOnRE.test(key) && isString(value)) {\r\n        return false;\r\n    }\r\n    return key in el;\r\n}\n\nfunction useCssModule(name = '$style') {\r\n    /* istanbul ignore else */\r\n    {\r\n        const instance = getCurrentInstance();\r\n        if (!instance) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`useCssModule must be called inside setup()`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const modules = instance.type.__cssModules;\r\n        if (!modules) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`Current instance does not have CSS modules injected.`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const mod = modules[name];\r\n        if (!mod) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current instance does not have CSS module named \"${name}\".`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        return mod;\r\n    }\r\n}\n\n/**\r\n * Runtime helper for SFC's CSS variable injection feature.\r\n * @private\r\n */\r\nfunction useCssVars(getter) {\r\n    const instance = getCurrentInstance();\r\n    /* istanbul ignore next */\r\n    if (!instance) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`useCssVars is called without current active component instance.`);\r\n        return;\r\n    }\r\n    const setVars = () => setVarsOnVNode(instance.subTree, getter(instance.proxy));\r\n    onMounted(() => watchEffect(setVars, { flush: 'post' }));\r\n    onUpdated(setVars);\r\n}\r\nfunction setVarsOnVNode(vnode, vars) {\r\n    if ( vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        const suspense = vnode.suspense;\r\n        vnode = suspense.activeBranch;\r\n        if (suspense.pendingBranch && !suspense.isHydrating) {\r\n            suspense.effects.push(() => {\r\n                setVarsOnVNode(suspense.activeBranch, vars);\r\n            });\r\n        }\r\n    }\r\n    // drill down HOCs until it's a non-component vnode\r\n    while (vnode.component) {\r\n        vnode = vnode.component.subTree;\r\n    }\r\n    if (vnode.shapeFlag & 1 /* ELEMENT */ && vnode.el) {\r\n        const style = vnode.el.style;\r\n        for (const key in vars) {\r\n            style.setProperty(`--${key}`, vars[key]);\r\n        }\r\n    }\r\n    else if (vnode.type === Fragment) {\r\n        vnode.children.forEach(c => setVarsOnVNode(c, vars));\r\n    }\r\n}\n\nconst TRANSITION = 'transition';\r\nconst ANIMATION = 'animation';\r\n// DOM Transition is a higher-order-component based on the platform-agnostic\r\n// base Transition component, with DOM-specific logic.\r\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\r\nTransition.displayName = 'Transition';\r\nconst DOMTransitionPropsValidators = {\r\n    name: String,\r\n    type: String,\r\n    css: {\r\n        type: Boolean,\r\n        default: true\r\n    },\r\n    duration: [String, Number, Object],\r\n    enterFromClass: String,\r\n    enterActiveClass: String,\r\n    enterToClass: String,\r\n    appearFromClass: String,\r\n    appearActiveClass: String,\r\n    appearToClass: String,\r\n    leaveFromClass: String,\r\n    leaveActiveClass: String,\r\n    leaveToClass: String\r\n};\r\nconst TransitionPropsValidators = (Transition.props = /*#__PURE__*/ extend({}, BaseTransition.props, DOMTransitionPropsValidators));\r\nfunction resolveTransitionProps(rawProps) {\r\n    let { name = 'v', type, css = true, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;\r\n    const baseProps = {};\r\n    for (const key in rawProps) {\r\n        if (!(key in DOMTransitionPropsValidators)) {\r\n            baseProps[key] = rawProps[key];\r\n        }\r\n    }\r\n    if (!css) {\r\n        return baseProps;\r\n    }\r\n    const durations = normalizeDuration(duration);\r\n    const enterDuration = durations && durations[0];\r\n    const leaveDuration = durations && durations[1];\r\n    const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;\r\n    const finishEnter = (el, isAppear, done) => {\r\n        removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n        removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\r\n        done && done();\r\n    };\r\n    const finishLeave = (el, done) => {\r\n        removeTransitionClass(el, leaveToClass);\r\n        removeTransitionClass(el, leaveActiveClass);\r\n        done && done();\r\n    };\r\n    const makeEnterHook = (isAppear) => {\r\n        return (el, done) => {\r\n            const hook = isAppear ? onAppear : onEnter;\r\n            const resolve = () => finishEnter(el, isAppear, done);\r\n            hook && hook(el, resolve);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\r\n                addTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n                if (!(hook && hook.length > 1)) {\r\n                    whenTransitionEnds(el, type, enterDuration, resolve);\r\n                }\r\n            });\r\n        };\r\n    };\r\n    return extend(baseProps, {\r\n        onBeforeEnter(el) {\r\n            onBeforeEnter && onBeforeEnter(el);\r\n            addTransitionClass(el, enterActiveClass);\r\n            addTransitionClass(el, enterFromClass);\r\n        },\r\n        onBeforeAppear(el) {\r\n            onBeforeAppear && onBeforeAppear(el);\r\n            addTransitionClass(el, appearActiveClass);\r\n            addTransitionClass(el, appearFromClass);\r\n        },\r\n        onEnter: makeEnterHook(false),\r\n        onAppear: makeEnterHook(true),\r\n        onLeave(el, done) {\r\n            const resolve = () => finishLeave(el, done);\r\n            addTransitionClass(el, leaveActiveClass);\r\n            addTransitionClass(el, leaveFromClass);\r\n            // ref #2531, #2593\r\n            // disabling the transition before nextFrame ensures styles from\r\n            // *-leave-from and *-enter-from classes are applied instantly before\r\n            // the transition starts. This is applied for enter transition as well\r\n            // so that it accounts for `visibility: hidden` cases.\r\n            const cachedTransition = el.style.transitionProperty;\r\n            el.style.transitionProperty = 'none';\r\n            nextFrame(() => {\r\n                el.style.transitionProperty = cachedTransition;\r\n                removeTransitionClass(el, leaveFromClass);\r\n                addTransitionClass(el, leaveToClass);\r\n                if (!(onLeave && onLeave.length > 1)) {\r\n                    whenTransitionEnds(el, type, leaveDuration, resolve);\r\n                }\r\n            });\r\n            onLeave && onLeave(el, resolve);\r\n        },\r\n        onEnterCancelled(el) {\r\n            finishEnter(el, false);\r\n            onEnterCancelled && onEnterCancelled(el);\r\n        },\r\n        onAppearCancelled(el) {\r\n            finishEnter(el, true);\r\n            onAppearCancelled && onAppearCancelled(el);\r\n        },\r\n        onLeaveCancelled(el) {\r\n            finishLeave(el);\r\n            onLeaveCancelled && onLeaveCancelled(el);\r\n        }\r\n    });\r\n}\r\nfunction normalizeDuration(duration) {\r\n    if (duration == null) {\r\n        return null;\r\n    }\r\n    else if (isObject(duration)) {\r\n        return [NumberOf(duration.enter), NumberOf(duration.leave)];\r\n    }\r\n    else {\r\n        const n = NumberOf(duration);\r\n        return [n, n];\r\n    }\r\n}\r\nfunction NumberOf(val) {\r\n    const res = toNumber(val);\r\n    if ((process.env.NODE_ENV !== 'production'))\r\n        validateDuration(res);\r\n    return res;\r\n}\r\nfunction validateDuration(val) {\r\n    if (typeof val !== 'number') {\r\n        warn(`<transition> explicit duration is not a valid number - ` +\r\n            `got ${JSON.stringify(val)}.`);\r\n    }\r\n    else if (isNaN(val)) {\r\n        warn(`<transition> explicit duration is NaN - ` +\r\n            'the duration expression might be incorrect.');\r\n    }\r\n}\r\nfunction addTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.add(c));\r\n    (el._vtc ||\r\n        (el._vtc = new Set())).add(cls);\r\n}\r\nfunction removeTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.remove(c));\r\n    const { _vtc } = el;\r\n    if (_vtc) {\r\n        _vtc.delete(cls);\r\n        if (!_vtc.size) {\r\n            el._vtc = undefined;\r\n        }\r\n    }\r\n}\r\nfunction nextFrame(cb) {\r\n    requestAnimationFrame(() => {\r\n        requestAnimationFrame(cb);\r\n    });\r\n}\r\nlet endId = 0;\r\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\r\n    const id = (el._endId = ++endId);\r\n    const resolveIfNotStale = () => {\r\n        if (id === el._endId) {\r\n            resolve();\r\n        }\r\n    };\r\n    if (explicitTimeout) {\r\n        return setTimeout(resolveIfNotStale, explicitTimeout);\r\n    }\r\n    const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\r\n    if (!type) {\r\n        return resolve();\r\n    }\r\n    const endEvent = type + 'end';\r\n    let ended = 0;\r\n    const end = () => {\r\n        el.removeEventListener(endEvent, onEnd);\r\n        resolveIfNotStale();\r\n    };\r\n    const onEnd = (e) => {\r\n        if (e.target === el && ++ended >= propCount) {\r\n            end();\r\n        }\r\n    };\r\n    setTimeout(() => {\r\n        if (ended < propCount) {\r\n            end();\r\n        }\r\n    }, timeout + 1);\r\n    el.addEventListener(endEvent, onEnd);\r\n}\r\nfunction getTransitionInfo(el, expectedType) {\r\n    const styles = window.getComputedStyle(el);\r\n    // JSDOM may return undefined for transition properties\r\n    const getStyleProperties = (key) => (styles[key] || '').split(', ');\r\n    const transitionDelays = getStyleProperties(TRANSITION + 'Delay');\r\n    const transitionDurations = getStyleProperties(TRANSITION + 'Duration');\r\n    const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\r\n    const animationDelays = getStyleProperties(ANIMATION + 'Delay');\r\n    const animationDurations = getStyleProperties(ANIMATION + 'Duration');\r\n    const animationTimeout = getTimeout(animationDelays, animationDurations);\r\n    let type = null;\r\n    let timeout = 0;\r\n    let propCount = 0;\r\n    /* istanbul ignore if */\r\n    if (expectedType === TRANSITION) {\r\n        if (transitionTimeout > 0) {\r\n            type = TRANSITION;\r\n            timeout = transitionTimeout;\r\n            propCount = transitionDurations.length;\r\n        }\r\n    }\r\n    else if (expectedType === ANIMATION) {\r\n        if (animationTimeout > 0) {\r\n            type = ANIMATION;\r\n            timeout = animationTimeout;\r\n            propCount = animationDurations.length;\r\n        }\r\n    }\r\n    else {\r\n        timeout = Math.max(transitionTimeout, animationTimeout);\r\n        type =\r\n            timeout > 0\r\n                ? transitionTimeout > animationTimeout\r\n                    ? TRANSITION\r\n                    : ANIMATION\r\n                : null;\r\n        propCount = type\r\n            ? type === TRANSITION\r\n                ? transitionDurations.length\r\n                : animationDurations.length\r\n            : 0;\r\n    }\r\n    const hasTransform = type === TRANSITION &&\r\n        /\\b(transform|all)(,|$)/.test(styles[TRANSITION + 'Property']);\r\n    return {\r\n        type,\r\n        timeout,\r\n        propCount,\r\n        hasTransform\r\n    };\r\n}\r\nfunction getTimeout(delays, durations) {\r\n    while (delays.length < durations.length) {\r\n        delays = delays.concat(delays);\r\n    }\r\n    return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\r\n}\r\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer\r\n// numbers in a locale-dependent way, using a comma instead of a dot.\r\n// If comma is not replaced with a dot, the input will be rounded down\r\n// (i.e. acting as a floor function) causing unexpected behaviors\r\nfunction toMs(s) {\r\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\r\n}\n\nconst positionMap = new WeakMap();\r\nconst newPositionMap = new WeakMap();\r\nconst TransitionGroupImpl = {\r\n    name: 'TransitionGroup',\r\n    props: /*#__PURE__*/ extend({}, TransitionPropsValidators, {\r\n        tag: String,\r\n        moveClass: String\r\n    }),\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevChildren;\r\n        let children;\r\n        onUpdated(() => {\r\n            // children is guaranteed to exist after initial render\r\n            if (!prevChildren.length) {\r\n                return;\r\n            }\r\n            const moveClass = props.moveClass || `${props.name || 'v'}-move`;\r\n            if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {\r\n                return;\r\n            }\r\n            // we divide the work into three loops to avoid mixing DOM reads and writes\r\n            // in each iteration - which helps prevent layout thrashing.\r\n            prevChildren.forEach(callPendingCbs);\r\n            prevChildren.forEach(recordPosition);\r\n            const movedChildren = prevChildren.filter(applyTranslation);\r\n            // force reflow to put everything in position\r\n            forceReflow();\r\n            movedChildren.forEach(c => {\r\n                const el = c.el;\r\n                const style = el.style;\r\n                addTransitionClass(el, moveClass);\r\n                style.transform = style.webkitTransform = style.transitionDuration = '';\r\n                const cb = (el._moveCb = (e) => {\r\n                    if (e && e.target !== el) {\r\n                        return;\r\n                    }\r\n                    if (!e || /transform$/.test(e.propertyName)) {\r\n                        el.removeEventListener('transitionend', cb);\r\n                        el._moveCb = null;\r\n                        removeTransitionClass(el, moveClass);\r\n                    }\r\n                });\r\n                el.addEventListener('transitionend', cb);\r\n            });\r\n        });\r\n        return () => {\r\n            const rawProps = toRaw(props);\r\n            const cssTransitionProps = resolveTransitionProps(rawProps);\r\n            const tag = rawProps.tag || Fragment;\r\n            prevChildren = children;\r\n            children = slots.default ? getTransitionRawChildren(slots.default()) : [];\r\n            for (let i = 0; i < children.length; i++) {\r\n                const child = children[i];\r\n                if (child.key != null) {\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`<TransitionGroup> children must be keyed.`);\r\n                }\r\n            }\r\n            if (prevChildren) {\r\n                for (let i = 0; i < prevChildren.length; i++) {\r\n                    const child = prevChildren[i];\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                    positionMap.set(child, child.el.getBoundingClientRect());\r\n                }\r\n            }\r\n            return createVNode(tag, null, children);\r\n        };\r\n    }\r\n};\r\nconst TransitionGroup = TransitionGroupImpl;\r\nfunction callPendingCbs(c) {\r\n    const el = c.el;\r\n    if (el._moveCb) {\r\n        el._moveCb();\r\n    }\r\n    if (el._enterCb) {\r\n        el._enterCb();\r\n    }\r\n}\r\nfunction recordPosition(c) {\r\n    newPositionMap.set(c, c.el.getBoundingClientRect());\r\n}\r\nfunction applyTranslation(c) {\r\n    const oldPos = positionMap.get(c);\r\n    const newPos = newPositionMap.get(c);\r\n    const dx = oldPos.left - newPos.left;\r\n    const dy = oldPos.top - newPos.top;\r\n    if (dx || dy) {\r\n        const s = c.el.style;\r\n        s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\r\n        s.transitionDuration = '0s';\r\n        return c;\r\n    }\r\n}\r\n// this is put in a dedicated function to avoid the line from being treeshaken\r\nfunction forceReflow() {\r\n    return document.body.offsetHeight;\r\n}\r\nfunction hasCSSTransform(el, root, moveClass) {\r\n    // Detect whether an element with the move class applied has\r\n    // CSS transitions. Since the element may be inside an entering\r\n    // transition at this very moment, we make a clone of it and remove\r\n    // all other transition classes applied to ensure only the move class\r\n    // is applied.\r\n    const clone = el.cloneNode();\r\n    if (el._vtc) {\r\n        el._vtc.forEach(cls => {\r\n            cls.split(/\\s+/).forEach(c => c && clone.classList.remove(c));\r\n        });\r\n    }\r\n    moveClass.split(/\\s+/).forEach(c => c && clone.classList.add(c));\r\n    clone.style.display = 'none';\r\n    const container = (root.nodeType === 1\r\n        ? root\r\n        : root.parentNode);\r\n    container.appendChild(clone);\r\n    const { hasTransform } = getTransitionInfo(clone);\r\n    container.removeChild(clone);\r\n    return hasTransform;\r\n}\n\nconst getModelAssigner = (vnode) => {\r\n    const fn = vnode.props['onUpdate:modelValue'];\r\n    return isArray(fn) ? value => invokeArrayFns(fn, value) : fn;\r\n};\r\nfunction onCompositionStart(e) {\r\n    e.target.composing = true;\r\n}\r\nfunction onCompositionEnd(e) {\r\n    const target = e.target;\r\n    if (target.composing) {\r\n        target.composing = false;\r\n        trigger(target, 'input');\r\n    }\r\n}\r\nfunction trigger(el, type) {\r\n    const e = document.createEvent('HTMLEvents');\r\n    e.initEvent(type, true, true);\r\n    el.dispatchEvent(e);\r\n}\r\n// We are exporting the v-model runtime directly as vnode hooks so that it can\r\n// be tree-shaken in case v-model is never used.\r\nconst vModelText = {\r\n    created(el, { modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        const castToNumber = number || el.type === 'number';\r\n        addEventListener(el, lazy ? 'change' : 'input', e => {\r\n            if (e.target.composing)\r\n                return;\r\n            let domValue = el.value;\r\n            if (trim) {\r\n                domValue = domValue.trim();\r\n            }\r\n            else if (castToNumber) {\r\n                domValue = toNumber(domValue);\r\n            }\r\n            el._assign(domValue);\r\n        });\r\n        if (trim) {\r\n            addEventListener(el, 'change', () => {\r\n                el.value = el.value.trim();\r\n            });\r\n        }\r\n        if (!lazy) {\r\n            addEventListener(el, 'compositionstart', onCompositionStart);\r\n            addEventListener(el, 'compositionend', onCompositionEnd);\r\n            // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n            // switching focus before confirming composition choice\r\n            // this also fixes the issue where some browsers e.g. iOS Chrome\r\n            // fires \"change\" instead of \"input\" on autocomplete.\r\n            addEventListener(el, 'change', onCompositionEnd);\r\n        }\r\n    },\r\n    // set value on mounted so it's after min/max for type=\"range\"\r\n    mounted(el, { value }) {\r\n        el.value = value == null ? '' : value;\r\n    },\r\n    beforeUpdate(el, { value, modifiers: { trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        // avoid clearing unresolved text. #2302\r\n        if (el.composing)\r\n            return;\r\n        if (document.activeElement === el) {\r\n            if (trim && el.value.trim() === value) {\r\n                return;\r\n            }\r\n            if ((number || el.type === 'number') && toNumber(el.value) === value) {\r\n                return;\r\n            }\r\n        }\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n    }\r\n};\r\nconst vModelCheckbox = {\r\n    created(el, _, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            const modelValue = el._modelValue;\r\n            const elementValue = getValue(el);\r\n            const checked = el.checked;\r\n            const assign = el._assign;\r\n            if (isArray(modelValue)) {\r\n                const index = looseIndexOf(modelValue, elementValue);\r\n                const found = index !== -1;\r\n                if (checked && !found) {\r\n                    assign(modelValue.concat(elementValue));\r\n                }\r\n                else if (!checked && found) {\r\n                    const filtered = [...modelValue];\r\n                    filtered.splice(index, 1);\r\n                    assign(filtered);\r\n                }\r\n            }\r\n            else if (isSet(modelValue)) {\r\n                const cloned = new Set(modelValue);\r\n                if (checked) {\r\n                    cloned.add(elementValue);\r\n                }\r\n                else {\r\n                    cloned.delete(elementValue);\r\n                }\r\n                assign(cloned);\r\n            }\r\n            else {\r\n                assign(getCheckboxValue(el, checked));\r\n            }\r\n        });\r\n    },\r\n    // set initial checked on mount to wait for true-value/false-value\r\n    mounted: setChecked,\r\n    beforeUpdate(el, binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        setChecked(el, binding, vnode);\r\n    }\r\n};\r\nfunction setChecked(el, { value, oldValue }, vnode) {\r\n    el._modelValue = value;\r\n    if (isArray(value)) {\r\n        el.checked = looseIndexOf(value, vnode.props.value) > -1;\r\n    }\r\n    else if (isSet(value)) {\r\n        el.checked = value.has(vnode.props.value);\r\n    }\r\n    else if (value !== oldValue) {\r\n        el.checked = looseEqual(value, getCheckboxValue(el, true));\r\n    }\r\n}\r\nconst vModelRadio = {\r\n    created(el, { value }, vnode) {\r\n        el.checked = looseEqual(value, vnode.props.value);\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            el._assign(getValue(el));\r\n        });\r\n    },\r\n    beforeUpdate(el, { value, oldValue }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        if (value !== oldValue) {\r\n            el.checked = looseEqual(value, vnode.props.value);\r\n        }\r\n    }\r\n};\r\nconst vModelSelect = {\r\n    created(el, { value, modifiers: { number } }, vnode) {\r\n        const isSetModel = isSet(value);\r\n        addEventListener(el, 'change', () => {\r\n            const selectedVal = Array.prototype.filter\r\n                .call(el.options, (o) => o.selected)\r\n                .map((o) => number ? toNumber(getValue(o)) : getValue(o));\r\n            el._assign(el.multiple\r\n                ? isSetModel\r\n                    ? new Set(selectedVal)\r\n                    : selectedVal\r\n                : selectedVal[0]);\r\n        });\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    // set value in mounted & updated because <select> relies on its children\r\n    // <option>s.\r\n    mounted(el, { value }) {\r\n        setSelected(el, value);\r\n    },\r\n    beforeUpdate(el, _binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    updated(el, { value }) {\r\n        setSelected(el, value);\r\n    }\r\n};\r\nfunction setSelected(el, value) {\r\n    const isMultiple = el.multiple;\r\n    if (isMultiple && !isArray(value) && !isSet(value)) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`<select multiple v-model> expects an Array or Set value for its binding, ` +\r\n                `but got ${Object.prototype.toString.call(value).slice(8, -1)}.`);\r\n        return;\r\n    }\r\n    for (let i = 0, l = el.options.length; i < l; i++) {\r\n        const option = el.options[i];\r\n        const optionValue = getValue(option);\r\n        if (isMultiple) {\r\n            if (isArray(value)) {\r\n                option.selected = looseIndexOf(value, optionValue) > -1;\r\n            }\r\n            else {\r\n                option.selected = value.has(optionValue);\r\n            }\r\n        }\r\n        else {\r\n            if (looseEqual(getValue(option), value)) {\r\n                el.selectedIndex = i;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    if (!isMultiple) {\r\n        el.selectedIndex = -1;\r\n    }\r\n}\r\n// retrieve raw value set via :value bindings\r\nfunction getValue(el) {\r\n    return '_value' in el ? el._value : el.value;\r\n}\r\n// retrieve raw value for true-value and false-value set via :true-value or :false-value bindings\r\nfunction getCheckboxValue(el, checked) {\r\n    const key = checked ? '_trueValue' : '_falseValue';\r\n    return key in el ? el[key] : checked;\r\n}\r\nconst vModelDynamic = {\r\n    created(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'created');\r\n    },\r\n    mounted(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'mounted');\r\n    },\r\n    beforeUpdate(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'beforeUpdate');\r\n    },\r\n    updated(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'updated');\r\n    }\r\n};\r\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\r\n    let modelToUse;\r\n    switch (el.tagName) {\r\n        case 'SELECT':\r\n            modelToUse = vModelSelect;\r\n            break;\r\n        case 'TEXTAREA':\r\n            modelToUse = vModelText;\r\n            break;\r\n        default:\r\n            switch (vnode.props && vnode.props.type) {\r\n                case 'checkbox':\r\n                    modelToUse = vModelCheckbox;\r\n                    break;\r\n                case 'radio':\r\n                    modelToUse = vModelRadio;\r\n                    break;\r\n                default:\r\n                    modelToUse = vModelText;\r\n            }\r\n    }\r\n    const fn = modelToUse[hook];\r\n    fn && fn(el, binding, vnode, prevVNode);\r\n}\n\nconst systemModifiers = ['ctrl', 'shift', 'alt', 'meta'];\r\nconst modifierGuards = {\r\n    stop: e => e.stopPropagation(),\r\n    prevent: e => e.preventDefault(),\r\n    self: e => e.target !== e.currentTarget,\r\n    ctrl: e => !e.ctrlKey,\r\n    shift: e => !e.shiftKey,\r\n    alt: e => !e.altKey,\r\n    meta: e => !e.metaKey,\r\n    left: e => 'button' in e && e.button !== 0,\r\n    middle: e => 'button' in e && e.button !== 1,\r\n    right: e => 'button' in e && e.button !== 2,\r\n    exact: (e, modifiers) => systemModifiers.some(m => e[`${m}Key`] && !modifiers.includes(m))\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withModifiers = (fn, modifiers) => {\r\n    return (event, ...args) => {\r\n        for (let i = 0; i < modifiers.length; i++) {\r\n            const guard = modifierGuards[modifiers[i]];\r\n            if (guard && guard(event, modifiers))\r\n                return;\r\n        }\r\n        return fn(event, ...args);\r\n    };\r\n};\r\n// Kept for 2.x compat.\r\n// Note: IE11 compat for `spacebar` and `del` is removed for now.\r\nconst keyNames = {\r\n    esc: 'escape',\r\n    space: ' ',\r\n    up: 'arrow-up',\r\n    left: 'arrow-left',\r\n    right: 'arrow-right',\r\n    down: 'arrow-down',\r\n    delete: 'backspace'\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withKeys = (fn, modifiers) => {\r\n    return (event) => {\r\n        if (!('key' in event))\r\n            return;\r\n        const eventKey = hyphenate(event.key);\r\n        if (\r\n        // None of the provided key modifiers match the current event key\r\n        !modifiers.some(k => k === eventKey || keyNames[k] === eventKey)) {\r\n            return;\r\n        }\r\n        return fn(event);\r\n    };\r\n};\n\nconst vShow = {\r\n    beforeMount(el, { value }, { transition }) {\r\n        el._vod = el.style.display === 'none' ? '' : el.style.display;\r\n        if (transition && value) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    mounted(el, { value }, { transition }) {\r\n        if (transition && value) {\r\n            transition.enter(el);\r\n        }\r\n    },\r\n    updated(el, { value, oldValue }, { transition }) {\r\n        if (transition && value !== oldValue) {\r\n            if (value) {\r\n                transition.beforeEnter(el);\r\n                setDisplay(el, true);\r\n                transition.enter(el);\r\n            }\r\n            else {\r\n                transition.leave(el, () => {\r\n                    setDisplay(el, false);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    beforeUnmount(el, { value }) {\r\n        setDisplay(el, value);\r\n    }\r\n};\r\nfunction setDisplay(el, value) {\r\n    el.style.display = value ? el._vod : 'none';\r\n}\n\nconst rendererOptions = extend({ patchProp, forcePatchProp }, nodeOps);\r\n// lazy create the renderer - this makes core renderer logic tree-shakable\r\n// in case the user only imports reactivity utilities from Vue.\r\nlet renderer;\r\nlet enabledHydration = false;\r\nfunction ensureRenderer() {\r\n    return renderer || (renderer = createRenderer(rendererOptions));\r\n}\r\nfunction ensureHydrationRenderer() {\r\n    renderer = enabledHydration\r\n        ? renderer\r\n        : createHydrationRenderer(rendererOptions);\r\n    enabledHydration = true;\r\n    return renderer;\r\n}\r\n// use explicit type casts here to avoid import() calls in rolled-up d.ts\r\nconst render = ((...args) => {\r\n    ensureRenderer().render(...args);\r\n});\r\nconst hydrate = ((...args) => {\r\n    ensureHydrationRenderer().hydrate(...args);\r\n});\r\nconst createApp = ((...args) => {\r\n    const app = ensureRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (!container)\r\n            return;\r\n        const component = app._component;\r\n        if (!isFunction(component) && !component.render && !component.template) {\r\n            component.template = container.innerHTML;\r\n        }\r\n        // clear content before mounting\r\n        container.innerHTML = '';\r\n        const proxy = mount(container);\r\n        container.removeAttribute('v-cloak');\r\n        container.setAttribute('data-v-app', '');\r\n        return proxy;\r\n    };\r\n    return app;\r\n});\r\nconst createSSRApp = ((...args) => {\r\n    const app = ensureHydrationRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (container) {\r\n            return mount(container, true);\r\n        }\r\n    };\r\n    return app;\r\n});\r\nfunction injectNativeTagCheck(app) {\r\n    // Inject `isNativeTag`\r\n    // this is used for component name validation (dev only)\r\n    Object.defineProperty(app.config, 'isNativeTag', {\r\n        value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\r\n        writable: false\r\n    });\r\n}\r\nfunction normalizeContainer(container) {\r\n    if (isString(container)) {\r\n        const res = document.querySelector(container);\r\n        if ((process.env.NODE_ENV !== 'production') && !res) {\r\n            warn(`Failed to mount app: mount target selector returned null.`);\r\n        }\r\n        return res;\r\n    }\r\n    return container;\r\n}\n\nexport { Transition, TransitionGroup, createApp, createSSRApp, hydrate, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/*!\n * Paper.js v0.12.11 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Fri Jun 19 19:14:33 2020 +0200\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jrg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.11\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(resolution, insert) {\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\tif (!size.isZero()) {\n\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t\traster.setCanvas(canvas);\n\t\t}\n\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t.scale(1 / scale));\n\t\tif (insert === undefined || insert)\n\t\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: true,\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element)\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = smoothing;\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx, 'imageSmoothingEnabled', this._smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: {\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* TEXT */]: `TEXT`,\r\n    [2 /* CLASS */]: `CLASS`,\r\n    [4 /* STYLE */]: `STYLE`,\r\n    [8 /* PROPS */]: `PROPS`,\r\n    [16 /* FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* HOISTED */]: `HOISTED`,\r\n    [-2 /* BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* STABLE */]: 'STABLE',\r\n    [2 /* DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            res += normalizeClass(value[i]) + ' ';\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.substring(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isObject(val)\r\n            ? JSON.stringify(val, replacer, 2)\r\n            : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\n/**\r\n * List of @babel/parser plugins that are used for template expression\r\n * transforms and SFC script transforms. By default we enable proposals slated\r\n * for ES2020. This will need to be updated as the spec moves forward.\r\n * Full list at https://babeljs.io/docs/en/next/babel-parser#plugins\r\n */\r\nconst babelParserDefaultPlugins = [\r\n    'bigInt',\r\n    'optionalChaining',\r\n    'nullishCoalescingOperator'\r\n];\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => val instanceof Date;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, babelParserDefaultPlugins, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, invokeArrayFns, isArray, isBooleanAttr, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","// Reserved word lists for various dialects of the language\n\nvar reservedWords = {\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n  5: \"class enum extends super const export import\",\n  6: \"enum\",\n  strict: \"implements interface let package private protected public static yield\",\n  strictBind: \"eval arguments\"\n};\n\n// And the keywords\n\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\nvar keywords = {\n  5: ecma5AndLessKeywords,\n  \"5module\": ecma5AndLessKeywords + \" export import\",\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\n};\n\nvar keywordRelationalOperator = /^in(stanceof)?$/;\n\n// ## Character categories\n\n// Big ugly regular expressions that match characters in the\n// whitespace, identifier, and identifier-start categories. These\n// are only applied when a character is found to actually have a\n// code point above 128.\n// Generated by `bin/generate-identifier-regex.js`.\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08c7\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\u9ffc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7ca\\ua7f5-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf\\u1ac0\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\nnonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n// These are a run-length and offset encoded representation of the\n// >0xffff code points that are a valid part of identifiers. The\n// offset starts at 0x10000, and each pair of numbers represents an\n// offset to the next range, and then a size of the range. They were\n// generated by bin/generate-identifier-regex.js\n\n// eslint-disable-next-line comma-spacing\nvar astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938];\n\n// eslint-disable-next-line comma-spacing\nvar astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];\n\n// This has a complexity linear to the value of the code. The\n// assumption is that looking up astral identifier characters is\n// rare.\nfunction isInAstralSet(code, set) {\n  var pos = 0x10000;\n  for (var i = 0; i < set.length; i += 2) {\n    pos += set[i];\n    if (pos > code) { return false }\n    pos += set[i + 1];\n    if (pos >= code) { return true }\n  }\n}\n\n// Test whether a given character code starts an identifier.\n\nfunction isIdentifierStart(code, astral) {\n  if (code < 65) { return code === 36 }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes)\n}\n\n// Test whether a given character is part of an identifier.\n\nfunction isIdentifierChar(code, astral) {\n  if (code < 48) { return code === 36 }\n  if (code < 58) { return true }\n  if (code < 65) { return false }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n}\n\n// ## Token types\n\n// The assignment of fine-grained, information-carrying type objects\n// allows the tokenizer to store the information it has about a\n// token in a way that is very cheap for the parser to look up.\n\n// All token type variables start with an underscore, to make them\n// easy to recognize.\n\n// The `beforeExpr` property is used to disambiguate between regular\n// expressions and divisions. It is set on all token types that can\n// be followed by an expression (thus, a slash after them would be a\n// regular expression).\n//\n// The `startsExpr` property is used to check if the token ends a\n// `yield` expression. It is set on all token types that either can\n// directly start an expression (like a quotation mark) or can\n// continue an expression (like the body of a string).\n//\n// `isLoop` marks a keyword as starting a loop, which is important\n// to know when parsing a label, in order to allow or disallow\n// continue jumps to that label.\n\nvar TokenType = function TokenType(label, conf) {\n  if ( conf === void 0 ) conf = {};\n\n  this.label = label;\n  this.keyword = conf.keyword;\n  this.beforeExpr = !!conf.beforeExpr;\n  this.startsExpr = !!conf.startsExpr;\n  this.isLoop = !!conf.isLoop;\n  this.isAssign = !!conf.isAssign;\n  this.prefix = !!conf.prefix;\n  this.postfix = !!conf.postfix;\n  this.binop = conf.binop || null;\n  this.updateContext = null;\n};\n\nfunction binop(name, prec) {\n  return new TokenType(name, {beforeExpr: true, binop: prec})\n}\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n// Map keyword names to token types.\n\nvar keywords$1 = {};\n\n// Succinct definitions of keyword token types\nfunction kw(name, options) {\n  if ( options === void 0 ) options = {};\n\n  options.keyword = name;\n  return keywords$1[name] = new TokenType(name, options)\n}\n\nvar types = {\n  num: new TokenType(\"num\", startsExpr),\n  regexp: new TokenType(\"regexp\", startsExpr),\n  string: new TokenType(\"string\", startsExpr),\n  name: new TokenType(\"name\", startsExpr),\n  eof: new TokenType(\"eof\"),\n\n  // Punctuation token types.\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n  bracketR: new TokenType(\"]\"),\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n  braceR: new TokenType(\"}\"),\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n  parenR: new TokenType(\")\"),\n  comma: new TokenType(\",\", beforeExpr),\n  semi: new TokenType(\";\", beforeExpr),\n  colon: new TokenType(\":\", beforeExpr),\n  dot: new TokenType(\".\"),\n  question: new TokenType(\"?\", beforeExpr),\n  questionDot: new TokenType(\"?.\"),\n  arrow: new TokenType(\"=>\", beforeExpr),\n  template: new TokenType(\"template\"),\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\n  ellipsis: new TokenType(\"...\", beforeExpr),\n  backQuote: new TokenType(\"`\", startsExpr),\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator.\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  logicalOR: binop(\"||\", 1),\n  logicalAND: binop(\"&&\", 2),\n  bitwiseOR: binop(\"|\", 3),\n  bitwiseXOR: binop(\"^\", 4),\n  bitwiseAND: binop(\"&\", 5),\n  equality: binop(\"==/!=/===/!==\", 6),\n  relational: binop(\"</>/<=/>=\", 7),\n  bitShift: binop(\"<</>>/>>>\", 8),\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n  modulo: binop(\"%\", 10),\n  star: binop(\"*\", 10),\n  slash: binop(\"/\", 10),\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\n  coalesce: binop(\"??\", 1),\n\n  // Keyword token types.\n  _break: kw(\"break\"),\n  _case: kw(\"case\", beforeExpr),\n  _catch: kw(\"catch\"),\n  _continue: kw(\"continue\"),\n  _debugger: kw(\"debugger\"),\n  _default: kw(\"default\", beforeExpr),\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n  _else: kw(\"else\", beforeExpr),\n  _finally: kw(\"finally\"),\n  _for: kw(\"for\", {isLoop: true}),\n  _function: kw(\"function\", startsExpr),\n  _if: kw(\"if\"),\n  _return: kw(\"return\", beforeExpr),\n  _switch: kw(\"switch\"),\n  _throw: kw(\"throw\", beforeExpr),\n  _try: kw(\"try\"),\n  _var: kw(\"var\"),\n  _const: kw(\"const\"),\n  _while: kw(\"while\", {isLoop: true}),\n  _with: kw(\"with\"),\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n  _this: kw(\"this\", startsExpr),\n  _super: kw(\"super\", startsExpr),\n  _class: kw(\"class\", startsExpr),\n  _extends: kw(\"extends\", beforeExpr),\n  _export: kw(\"export\"),\n  _import: kw(\"import\", startsExpr),\n  _null: kw(\"null\", startsExpr),\n  _true: kw(\"true\", startsExpr),\n  _false: kw(\"false\", startsExpr),\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n};\n\n// Matches a whole line break (where CRLF is considered a single\n// line break). Used to count lines.\n\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\n\nfunction isNewLine(code, ecma2019String) {\n  return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n}\n\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\nvar ref = Object.prototype;\nvar hasOwnProperty = ref.hasOwnProperty;\nvar toString = ref.toString;\n\n// Checks if an object has a property.\n\nfunction has(obj, propName) {\n  return hasOwnProperty.call(obj, propName)\n}\n\nvar isArray = Array.isArray || (function (obj) { return (\n  toString.call(obj) === \"[object Array]\"\n); });\n\nfunction wordsRegexp(words) {\n  return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n}\n\n// These are used when `options.locations` is on, for the\n// `startLoc` and `endLoc` properties.\n\nvar Position = function Position(line, col) {\n  this.line = line;\n  this.column = col;\n};\n\nPosition.prototype.offset = function offset (n) {\n  return new Position(this.line, this.column + n)\n};\n\nvar SourceLocation = function SourceLocation(p, start, end) {\n  this.start = start;\n  this.end = end;\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\n};\n\n// The `getLineInfo` function is mostly useful when the\n// `locations` option is off (for performance reasons) and you\n// want to find the line/column position for a given character\n// offset. `input` should be the code string that the offset refers\n// into.\n\nfunction getLineInfo(input, offset) {\n  for (var line = 1, cur = 0;;) {\n    lineBreakG.lastIndex = cur;\n    var match = lineBreakG.exec(input);\n    if (match && match.index < offset) {\n      ++line;\n      cur = match.index + match[0].length;\n    } else {\n      return new Position(line, offset - cur)\n    }\n  }\n}\n\n// A second optional argument can be given to further configure\n// the parser process. These options are recognized:\n\nvar defaultOptions = {\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n  // either 3, 5, 6 (2015), 7 (2016), 8 (2017), 9 (2018), or 10\n  // (2019). This influences support for strict mode, the set of\n  // reserved words, and support for new syntax features. The default\n  // is 10.\n  ecmaVersion: 10,\n  // `sourceType` indicates the mode the code should be parsed in.\n  // Can be either `\"script\"` or `\"module\"`. This influences global\n  // strict mode and parsing of `import` and `export` declarations.\n  sourceType: \"script\",\n  // `onInsertedSemicolon` can be a callback that will be called\n  // when a semicolon is automatically inserted. It will be passed\n  // the position of the comma as an offset, and if `locations` is\n  // enabled, it is given the location as a `{line, column}` object\n  // as second argument.\n  onInsertedSemicolon: null,\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n  // trailing commas.\n  onTrailingComma: null,\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\n  // Set `allowReserved` to a boolean value to explicitly turn this on\n  // an off. When this option has the value \"never\", reserved words\n  // and keywords can also not be used as property names.\n  allowReserved: null,\n  // When enabled, a return at the top level is not considered an\n  // error.\n  allowReturnOutsideFunction: false,\n  // When enabled, import/export statements are not constrained to\n  // appearing at the top of the program.\n  allowImportExportEverywhere: false,\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\n  // but they are still not allowed in non-async functions.\n  allowAwaitOutsideFunction: false,\n  // When enabled, hashbang directive in the beginning of file\n  // is allowed and treated as a line comment.\n  allowHashBang: false,\n  // When `locations` is on, `loc` properties holding objects with\n  // `start` and `end` properties in `{line, column}` form (with\n  // line being 1-based and column 0-based) will be attached to the\n  // nodes.\n  locations: false,\n  // A function can be passed as `onToken` option, which will\n  // cause Acorn to call that function with object in the same\n  // format as tokens returned from `tokenizer().getToken()`. Note\n  // that you are not allowed to call the parser from the\n  // callbackthat will corrupt its internal state.\n  onToken: null,\n  // A function can be passed as `onComment` option, which will\n  // cause Acorn to call that function with `(block, text, start,\n  // end)` parameters whenever a comment is skipped. `block` is a\n  // boolean indicating whether this is a block (`/* */`) comment,\n  // `text` is the content of the comment, and `start` and `end` are\n  // character offsets that denote the start and end of the comment.\n  // When the `locations` option is on, two more parameters are\n  // passed, the full `{line, column}` locations of the start and\n  // end of the comments. Note that you are not allowed to call the\n  // parser from the callbackthat will corrupt its internal state.\n  onComment: null,\n  // Nodes have their start and end characters offsets recorded in\n  // `start` and `end` properties (directly on the node, rather than\n  // the `loc` object, which holds line/column data. To also add a\n  // [semi-standardized][range] `range` property holding a `[start,\n  // end]` array with the same numbers, set the `ranges` option to\n  // `true`.\n  //\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n  ranges: false,\n  // It is possible to parse multiple files into a single AST by\n  // passing the tree produced by parsing the first file as\n  // `program` option in subsequent parses. This will add the\n  // toplevel forms of the parsed file to the `Program` (top) node\n  // of an existing parse tree.\n  program: null,\n  // When `locations` is on, you can pass this to record the source\n  // file in every node's `loc` object.\n  sourceFile: null,\n  // This value, if given, is stored in every node, whether\n  // `locations` is on or off.\n  directSourceFile: null,\n  // When enabled, parenthesized expressions are represented by\n  // (non-standard) ParenthesizedExpression nodes\n  preserveParens: false\n};\n\n// Interpret and default an options object\n\nfunction getOptions(opts) {\n  var options = {};\n\n  for (var opt in defaultOptions)\n    { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n  if (options.ecmaVersion >= 2015)\n    { options.ecmaVersion -= 2009; }\n\n  if (options.allowReserved == null)\n    { options.allowReserved = options.ecmaVersion < 5; }\n\n  if (isArray(options.onToken)) {\n    var tokens = options.onToken;\n    options.onToken = function (token) { return tokens.push(token); };\n  }\n  if (isArray(options.onComment))\n    { options.onComment = pushComment(options, options.onComment); }\n\n  return options\n}\n\nfunction pushComment(options, array) {\n  return function(block, text, start, end, startLoc, endLoc) {\n    var comment = {\n      type: block ? \"Block\" : \"Line\",\n      value: text,\n      start: start,\n      end: end\n    };\n    if (options.locations)\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n    if (options.ranges)\n      { comment.range = [start, end]; }\n    array.push(comment);\n  }\n}\n\n// Each scope gets a bitset that may contain these flags\nvar\n    SCOPE_TOP = 1,\n    SCOPE_FUNCTION = 2,\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n    SCOPE_ASYNC = 4,\n    SCOPE_GENERATOR = 8,\n    SCOPE_ARROW = 16,\n    SCOPE_SIMPLE_CATCH = 32,\n    SCOPE_SUPER = 64,\n    SCOPE_DIRECT_SUPER = 128;\n\nfunction functionFlags(async, generator) {\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n}\n\n// Used in checkLVal and declareName to determine the type of a binding\nvar\n    BIND_NONE = 0, // Not a binding\n    BIND_VAR = 1, // Var-style binding\n    BIND_LEXICAL = 2, // Let- or const-style binding\n    BIND_FUNCTION = 3, // Function declaration\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\nvar Parser = function Parser(options, input, startPos) {\n  this.options = options = getOptions(options);\n  this.sourceFile = options.sourceFile;\n  this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n  var reserved = \"\";\n  if (options.allowReserved !== true) {\n    for (var v = options.ecmaVersion;; v--)\n      { if (reserved = reservedWords[v]) { break } }\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\n  }\n  this.reservedWords = wordsRegexp(reserved);\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n  this.input = String(input);\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n  this.containsEsc = false;\n\n  // Set up token state\n\n  // The current position of the tokenizer in the input.\n  if (startPos) {\n    this.pos = startPos;\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n  } else {\n    this.pos = this.lineStart = 0;\n    this.curLine = 1;\n  }\n\n  // Properties of the current token:\n  // Its type\n  this.type = types.eof;\n  // For tokens that include more information than their type, the value\n  this.value = null;\n  // Its start and end offset\n  this.start = this.end = this.pos;\n  // And, if locations are used, the {line, column} object\n  // corresponding to those offsets\n  this.startLoc = this.endLoc = this.curPosition();\n\n  // Position information for the previous token\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\n  this.lastTokStart = this.lastTokEnd = this.pos;\n\n  // The context stack is used to superficially track syntactic\n  // context to predict whether a regular expression is allowed in a\n  // given position.\n  this.context = this.initialContext();\n  this.exprAllowed = true;\n\n  // Figure out if it's a module code.\n  this.inModule = options.sourceType === \"module\";\n  this.strict = this.inModule || this.strictDirective(this.pos);\n\n  // Used to signify the start of a potential arrow function\n  this.potentialArrowAt = -1;\n\n  // Positions to delayed-check that yield/await does not exist in default parameters.\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n  // Labels in scope.\n  this.labels = [];\n  // Thus-far undefined exports.\n  this.undefinedExports = {};\n\n  // If enabled, skip leading hashbang line.\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n    { this.skipLineComment(2); }\n\n  // Scope tracking for duplicate variable names (see scope.js)\n  this.scopeStack = [];\n  this.enterScope(SCOPE_TOP);\n\n  // For RegExp validation\n  this.regexpState = null;\n};\n\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\nParser.prototype.parse = function parse () {\n  var node = this.options.program || this.startNode();\n  this.nextToken();\n  return this.parseTopLevel(node)\n};\n\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\nprototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n// Switch to a getter for 7.0.0.\nParser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\nParser.extend = function extend () {\n    var plugins = [], len = arguments.length;\n    while ( len-- ) plugins[ len ] = arguments[ len ];\n\n  var cls = this;\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n  return cls\n};\n\nParser.parse = function parse (input, options) {\n  return new this(options, input).parse()\n};\n\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n  var parser = new this(options, input, pos);\n  parser.nextToken();\n  return parser.parseExpression()\n};\n\nParser.tokenizer = function tokenizer (input, options) {\n  return new this(options, input)\n};\n\nObject.defineProperties( Parser.prototype, prototypeAccessors );\n\nvar pp = Parser.prototype;\n\n// ## Parser utilities\n\nvar literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\npp.strictDirective = function(start) {\n  for (;;) {\n    // Try to find string literal.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    var match = literal.exec(this.input.slice(start));\n    if (!match) { return false }\n    if ((match[1] || match[2]) === \"use strict\") {\n      skipWhiteSpace.lastIndex = start + match[0].length;\n      var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n      var next = this.input.charAt(end);\n      return next === \";\" || next === \"}\" ||\n        (lineBreak.test(spaceAfter[0]) &&\n         !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n    }\n    start += match[0].length;\n\n    // Skip semicolon, if any.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    if (this.input[start] === \";\")\n      { start++; }\n  }\n};\n\n// Predicate that tests whether the next token is of the given\n// type, and if yes, consumes it as a side effect.\n\npp.eat = function(type) {\n  if (this.type === type) {\n    this.next();\n    return true\n  } else {\n    return false\n  }\n};\n\n// Tests whether parsed token is a contextual keyword.\n\npp.isContextual = function(name) {\n  return this.type === types.name && this.value === name && !this.containsEsc\n};\n\n// Consumes contextual keyword if possible.\n\npp.eatContextual = function(name) {\n  if (!this.isContextual(name)) { return false }\n  this.next();\n  return true\n};\n\n// Asserts that following token is given contextual keyword.\n\npp.expectContextual = function(name) {\n  if (!this.eatContextual(name)) { this.unexpected(); }\n};\n\n// Test whether a semicolon can be inserted at the current position.\n\npp.canInsertSemicolon = function() {\n  return this.type === types.eof ||\n    this.type === types.braceR ||\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\npp.insertSemicolon = function() {\n  if (this.canInsertSemicolon()) {\n    if (this.options.onInsertedSemicolon)\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n    return true\n  }\n};\n\n// Consume a semicolon, or, failing that, see if we are allowed to\n// pretend that there is a semicolon at this position.\n\npp.semicolon = function() {\n  if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n};\n\npp.afterTrailingComma = function(tokType, notNext) {\n  if (this.type === tokType) {\n    if (this.options.onTrailingComma)\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n    if (!notNext)\n      { this.next(); }\n    return true\n  }\n};\n\n// Expect a token of a given type. If found, consume it, otherwise,\n// raise an unexpected token error.\n\npp.expect = function(type) {\n  this.eat(type) || this.unexpected();\n};\n\n// Raise an unexpected token error.\n\npp.unexpected = function(pos) {\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n};\n\nfunction DestructuringErrors() {\n  this.shorthandAssign =\n  this.trailingComma =\n  this.parenthesizedAssign =\n  this.parenthesizedBind =\n  this.doubleProto =\n    -1;\n}\n\npp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n  if (!refDestructuringErrors) { return }\n  if (refDestructuringErrors.trailingComma > -1)\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n  if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n};\n\npp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n  if (!refDestructuringErrors) { return false }\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\n  var doubleProto = refDestructuringErrors.doubleProto;\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n  if (shorthandAssign >= 0)\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n  if (doubleProto >= 0)\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n};\n\npp.checkYieldAwaitInDefaultParams = function() {\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n  if (this.awaitPos)\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n};\n\npp.isSimpleAssignTarget = function(expr) {\n  if (expr.type === \"ParenthesizedExpression\")\n    { return this.isSimpleAssignTarget(expr.expression) }\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n};\n\nvar pp$1 = Parser.prototype;\n\n// ### Statement parsing\n\n// Parse a program. Initializes the parser, reads any number of\n// statements, and wraps them in a Program node.  Optionally takes a\n// `program` argument.  If present, the statements will be appended\n// to its body instead of creating a new node.\n\npp$1.parseTopLevel = function(node) {\n  var exports = {};\n  if (!node.body) { node.body = []; }\n  while (this.type !== types.eof) {\n    var stmt = this.parseStatement(null, true, exports);\n    node.body.push(stmt);\n  }\n  if (this.inModule)\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n      {\n        var name = list[i];\n\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n      } }\n  this.adaptDirectivePrologue(node.body);\n  this.next();\n  node.sourceType = this.options.sourceType;\n  return this.finishNode(node, \"Program\")\n};\n\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\npp$1.isLet = function(context) {\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\n  // Statement) is allowed here. If context is not empty then only a Statement\n  // is allowed. However, `let [` is an explicit negative lookahead for\n  // ExpressionStatement, so special-case it first.\n  if (nextCh === 91) { return true } // '['\n  if (context) { return false }\n\n  if (nextCh === 123) { return true } // '{'\n  if (isIdentifierStart(nextCh, true)) {\n    var pos = next + 1;\n    while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n    var ident = this.input.slice(next, pos);\n    if (!keywordRelationalOperator.test(ident)) { return true }\n  }\n  return false\n};\n\n// check 'async [no LineTerminator here] function'\n// - 'async /*foo*/ function' is OK.\n// - 'async /*\\n*/ function' is invalid.\npp$1.isAsyncFunction = function() {\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n    { return false }\n\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length;\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\n    this.input.slice(next, next + 8) === \"function\" &&\n    (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n};\n\n// Parse a single statement.\n//\n// If expecting a statement and finding a slash operator, parse a\n// regular expression literal. This is to handle cases like\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\n// does not help.\n\npp$1.parseStatement = function(context, topLevel, exports) {\n  var starttype = this.type, node = this.startNode(), kind;\n\n  if (this.isLet(context)) {\n    starttype = types._var;\n    kind = \"let\";\n  }\n\n  // Most types of statements are recognized by the keyword they\n  // start with. Many are trivial to parse, some require a bit of\n  // complexity.\n\n  switch (starttype) {\n  case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n  case types._debugger: return this.parseDebuggerStatement(node)\n  case types._do: return this.parseDoStatement(node)\n  case types._for: return this.parseForStatement(node)\n  case types._function:\n    // Function as sole body of either an if statement or a labeled statement\n    // works, but not when it is part of a labeled statement that is the sole\n    // body of an if statement.\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n    return this.parseFunctionStatement(node, false, !context)\n  case types._class:\n    if (context) { this.unexpected(); }\n    return this.parseClass(node, true)\n  case types._if: return this.parseIfStatement(node)\n  case types._return: return this.parseReturnStatement(node)\n  case types._switch: return this.parseSwitchStatement(node)\n  case types._throw: return this.parseThrowStatement(node)\n  case types._try: return this.parseTryStatement(node)\n  case types._const: case types._var:\n    kind = kind || this.value;\n    if (context && kind !== \"var\") { this.unexpected(); }\n    return this.parseVarStatement(node, kind)\n  case types._while: return this.parseWhileStatement(node)\n  case types._with: return this.parseWithStatement(node)\n  case types.braceL: return this.parseBlock(true, node)\n  case types.semi: return this.parseEmptyStatement(node)\n  case types._export:\n  case types._import:\n    if (this.options.ecmaVersion > 10 && starttype === types._import) {\n      skipWhiteSpace.lastIndex = this.pos;\n      var skip = skipWhiteSpace.exec(this.input);\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n      if (nextCh === 40 || nextCh === 46) // '(' or '.'\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\n    }\n\n    if (!this.options.allowImportExportEverywhere) {\n      if (!topLevel)\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n      if (!this.inModule)\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n    }\n    return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    // If the statement does not start with a statement keyword or a\n    // brace, it's an ExpressionStatement or LabeledStatement. We\n    // simply start parsing an expression, and afterwards, if the\n    // next token is a colon and the expression was a simple\n    // Identifier node, we switch to interpreting it as a label.\n  default:\n    if (this.isAsyncFunction()) {\n      if (context) { this.unexpected(); }\n      this.next();\n      return this.parseFunctionStatement(node, true, !context)\n    }\n\n    var maybeName = this.value, expr = this.parseExpression();\n    if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\n    else { return this.parseExpressionStatement(node, expr) }\n  }\n};\n\npp$1.parseBreakContinueStatement = function(node, keyword) {\n  var isBreak = keyword === \"break\";\n  this.next();\n  if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n  else if (this.type !== types.name) { this.unexpected(); }\n  else {\n    node.label = this.parseIdent();\n    this.semicolon();\n  }\n\n  // Verify that there is an actual destination to break or\n  // continue to.\n  var i = 0;\n  for (; i < this.labels.length; ++i) {\n    var lab = this.labels[i];\n    if (node.label == null || lab.name === node.label.name) {\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n      if (node.label && isBreak) { break }\n    }\n  }\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n};\n\npp$1.parseDebuggerStatement = function(node) {\n  this.next();\n  this.semicolon();\n  return this.finishNode(node, \"DebuggerStatement\")\n};\n\npp$1.parseDoStatement = function(node) {\n  this.next();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"do\");\n  this.labels.pop();\n  this.expect(types._while);\n  node.test = this.parseParenExpression();\n  if (this.options.ecmaVersion >= 6)\n    { this.eat(types.semi); }\n  else\n    { this.semicolon(); }\n  return this.finishNode(node, \"DoWhileStatement\")\n};\n\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n// loop is non-trivial. Basically, we have to parse the init `var`\n// statement or expression, disallowing the `in` operator (see\n// the second parameter to `parseExpression`), and then check\n// whether the next token is `in` or `of`. When there is no init\n// part (semicolon immediately after the opening parenthesis), it\n// is a regular `for` loop.\n\npp$1.parseForStatement = function(node) {\n  this.next();\n  var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n  this.labels.push(loopLabel);\n  this.enterScope(0);\n  this.expect(types.parenL);\n  if (this.type === types.semi) {\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, null)\n  }\n  var isLet = this.isLet();\n  if (this.type === types._var || this.type === types._const || isLet) {\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n    this.next();\n    this.parseVar(init$1, true, kind);\n    this.finishNode(init$1, \"VariableDeclaration\");\n    if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      return this.parseForIn(node, init$1)\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init$1)\n  }\n  var refDestructuringErrors = new DestructuringErrors;\n  var init = this.parseExpression(true, refDestructuringErrors);\n  if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n    if (this.options.ecmaVersion >= 9) {\n      if (this.type === types._in) {\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\n      } else { node.await = awaitAt > -1; }\n    }\n    this.toAssignable(init, false, refDestructuringErrors);\n    this.checkLVal(init);\n    return this.parseForIn(node, init)\n  } else {\n    this.checkExpressionErrors(refDestructuringErrors, true);\n  }\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\n  return this.parseFor(node, init)\n};\n\npp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n  this.next();\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n};\n\npp$1.parseIfStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  // allow function declarations in branches, but only in non-strict mode\n  node.consequent = this.parseStatement(\"if\");\n  node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n  return this.finishNode(node, \"IfStatement\")\n};\n\npp$1.parseReturnStatement = function(node) {\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n    { this.raise(this.start, \"'return' outside of function\"); }\n  this.next();\n\n  // In `return` (and `break`/`continue`), the keywords with\n  // optional arguments, we eagerly look for a semicolon or the\n  // possibility to insert one.\n\n  if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n  else { node.argument = this.parseExpression(); this.semicolon(); }\n  return this.finishNode(node, \"ReturnStatement\")\n};\n\npp$1.parseSwitchStatement = function(node) {\n  this.next();\n  node.discriminant = this.parseParenExpression();\n  node.cases = [];\n  this.expect(types.braceL);\n  this.labels.push(switchLabel);\n  this.enterScope(0);\n\n  // Statements under must be grouped (by label) in SwitchCase\n  // nodes. `cur` is used to keep the node that we are currently\n  // adding statements to.\n\n  var cur;\n  for (var sawDefault = false; this.type !== types.braceR;) {\n    if (this.type === types._case || this.type === types._default) {\n      var isCase = this.type === types._case;\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n      node.cases.push(cur = this.startNode());\n      cur.consequent = [];\n      this.next();\n      if (isCase) {\n        cur.test = this.parseExpression();\n      } else {\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n        sawDefault = true;\n        cur.test = null;\n      }\n      this.expect(types.colon);\n    } else {\n      if (!cur) { this.unexpected(); }\n      cur.consequent.push(this.parseStatement(null));\n    }\n  }\n  this.exitScope();\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n  this.next(); // Closing brace\n  this.labels.pop();\n  return this.finishNode(node, \"SwitchStatement\")\n};\n\npp$1.parseThrowStatement = function(node) {\n  this.next();\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n  node.argument = this.parseExpression();\n  this.semicolon();\n  return this.finishNode(node, \"ThrowStatement\")\n};\n\n// Reused empty array added for node fields that are always empty.\n\nvar empty = [];\n\npp$1.parseTryStatement = function(node) {\n  this.next();\n  node.block = this.parseBlock();\n  node.handler = null;\n  if (this.type === types._catch) {\n    var clause = this.startNode();\n    this.next();\n    if (this.eat(types.parenL)) {\n      clause.param = this.parseBindingAtom();\n      var simple = clause.param.type === \"Identifier\";\n      this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n      this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n      this.expect(types.parenR);\n    } else {\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\n      clause.param = null;\n      this.enterScope(0);\n    }\n    clause.body = this.parseBlock(false);\n    this.exitScope();\n    node.handler = this.finishNode(clause, \"CatchClause\");\n  }\n  node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n  if (!node.handler && !node.finalizer)\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\n  return this.finishNode(node, \"TryStatement\")\n};\n\npp$1.parseVarStatement = function(node, kind) {\n  this.next();\n  this.parseVar(node, false, kind);\n  this.semicolon();\n  return this.finishNode(node, \"VariableDeclaration\")\n};\n\npp$1.parseWhileStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"while\");\n  this.labels.pop();\n  return this.finishNode(node, \"WhileStatement\")\n};\n\npp$1.parseWithStatement = function(node) {\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n  this.next();\n  node.object = this.parseParenExpression();\n  node.body = this.parseStatement(\"with\");\n  return this.finishNode(node, \"WithStatement\")\n};\n\npp$1.parseEmptyStatement = function(node) {\n  this.next();\n  return this.finishNode(node, \"EmptyStatement\")\n};\n\npp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n    {\n    var label = list[i$1];\n\n    if (label.name === maybeName)\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n  } }\n  var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n  for (var i = this.labels.length - 1; i >= 0; i--) {\n    var label$1 = this.labels[i];\n    if (label$1.statementStart === node.start) {\n      // Update information about previous labels on this node\n      label$1.statementStart = this.start;\n      label$1.kind = kind;\n    } else { break }\n  }\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n  this.labels.pop();\n  node.label = expr;\n  return this.finishNode(node, \"LabeledStatement\")\n};\n\npp$1.parseExpressionStatement = function(node, expr) {\n  node.expression = expr;\n  this.semicolon();\n  return this.finishNode(node, \"ExpressionStatement\")\n};\n\n// Parse a semicolon-enclosed block of statements, handling `\"use\n// strict\"` declarations when `allowStrict` is true (used for\n// function bodies).\n\npp$1.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n  if ( node === void 0 ) node = this.startNode();\n\n  node.body = [];\n  this.expect(types.braceL);\n  if (createNewLexicalScope) { this.enterScope(0); }\n  while (this.type !== types.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  if (exitStrict) { this.strict = false; }\n  this.next();\n  if (createNewLexicalScope) { this.exitScope(); }\n  return this.finishNode(node, \"BlockStatement\")\n};\n\n// Parse a regular `for` loop. The disambiguation code in\n// `parseStatement` will already have parsed the init statement or\n// expression.\n\npp$1.parseFor = function(node, init) {\n  node.init = init;\n  this.expect(types.semi);\n  node.test = this.type === types.semi ? null : this.parseExpression();\n  this.expect(types.semi);\n  node.update = this.type === types.parenR ? null : this.parseExpression();\n  this.expect(types.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, \"ForStatement\")\n};\n\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\n// same from parser's perspective.\n\npp$1.parseForIn = function(node, init) {\n  var isForIn = this.type === types._in;\n  this.next();\n\n  if (\n    init.type === \"VariableDeclaration\" &&\n    init.declarations[0].init != null &&\n    (\n      !isForIn ||\n      this.options.ecmaVersion < 8 ||\n      this.strict ||\n      init.kind !== \"var\" ||\n      init.declarations[0].id.type !== \"Identifier\"\n    )\n  ) {\n    this.raise(\n      init.start,\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n    );\n  } else if (init.type === \"AssignmentPattern\") {\n    this.raise(init.start, \"Invalid left-hand side in for-loop\");\n  }\n  node.left = init;\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n  this.expect(types.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n};\n\n// Parse a list of variable declarations.\n\npp$1.parseVar = function(node, isFor, kind) {\n  node.declarations = [];\n  node.kind = kind;\n  for (;;) {\n    var decl = this.startNode();\n    this.parseVarId(decl, kind);\n    if (this.eat(types.eq)) {\n      decl.init = this.parseMaybeAssign(isFor);\n    } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n      this.unexpected();\n    } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n    } else {\n      decl.init = null;\n    }\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n    if (!this.eat(types.comma)) { break }\n  }\n  return node\n};\n\npp$1.parseVarId = function(decl, kind) {\n  decl.id = this.parseBindingAtom();\n  this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n};\n\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n// Parse a function declaration or literal (depending on the\n// `statement & FUNC_STATEMENT`).\n\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\npp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n    if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n      { this.unexpected(); }\n    node.generator = this.eat(types.star);\n  }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  if (statement & FUNC_STATEMENT) {\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n      // If it is a regular function declaration in sloppy mode, then it is\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n      // mode depends on properties of the current scope (see\n      // treatFunctionsAsVar).\n      { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n  }\n\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(node.async, node.generator));\n\n  if (!(statement & FUNC_STATEMENT))\n    { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n  this.parseFunctionParams(node);\n  this.parseFunctionBody(node, allowExpressionBody, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n};\n\npp$1.parseFunctionParams = function(node) {\n  this.expect(types.parenL);\n  node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n};\n\n// Parse a class declaration or literal (depending on the\n// `isStatement` parameter).\n\npp$1.parseClass = function(node, isStatement) {\n  this.next();\n\n  // ecma-262 14.6 Class Definitions\n  // A class definition is always strict mode code.\n  var oldStrict = this.strict;\n  this.strict = true;\n\n  this.parseClassId(node, isStatement);\n  this.parseClassSuper(node);\n  var classBody = this.startNode();\n  var hadConstructor = false;\n  classBody.body = [];\n  this.expect(types.braceL);\n  while (this.type !== types.braceR) {\n    var element = this.parseClassElement(node.superClass !== null);\n    if (element) {\n      classBody.body.push(element);\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n        if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n        hadConstructor = true;\n      }\n    }\n  }\n  this.strict = oldStrict;\n  this.next();\n  node.body = this.finishNode(classBody, \"ClassBody\");\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n};\n\npp$1.parseClassElement = function(constructorAllowsSuper) {\n  var this$1 = this;\n\n  if (this.eat(types.semi)) { return null }\n\n  var method = this.startNode();\n  var tryContextual = function (k, noLineBreak) {\n    if ( noLineBreak === void 0 ) noLineBreak = false;\n\n    var start = this$1.start, startLoc = this$1.startLoc;\n    if (!this$1.eatContextual(k)) { return false }\n    if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n    if (method.key) { this$1.unexpected(); }\n    method.computed = false;\n    method.key = this$1.startNodeAt(start, startLoc);\n    method.key.name = k;\n    this$1.finishNode(method.key, \"Identifier\");\n    return false\n  };\n\n  method.kind = \"method\";\n  method.static = tryContextual(\"static\");\n  var isGenerator = this.eat(types.star);\n  var isAsync = false;\n  if (!isGenerator) {\n    if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n    } else if (tryContextual(\"get\")) {\n      method.kind = \"get\";\n    } else if (tryContextual(\"set\")) {\n      method.kind = \"set\";\n    }\n  }\n  if (!method.key) { this.parsePropertyName(method); }\n  var key = method.key;\n  var allowsDirectSuper = false;\n  if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n      key.type === \"Literal\" && key.value === \"constructor\")) {\n    if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n    method.kind = \"constructor\";\n    allowsDirectSuper = constructorAllowsSuper;\n  } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\n  }\n  this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n  if (method.kind === \"get\" && method.value.params.length !== 0)\n    { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n  if (method.kind === \"set\" && method.value.params.length !== 1)\n    { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n  if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n    { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n  return method\n};\n\npp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n  method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n  return this.finishNode(method, \"MethodDefinition\")\n};\n\npp$1.parseClassId = function(node, isStatement) {\n  if (this.type === types.name) {\n    node.id = this.parseIdent();\n    if (isStatement)\n      { this.checkLVal(node.id, BIND_LEXICAL, false); }\n  } else {\n    if (isStatement === true)\n      { this.unexpected(); }\n    node.id = null;\n  }\n};\n\npp$1.parseClassSuper = function(node) {\n  node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n};\n\n// Parses module export declaration.\n\npp$1.parseExport = function(node, exports) {\n  this.next();\n  // export * from '...'\n  if (this.eat(types.star)) {\n    if (this.options.ecmaVersion >= 11) {\n      if (this.eatContextual(\"as\")) {\n        node.exported = this.parseIdent(true);\n        this.checkExport(exports, node.exported.name, this.lastTokStart);\n      } else {\n        node.exported = null;\n      }\n    }\n    this.expectContextual(\"from\");\n    if (this.type !== types.string) { this.unexpected(); }\n    node.source = this.parseExprAtom();\n    this.semicolon();\n    return this.finishNode(node, \"ExportAllDeclaration\")\n  }\n  if (this.eat(types._default)) { // export default ...\n    this.checkExport(exports, \"default\", this.lastTokStart);\n    var isAsync;\n    if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n      var fNode = this.startNode();\n      this.next();\n      if (isAsync) { this.next(); }\n      node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n    } else if (this.type === types._class) {\n      var cNode = this.startNode();\n      node.declaration = this.parseClass(cNode, \"nullableID\");\n    } else {\n      node.declaration = this.parseMaybeAssign();\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\n  }\n  // export var|const|let|function|class ...\n  if (this.shouldParseExportStatement()) {\n    node.declaration = this.parseStatement(null);\n    if (node.declaration.type === \"VariableDeclaration\")\n      { this.checkVariableExport(exports, node.declaration.declarations); }\n    else\n      { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n    node.specifiers = [];\n    node.source = null;\n  } else { // export { x, y as z } [from '...']\n    node.declaration = null;\n    node.specifiers = this.parseExportSpecifiers(exports);\n    if (this.eatContextual(\"from\")) {\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n    } else {\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n        // check for keywords used as local names\n        var spec = list[i];\n\n        this.checkUnreserved(spec.local);\n        // check if export is defined\n        this.checkLocalExport(spec.local);\n      }\n\n      node.source = null;\n    }\n    this.semicolon();\n  }\n  return this.finishNode(node, \"ExportNamedDeclaration\")\n};\n\npp$1.checkExport = function(exports, name, pos) {\n  if (!exports) { return }\n  if (has(exports, name))\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n  exports[name] = true;\n};\n\npp$1.checkPatternExport = function(exports, pat) {\n  var type = pat.type;\n  if (type === \"Identifier\")\n    { this.checkExport(exports, pat.name, pat.start); }\n  else if (type === \"ObjectPattern\")\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n      {\n        var prop = list[i];\n\n        this.checkPatternExport(exports, prop);\n      } }\n  else if (type === \"ArrayPattern\")\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n      var elt = list$1[i$1];\n\n        if (elt) { this.checkPatternExport(exports, elt); }\n    } }\n  else if (type === \"Property\")\n    { this.checkPatternExport(exports, pat.value); }\n  else if (type === \"AssignmentPattern\")\n    { this.checkPatternExport(exports, pat.left); }\n  else if (type === \"RestElement\")\n    { this.checkPatternExport(exports, pat.argument); }\n  else if (type === \"ParenthesizedExpression\")\n    { this.checkPatternExport(exports, pat.expression); }\n};\n\npp$1.checkVariableExport = function(exports, decls) {\n  if (!exports) { return }\n  for (var i = 0, list = decls; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    this.checkPatternExport(exports, decl.id);\n  }\n};\n\npp$1.shouldParseExportStatement = function() {\n  return this.type.keyword === \"var\" ||\n    this.type.keyword === \"const\" ||\n    this.type.keyword === \"class\" ||\n    this.type.keyword === \"function\" ||\n    this.isLet() ||\n    this.isAsyncFunction()\n};\n\n// Parses a comma-separated list of module exports.\n\npp$1.parseExportSpecifiers = function(exports) {\n  var nodes = [], first = true;\n  // export { x, y as z } [from '...']\n  this.expect(types.braceL);\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var node = this.startNode();\n    node.local = this.parseIdent(true);\n    node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n    this.checkExport(exports, node.exported.name, node.exported.start);\n    nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n  }\n  return nodes\n};\n\n// Parses import declaration.\n\npp$1.parseImport = function(node) {\n  this.next();\n  // import '...'\n  if (this.type === types.string) {\n    node.specifiers = empty;\n    node.source = this.parseExprAtom();\n  } else {\n    node.specifiers = this.parseImportSpecifiers();\n    this.expectContextual(\"from\");\n    node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n  }\n  this.semicolon();\n  return this.finishNode(node, \"ImportDeclaration\")\n};\n\n// Parses a comma-separated list of module imports.\n\npp$1.parseImportSpecifiers = function() {\n  var nodes = [], first = true;\n  if (this.type === types.name) {\n    // import defaultObj, { x, y as z } from '...'\n    var node = this.startNode();\n    node.local = this.parseIdent();\n    this.checkLVal(node.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n    if (!this.eat(types.comma)) { return nodes }\n  }\n  if (this.type === types.star) {\n    var node$1 = this.startNode();\n    this.next();\n    this.expectContextual(\"as\");\n    node$1.local = this.parseIdent();\n    this.checkLVal(node$1.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n    return nodes\n  }\n  this.expect(types.braceL);\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var node$2 = this.startNode();\n    node$2.imported = this.parseIdent(true);\n    if (this.eatContextual(\"as\")) {\n      node$2.local = this.parseIdent();\n    } else {\n      this.checkUnreserved(node$2.imported);\n      node$2.local = node$2.imported;\n    }\n    this.checkLVal(node$2.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n  }\n  return nodes\n};\n\n// Set `ExpressionStatement#directive` property for directive prologues.\npp$1.adaptDirectivePrologue = function(statements) {\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\n  }\n};\npp$1.isDirectiveCandidate = function(statement) {\n  return (\n    statement.type === \"ExpressionStatement\" &&\n    statement.expression.type === \"Literal\" &&\n    typeof statement.expression.value === \"string\" &&\n    // Reject parenthesized strings.\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n  )\n};\n\nvar pp$2 = Parser.prototype;\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\npp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 6 && node) {\n    switch (node.type) {\n    case \"Identifier\":\n      if (this.inAsync && node.name === \"await\")\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n      break\n\n    case \"ObjectPattern\":\n    case \"ArrayPattern\":\n    case \"RestElement\":\n      break\n\n    case \"ObjectExpression\":\n      node.type = \"ObjectPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.toAssignable(prop, isBinding);\n        // Early error:\n        //   AssignmentRestProperty[Yield, Await] :\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\n        //\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n        if (\n          prop.type === \"RestElement\" &&\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n        ) {\n          this.raise(prop.argument.start, \"Unexpected token\");\n        }\n      }\n      break\n\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n      this.toAssignable(node.value, isBinding);\n      break\n\n    case \"ArrayExpression\":\n      node.type = \"ArrayPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      this.toAssignableList(node.elements, isBinding);\n      break\n\n    case \"SpreadElement\":\n      node.type = \"RestElement\";\n      this.toAssignable(node.argument, isBinding);\n      if (node.argument.type === \"AssignmentPattern\")\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n      break\n\n    case \"AssignmentExpression\":\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n      node.type = \"AssignmentPattern\";\n      delete node.operator;\n      this.toAssignable(node.left, isBinding);\n      // falls through to AssignmentPattern\n\n    case \"AssignmentPattern\":\n      break\n\n    case \"ParenthesizedExpression\":\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (!isBinding) { break }\n\n    default:\n      this.raise(node.start, \"Assigning to rvalue\");\n    }\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n  return node\n};\n\n// Convert list of expression atoms to binding list.\n\npp$2.toAssignableList = function(exprList, isBinding) {\n  var end = exprList.length;\n  for (var i = 0; i < end; i++) {\n    var elt = exprList[i];\n    if (elt) { this.toAssignable(elt, isBinding); }\n  }\n  if (end) {\n    var last = exprList[end - 1];\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n      { this.unexpected(last.argument.start); }\n  }\n  return exprList\n};\n\n// Parses spread element.\n\npp$2.parseSpread = function(refDestructuringErrors) {\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n  return this.finishNode(node, \"SpreadElement\")\n};\n\npp$2.parseRestBinding = function() {\n  var node = this.startNode();\n  this.next();\n\n  // RestElement inside of a function parameter must be an identifier\n  if (this.options.ecmaVersion === 6 && this.type !== types.name)\n    { this.unexpected(); }\n\n  node.argument = this.parseBindingAtom();\n\n  return this.finishNode(node, \"RestElement\")\n};\n\n// Parses lvalue (assignable) atom.\n\npp$2.parseBindingAtom = function() {\n  if (this.options.ecmaVersion >= 6) {\n    switch (this.type) {\n    case types.bracketL:\n      var node = this.startNode();\n      this.next();\n      node.elements = this.parseBindingList(types.bracketR, true, true);\n      return this.finishNode(node, \"ArrayPattern\")\n\n    case types.braceL:\n      return this.parseObj(true)\n    }\n  }\n  return this.parseIdent()\n};\n\npp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (first) { first = false; }\n    else { this.expect(types.comma); }\n    if (allowEmpty && this.type === types.comma) {\n      elts.push(null);\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n      break\n    } else if (this.type === types.ellipsis) {\n      var rest = this.parseRestBinding();\n      this.parseBindingListItem(rest);\n      elts.push(rest);\n      if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n      this.expect(close);\n      break\n    } else {\n      var elem = this.parseMaybeDefault(this.start, this.startLoc);\n      this.parseBindingListItem(elem);\n      elts.push(elem);\n    }\n  }\n  return elts\n};\n\npp$2.parseBindingListItem = function(param) {\n  return param\n};\n\n// Parses assignment pattern around given atom if possible.\n\npp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n  left = left || this.parseBindingAtom();\n  if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.right = this.parseMaybeAssign();\n  return this.finishNode(node, \"AssignmentPattern\")\n};\n\n// Verify that a node is an lval  something that can be assigned\n// to.\n// bindingType can be either:\n// 'var' indicating that the lval creates a 'var' binding\n// 'let' indicating that the lval creates a lexical ('let' or 'const') binding\n// 'none' indicating that the binding should be checked for illegal identifiers, but not for duplicate references\n\npp$2.checkLVal = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"Identifier\":\n    if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n      { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n      { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n    if (checkClashes) {\n      if (has(checkClashes, expr.name))\n        { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n      checkClashes[expr.name] = true;\n    }\n    if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n    break\n\n  case \"ChainExpression\":\n    this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n    break\n\n  case \"MemberExpression\":\n    if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n    break\n\n  case \"ObjectPattern\":\n    for (var i = 0, list = expr.properties; i < list.length; i += 1)\n      {\n    var prop = list[i];\n\n    this.checkLVal(prop, bindingType, checkClashes);\n  }\n    break\n\n  case \"Property\":\n    // AssignmentProperty has type === \"Property\"\n    this.checkLVal(expr.value, bindingType, checkClashes);\n    break\n\n  case \"ArrayPattern\":\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n      var elem = list$1[i$1];\n\n    if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n    }\n    break\n\n  case \"AssignmentPattern\":\n    this.checkLVal(expr.left, bindingType, checkClashes);\n    break\n\n  case \"RestElement\":\n    this.checkLVal(expr.argument, bindingType, checkClashes);\n    break\n\n  case \"ParenthesizedExpression\":\n    this.checkLVal(expr.expression, bindingType, checkClashes);\n    break\n\n  default:\n    this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n  }\n};\n\n// A recursive descent parser operates by defining functions for all\n\nvar pp$3 = Parser.prototype;\n\n// Check if property name clashes with already added.\n// Object/class getters and setters are not allowed to clash \n// either with each other or with an init property  and in\n// strict mode, init properties are also not allowed to be repeated.\n\npp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n    { return }\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n    { return }\n  var key = prop.key;\n  var name;\n  switch (key.type) {\n  case \"Identifier\": name = key.name; break\n  case \"Literal\": name = String(key.value); break\n  default: return\n  }\n  var kind = prop.kind;\n  if (this.options.ecmaVersion >= 6) {\n    if (name === \"__proto__\" && kind === \"init\") {\n      if (propHash.proto) {\n        if (refDestructuringErrors) {\n          if (refDestructuringErrors.doubleProto < 0)\n            { refDestructuringErrors.doubleProto = key.start; }\n          // Backwards-compat kludge. Can be removed in version 6.0\n        } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n      }\n      propHash.proto = true;\n    }\n    return\n  }\n  name = \"$\" + name;\n  var other = propHash[name];\n  if (other) {\n    var redefinition;\n    if (kind === \"init\") {\n      redefinition = this.strict && other.init || other.get || other.set;\n    } else {\n      redefinition = other.init || other[kind];\n    }\n    if (redefinition)\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n  } else {\n    other = propHash[name] = {\n      init: false,\n      get: false,\n      set: false\n    };\n  }\n  other[kind] = true;\n};\n\n// ### Expression parsing\n\n// These nest, from the most general expression type at the top to\n// 'atomic', nondivisible expression types at the bottom. Most of\n// the functions will simply let the function(s) below them parse,\n// and, *if* the syntactic construct they handle is present, wrap\n// the AST node that the inner parser gave them in another node.\n\n// Parse a full expression. The optional arguments are used to\n// forbid the `in` operator (in for loops initalization expressions)\n// and provide reference for storing '=' operator inside shorthand\n// property assignment in contexts where both object expression\n// and object pattern might appear (so it's possible to raise\n// delayed syntax error at correct position).\n\npp$3.parseExpression = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n  if (this.type === types.comma) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.expressions = [expr];\n    while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n};\n\n// Parse an assignment expression. This includes applications of\n// operators like `+=`.\n\npp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n  if (this.isContextual(\"yield\")) {\n    if (this.inGenerator) { return this.parseYield(noIn) }\n    // The tokenizer will assume an expression is allowed after\n    // `yield`, but this isn't that kind of yield\n    else { this.exprAllowed = false; }\n  }\n\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n  if (refDestructuringErrors) {\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n    oldTrailingComma = refDestructuringErrors.trailingComma;\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n  } else {\n    refDestructuringErrors = new DestructuringErrors;\n    ownDestructuringErrors = true;\n  }\n\n  var startPos = this.start, startLoc = this.startLoc;\n  if (this.type === types.parenL || this.type === types.name)\n    { this.potentialArrowAt = this.start; }\n  var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n  if (this.type.isAssign) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.operator = this.value;\n    node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n    if (!ownDestructuringErrors) {\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n    }\n    if (refDestructuringErrors.shorthandAssign >= node.left.start)\n      { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n    this.checkLVal(left);\n    this.next();\n    node.right = this.parseMaybeAssign(noIn);\n    return this.finishNode(node, \"AssignmentExpression\")\n  } else {\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n  }\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n  return left\n};\n\n// Parse a ternary conditional (`?:`) operator.\n\npp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprOps(noIn, refDestructuringErrors);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  if (this.eat(types.question)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.test = expr;\n    node.consequent = this.parseMaybeAssign();\n    this.expect(types.colon);\n    node.alternate = this.parseMaybeAssign(noIn);\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n};\n\n// Start the precedence parser.\n\npp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n};\n\n// Parse binary operators with the operator precedence parsing\n// algorithm. `left` is the left-hand side of the operator.\n// `minPrec` provides context that allows the function to stop and\n// defer further parser to one of its callers when it encounters an\n// operator that has a lower precedence than the set it is parsing.\n\npp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n  var prec = this.type.binop;\n  if (prec != null && (!noIn || this.type !== types._in)) {\n    if (prec > minPrec) {\n      var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n      var coalesce = this.type === types.coalesce;\n      if (coalesce) {\n        // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n        // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n        prec = types.logicalAND.binop;\n      }\n      var op = this.value;\n      this.next();\n      var startPos = this.start, startLoc = this.startLoc;\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n      if ((logical && this.type === types.coalesce) || (coalesce && (this.type === types.logicalOR || this.type === types.logicalAND))) {\n        this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n      }\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n    }\n  }\n  return left\n};\n\npp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.operator = op;\n  node.right = right;\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n};\n\n// Parse unary operators, both prefix and postfix.\n\npp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n  var startPos = this.start, startLoc = this.startLoc, expr;\n  if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n    expr = this.parseAwait();\n    sawUnary = true;\n  } else if (this.type.prefix) {\n    var node = this.startNode(), update = this.type === types.incDec;\n    node.operator = this.value;\n    node.prefix = true;\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true);\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    if (update) { this.checkLVal(node.argument); }\n    else if (this.strict && node.operator === \"delete\" &&\n             node.argument.type === \"Identifier\")\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n    else { sawUnary = true; }\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n  } else {\n    expr = this.parseExprSubscripts(refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    while (this.type.postfix && !this.canInsertSemicolon()) {\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.operator = this.value;\n      node$1.prefix = false;\n      node$1.argument = expr;\n      this.checkLVal(expr);\n      this.next();\n      expr = this.finishNode(node$1, \"UpdateExpression\");\n    }\n  }\n\n  if (!sawUnary && this.eat(types.starstar))\n    { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n  else\n    { return expr }\n};\n\n// Parse call, dot, and `[]`-subscript expressions.\n\npp$3.parseExprSubscripts = function(refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprAtom(refDestructuringErrors);\n  if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n    { return expr }\n  var result = this.parseSubscripts(expr, startPos, startLoc);\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n  }\n  return result\n};\n\npp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n      this.potentialArrowAt === base.start;\n  var optionalChained = false;\n\n  while (true) {\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained);\n\n    if (element.optional) { optionalChained = true; }\n    if (element === base || element.type === \"ArrowFunctionExpression\") {\n      if (optionalChained) {\n        var chainNode = this.startNodeAt(startPos, startLoc);\n        chainNode.expression = element;\n        element = this.finishNode(chainNode, \"ChainExpression\");\n      }\n      return element\n    }\n\n    base = element;\n  }\n};\n\npp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained) {\n  var optionalSupported = this.options.ecmaVersion >= 11;\n  var optional = optionalSupported && this.eat(types.questionDot);\n  if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n  var computed = this.eat(types.bracketL);\n  if (computed || (optional && this.type !== types.parenL && this.type !== types.backQuote) || this.eat(types.dot)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.object = base;\n    node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n    node.computed = !!computed;\n    if (computed) { this.expect(types.bracketR); }\n    if (optionalSupported) {\n      node.optional = optional;\n    }\n    base = this.finishNode(node, \"MemberExpression\");\n  } else if (!noCalls && this.eat(types.parenL)) {\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n    if (maybeAsyncArrow && !optional && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      if (this.awaitIdentPos > 0)\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos;\n      return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n    }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n    var node$1 = this.startNodeAt(startPos, startLoc);\n    node$1.callee = base;\n    node$1.arguments = exprList;\n    if (optionalSupported) {\n      node$1.optional = optional;\n    }\n    base = this.finishNode(node$1, \"CallExpression\");\n  } else if (this.type === types.backQuote) {\n    if (optional || optionalChained) {\n      this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n    }\n    var node$2 = this.startNodeAt(startPos, startLoc);\n    node$2.tag = base;\n    node$2.quasi = this.parseTemplate({isTagged: true});\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n  }\n  return base\n};\n\n// Parse an atomic expression  either a single token that is an\n// expression, an expression started by a keyword like `function` or\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\n// or `{}`.\n\npp$3.parseExprAtom = function(refDestructuringErrors) {\n  // If a division operator appears in an expression position, the\n  // tokenizer got confused, and we force it to read a regexp instead.\n  if (this.type === types.slash) { this.readRegexp(); }\n\n  var node, canBeArrow = this.potentialArrowAt === this.start;\n  switch (this.type) {\n  case types._super:\n    if (!this.allowSuper)\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\n    node = this.startNode();\n    this.next();\n    if (this.type === types.parenL && !this.allowDirectSuper)\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n    // The `super` keyword can appear at below:\n    // SuperProperty:\n    //     super [ Expression ]\n    //     super . IdentifierName\n    // SuperCall:\n    //     super ( Arguments )\n    if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n      { this.unexpected(); }\n    return this.finishNode(node, \"Super\")\n\n  case types._this:\n    node = this.startNode();\n    this.next();\n    return this.finishNode(node, \"ThisExpression\")\n\n  case types.name:\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n    var id = this.parseIdent(false);\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n      { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n    if (canBeArrow && !this.canInsertSemicolon()) {\n      if (this.eat(types.arrow))\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n        id = this.parseIdent(false);\n        if (this.canInsertSemicolon() || !this.eat(types.arrow))\n          { this.unexpected(); }\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n      }\n    }\n    return id\n\n  case types.regexp:\n    var value = this.value;\n    node = this.parseLiteral(value.value);\n    node.regex = {pattern: value.pattern, flags: value.flags};\n    return node\n\n  case types.num: case types.string:\n    return this.parseLiteral(this.value)\n\n  case types._null: case types._true: case types._false:\n    node = this.startNode();\n    node.value = this.type === types._null ? null : this.type === types._true;\n    node.raw = this.type.keyword;\n    this.next();\n    return this.finishNode(node, \"Literal\")\n\n  case types.parenL:\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n    if (refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n        { refDestructuringErrors.parenthesizedAssign = start; }\n      if (refDestructuringErrors.parenthesizedBind < 0)\n        { refDestructuringErrors.parenthesizedBind = start; }\n    }\n    return expr\n\n  case types.bracketL:\n    node = this.startNode();\n    this.next();\n    node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case types.braceL:\n    return this.parseObj(false, refDestructuringErrors)\n\n  case types._function:\n    node = this.startNode();\n    this.next();\n    return this.parseFunction(node, 0)\n\n  case types._class:\n    return this.parseClass(this.startNode(), false)\n\n  case types._new:\n    return this.parseNew()\n\n  case types.backQuote:\n    return this.parseTemplate()\n\n  case types._import:\n    if (this.options.ecmaVersion >= 11) {\n      return this.parseExprImport()\n    } else {\n      return this.unexpected()\n    }\n\n  default:\n    this.unexpected();\n  }\n};\n\npp$3.parseExprImport = function() {\n  var node = this.startNode();\n\n  // Consume `import` as an identifier for `import.meta`.\n  // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n  var meta = this.parseIdent(true);\n\n  switch (this.type) {\n  case types.parenL:\n    return this.parseDynamicImport(node)\n  case types.dot:\n    node.meta = meta;\n    return this.parseImportMeta(node)\n  default:\n    this.unexpected();\n  }\n};\n\npp$3.parseDynamicImport = function(node) {\n  this.next(); // skip `(`\n\n  // Parse node.source.\n  node.source = this.parseMaybeAssign();\n\n  // Verify ending.\n  if (!this.eat(types.parenR)) {\n    var errorPos = this.start;\n    if (this.eat(types.comma) && this.eat(types.parenR)) {\n      this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n    } else {\n      this.unexpected(errorPos);\n    }\n  }\n\n  return this.finishNode(node, \"ImportExpression\")\n};\n\npp$3.parseImportMeta = function(node) {\n  this.next(); // skip `.`\n\n  var containsEsc = this.containsEsc;\n  node.property = this.parseIdent(true);\n\n  if (node.property.name !== \"meta\")\n    { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n  if (containsEsc)\n    { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n  if (this.options.sourceType !== \"module\")\n    { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n  return this.finishNode(node, \"MetaProperty\")\n};\n\npp$3.parseLiteral = function(value) {\n  var node = this.startNode();\n  node.value = value;\n  node.raw = this.input.slice(this.start, this.end);\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n  this.next();\n  return this.finishNode(node, \"Literal\")\n};\n\npp$3.parseParenExpression = function() {\n  this.expect(types.parenL);\n  var val = this.parseExpression();\n  this.expect(types.parenR);\n  return val\n};\n\npp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n  if (this.options.ecmaVersion >= 6) {\n    this.next();\n\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\n    var exprList = [], first = true, lastIsComma = false;\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\n    while (this.type !== types.parenR) {\n      first ? first = false : this.expect(types.comma);\n      if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n        lastIsComma = true;\n        break\n      } else if (this.type === types.ellipsis) {\n        spreadStart = this.start;\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        break\n      } else {\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n      }\n    }\n    var innerEndPos = this.start, innerEndLoc = this.startLoc;\n    this.expect(types.parenR);\n\n    if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      return this.parseParenArrowList(startPos, startLoc, exprList)\n    }\n\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n    if (spreadStart) { this.unexpected(spreadStart); }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n\n    if (exprList.length > 1) {\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\n      val.expressions = exprList;\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n    } else {\n      val = exprList[0];\n    }\n  } else {\n    val = this.parseParenExpression();\n  }\n\n  if (this.options.preserveParens) {\n    var par = this.startNodeAt(startPos, startLoc);\n    par.expression = val;\n    return this.finishNode(par, \"ParenthesizedExpression\")\n  } else {\n    return val\n  }\n};\n\npp$3.parseParenItem = function(item) {\n  return item\n};\n\npp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n};\n\n// New's precedence is slightly tricky. It must allow its argument to\n// be a `[]` or dot subscript expression, but not a call  at least,\n// not without wrapping it in parentheses. Thus, it uses the noCalls\n// argument to parseSubscripts to prevent it from consuming the\n// argument list.\n\nvar empty$1 = [];\n\npp$3.parseNew = function() {\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n  var node = this.startNode();\n  var meta = this.parseIdent(true);\n  if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n    node.meta = meta;\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n    if (node.property.name !== \"target\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n    if (!this.inNonArrowFunction())\n      { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions\"); }\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n  node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n  if (isImport && node.callee.type === \"ImportExpression\") {\n    this.raise(startPos, \"Cannot use new with import()\");\n  }\n  if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n  else { node.arguments = empty$1; }\n  return this.finishNode(node, \"NewExpression\")\n};\n\n// Parse template expression.\n\npp$3.parseTemplateElement = function(ref) {\n  var isTagged = ref.isTagged;\n\n  var elem = this.startNode();\n  if (this.type === types.invalidTemplate) {\n    if (!isTagged) {\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n    }\n    elem.value = {\n      raw: this.value,\n      cooked: null\n    };\n  } else {\n    elem.value = {\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n      cooked: this.value\n    };\n  }\n  this.next();\n  elem.tail = this.type === types.backQuote;\n  return this.finishNode(elem, \"TemplateElement\")\n};\n\npp$3.parseTemplate = function(ref) {\n  if ( ref === void 0 ) ref = {};\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n  var node = this.startNode();\n  this.next();\n  node.expressions = [];\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\n  node.quasis = [curElt];\n  while (!curElt.tail) {\n    if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n    this.expect(types.dollarBraceL);\n    node.expressions.push(this.parseExpression());\n    this.expect(types.braceR);\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n  }\n  this.next();\n  return this.finishNode(node, \"TemplateLiteral\")\n};\n\npp$3.isAsyncProp = function(prop) {\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n    (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\n// Parse an object literal or binding pattern.\n\npp$3.parseObj = function(isPattern, refDestructuringErrors) {\n  var node = this.startNode(), first = true, propHash = {};\n  node.properties = [];\n  this.next();\n  while (!this.eat(types.braceR)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n    } else { first = false; }\n\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n    node.properties.push(prop);\n  }\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n};\n\npp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n  if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n    if (isPattern) {\n      prop.argument = this.parseIdent(false);\n      if (this.type === types.comma) {\n        this.raise(this.start, \"Comma is not permitted after the rest element\");\n      }\n      return this.finishNode(prop, \"RestElement\")\n    }\n    // To disallow parenthesized identifier via `this.toAssignable()`.\n    if (this.type === types.parenL && refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0) {\n        refDestructuringErrors.parenthesizedAssign = this.start;\n      }\n      if (refDestructuringErrors.parenthesizedBind < 0) {\n        refDestructuringErrors.parenthesizedBind = this.start;\n      }\n    }\n    // Parse argument.\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    // To disallow trailing comma via `this.toAssignable()`.\n    if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n      refDestructuringErrors.trailingComma = this.start;\n    }\n    // Finish\n    return this.finishNode(prop, \"SpreadElement\")\n  }\n  if (this.options.ecmaVersion >= 6) {\n    prop.method = false;\n    prop.shorthand = false;\n    if (isPattern || refDestructuringErrors) {\n      startPos = this.start;\n      startLoc = this.startLoc;\n    }\n    if (!isPattern)\n      { isGenerator = this.eat(types.star); }\n  }\n  var containsEsc = this.containsEsc;\n  this.parsePropertyName(prop);\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n    isAsync = true;\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n    this.parsePropertyName(prop, refDestructuringErrors);\n  } else {\n    isAsync = false;\n  }\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n  return this.finishNode(prop, \"Property\")\n};\n\npp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n  if ((isGenerator || isAsync) && this.type === types.colon)\n    { this.unexpected(); }\n\n  if (this.eat(types.colon)) {\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n    prop.kind = \"init\";\n  } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n    if (isPattern) { this.unexpected(); }\n    prop.kind = \"init\";\n    prop.method = true;\n    prop.value = this.parseMethod(isGenerator, isAsync);\n  } else if (!isPattern && !containsEsc &&\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n             (this.type !== types.comma && this.type !== types.braceR && this.type !== types.eq)) {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    prop.kind = prop.key.name;\n    this.parsePropertyName(prop);\n    prop.value = this.parseMethod(false);\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\n    if (prop.value.params.length !== paramCount) {\n      var start = prop.value.start;\n      if (prop.kind === \"get\")\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\n      else\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n    } else {\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n    }\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.checkUnreserved(prop.key);\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = startPos; }\n    prop.kind = \"init\";\n    if (isPattern) {\n      prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n    } else if (this.type === types.eq && refDestructuringErrors) {\n      if (refDestructuringErrors.shorthandAssign < 0)\n        { refDestructuringErrors.shorthandAssign = this.start; }\n      prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n    } else {\n      prop.value = prop.key;\n    }\n    prop.shorthand = true;\n  } else { this.unexpected(); }\n};\n\npp$3.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(types.bracketL)) {\n      prop.computed = true;\n      prop.key = this.parseMaybeAssign();\n      this.expect(types.bracketR);\n      return prop.key\n    } else {\n      prop.computed = false;\n    }\n  }\n  return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n};\n\n// Initialize empty function node.\n\npp$3.initFunction = function(node) {\n  node.id = null;\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\n};\n\n// Parse object or class method.\n\npp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 6)\n    { node.generator = isGenerator; }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n  this.expect(types.parenL);\n  node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n  this.parseFunctionBody(node, false, true);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"FunctionExpression\")\n};\n\n// Parse arrow function expression with given parameters.\n\npp$3.parseArrowExpression = function(node, params, isAsync) {\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n\n  node.params = this.toAssignableList(params, true);\n  this.parseFunctionBody(node, true, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n};\n\n// Parse function body and check parameters.\n\npp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n  var isExpression = isArrowFunction && this.type !== types.braceL;\n  var oldStrict = this.strict, useStrict = false;\n\n  if (isExpression) {\n    node.body = this.parseMaybeAssign();\n    node.expression = true;\n    this.checkParams(node, false);\n  } else {\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n    if (!oldStrict || nonSimple) {\n      useStrict = this.strictDirective(this.end);\n      // If this is a strict mode function, verify that argument names\n      // are not repeated, and it does not try to bind the words `eval`\n      // or `arguments`.\n      if (useStrict && nonSimple)\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n    }\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldLabels = this.labels;\n    this.labels = [];\n    if (useStrict) { this.strict = true; }\n\n    // Add the params to varDeclaredNames to ensure that an error is thrown\n    // if a let/const declaration in the function clashes with one of the params.\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n    // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n    node.expression = false;\n    this.adaptDirectivePrologue(node.body.body);\n    this.labels = oldLabels;\n  }\n  this.exitScope();\n};\n\npp$3.isSimpleParamList = function(params) {\n  for (var i = 0, list = params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    if (param.type !== \"Identifier\") { return false\n  } }\n  return true\n};\n\n// Checks function params for various disallowed patterns such as using \"eval\"\n// or \"arguments\" and duplicate parameters.\n\npp$3.checkParams = function(node, allowDuplicates) {\n  var nameHash = {};\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n  }\n};\n\n// Parses a comma-separated list of expressions, and returns them as\n// an array. `close` is the token type that ends the list, and\n// `allowEmpty` can be turned on to allow subsequent commas with\n// nothing in between them to be parsed as `null` (which is needed\n// for array literals).\n\npp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (!first) {\n      this.expect(types.comma);\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n    } else { first = false; }\n\n    var elt = (void 0);\n    if (allowEmpty && this.type === types.comma)\n      { elt = null; }\n    else if (this.type === types.ellipsis) {\n      elt = this.parseSpread(refDestructuringErrors);\n      if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n        { refDestructuringErrors.trailingComma = this.start; }\n    } else {\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\n    }\n    elts.push(elt);\n  }\n  return elts\n};\n\npp$3.checkUnreserved = function(ref) {\n  var start = ref.start;\n  var end = ref.end;\n  var name = ref.name;\n\n  if (this.inGenerator && name === \"yield\")\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n  if (this.inAsync && name === \"await\")\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n  if (this.keywords.test(name))\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n  if (this.options.ecmaVersion < 6 &&\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n  if (re.test(name)) {\n    if (!this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n  }\n};\n\n// Parse the next token as an identifier. If `liberal` is true (used\n// when parsing properties), it will also convert keywords into\n// identifiers.\n\npp$3.parseIdent = function(liberal, isBinding) {\n  var node = this.startNode();\n  if (this.type === types.name) {\n    node.name = this.value;\n  } else if (this.type.keyword) {\n    node.name = this.type.keyword;\n\n    // To fix https://github.com/acornjs/acorn/issues/575\n    // `class` and `function` keywords push new context into this.context.\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n    if ((node.name === \"class\" || node.name === \"function\") &&\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n      this.context.pop();\n    }\n  } else {\n    this.unexpected();\n  }\n  this.next(!!liberal);\n  this.finishNode(node, \"Identifier\");\n  if (!liberal) {\n    this.checkUnreserved(node);\n    if (node.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = node.start; }\n  }\n  return node\n};\n\n// Parses yield expression inside generator.\n\npp$3.parseYield = function(noIn) {\n  if (!this.yieldPos) { this.yieldPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n    node.delegate = false;\n    node.argument = null;\n  } else {\n    node.delegate = this.eat(types.star);\n    node.argument = this.parseMaybeAssign(noIn);\n  }\n  return this.finishNode(node, \"YieldExpression\")\n};\n\npp$3.parseAwait = function() {\n  if (!this.awaitPos) { this.awaitPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeUnary(null, false);\n  return this.finishNode(node, \"AwaitExpression\")\n};\n\nvar pp$4 = Parser.prototype;\n\n// This function is used to raise exceptions on parse errors. It\n// takes an offset integer (into the current `input`) to indicate\n// the location of the error, attaches the position to the end\n// of the error message, and then raises a `SyntaxError` with that\n// message.\n\npp$4.raise = function(pos, message) {\n  var loc = getLineInfo(this.input, pos);\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\n  var err = new SyntaxError(message);\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n  throw err\n};\n\npp$4.raiseRecoverable = pp$4.raise;\n\npp$4.curPosition = function() {\n  if (this.options.locations) {\n    return new Position(this.curLine, this.pos - this.lineStart)\n  }\n};\n\nvar pp$5 = Parser.prototype;\n\nvar Scope = function Scope(flags) {\n  this.flags = flags;\n  // A list of var-declared names in the current lexical scope\n  this.var = [];\n  // A list of lexically-declared names in the current lexical scope\n  this.lexical = [];\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n  this.functions = [];\n};\n\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\npp$5.enterScope = function(flags) {\n  this.scopeStack.push(new Scope(flags));\n};\n\npp$5.exitScope = function() {\n  this.scopeStack.pop();\n};\n\n// The spec says:\n// > At the top level of a function, or script, function declarations are\n// > treated like var declarations rather than like lexical declarations.\npp$5.treatFunctionsAsVarInScope = function(scope) {\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n};\n\npp$5.declareName = function(name, bindingType, pos) {\n  var redeclared = false;\n  if (bindingType === BIND_LEXICAL) {\n    var scope = this.currentScope();\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n    scope.lexical.push(name);\n    if (this.inModule && (scope.flags & SCOPE_TOP))\n      { delete this.undefinedExports[name]; }\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\n    var scope$1 = this.currentScope();\n    scope$1.lexical.push(name);\n  } else if (bindingType === BIND_FUNCTION) {\n    var scope$2 = this.currentScope();\n    if (this.treatFunctionsAsVar)\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\n    else\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n    scope$2.functions.push(name);\n  } else {\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n      var scope$3 = this.scopeStack[i];\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n        redeclared = true;\n        break\n      }\n      scope$3.var.push(name);\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n      if (scope$3.flags & SCOPE_VAR) { break }\n    }\n  }\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n};\n\npp$5.checkLocalExport = function(id) {\n  // scope.functions must be empty as Module code is always strict.\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\n    this.undefinedExports[id.name] = id;\n  }\n};\n\npp$5.currentScope = function() {\n  return this.scopeStack[this.scopeStack.length - 1]\n};\n\npp$5.currentVarScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR) { return scope }\n  }\n};\n\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\npp$5.currentThisScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n  }\n};\n\nvar Node = function Node(parser, pos, loc) {\n  this.type = \"\";\n  this.start = pos;\n  this.end = 0;\n  if (parser.options.locations)\n    { this.loc = new SourceLocation(parser, loc); }\n  if (parser.options.directSourceFile)\n    { this.sourceFile = parser.options.directSourceFile; }\n  if (parser.options.ranges)\n    { this.range = [pos, 0]; }\n};\n\n// Start an AST node, attaching a start offset.\n\nvar pp$6 = Parser.prototype;\n\npp$6.startNode = function() {\n  return new Node(this, this.start, this.startLoc)\n};\n\npp$6.startNodeAt = function(pos, loc) {\n  return new Node(this, pos, loc)\n};\n\n// Finish an AST node, adding `type` and `end` properties.\n\nfunction finishNodeAt(node, type, pos, loc) {\n  node.type = type;\n  node.end = pos;\n  if (this.options.locations)\n    { node.loc.end = loc; }\n  if (this.options.ranges)\n    { node.range[1] = pos; }\n  return node\n}\n\npp$6.finishNode = function(node, type) {\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n};\n\n// Finish node at given position\n\npp$6.finishNodeAt = function(node, type, pos, loc) {\n  return finishNodeAt.call(this, node, type, pos, loc)\n};\n\n// The algorithm used to determine whether a regexp can appear at a\n\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n  this.token = token;\n  this.isExpr = !!isExpr;\n  this.preserveSpace = !!preserveSpace;\n  this.override = override;\n  this.generator = !!generator;\n};\n\nvar types$1 = {\n  b_stat: new TokContext(\"{\", false),\n  b_expr: new TokContext(\"{\", true),\n  b_tmpl: new TokContext(\"${\", false),\n  p_stat: new TokContext(\"(\", false),\n  p_expr: new TokContext(\"(\", true),\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n  f_stat: new TokContext(\"function\", false),\n  f_expr: new TokContext(\"function\", true),\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\n  f_gen: new TokContext(\"function\", false, false, null, true)\n};\n\nvar pp$7 = Parser.prototype;\n\npp$7.initialContext = function() {\n  return [types$1.b_stat]\n};\n\npp$7.braceIsBlock = function(prevType) {\n  var parent = this.curContext();\n  if (parent === types$1.f_expr || parent === types$1.f_stat)\n    { return true }\n  if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n    { return !parent.isExpr }\n\n  // The check for `tt.name && exprAllowed` detects whether we are\n  // after a `yield` or `of` construct. See the `updateContext` for\n  // `tt.name`.\n  if (prevType === types._return || prevType === types.name && this.exprAllowed)\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n  if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n    { return true }\n  if (prevType === types.braceL)\n    { return parent === types$1.b_stat }\n  if (prevType === types._var || prevType === types._const || prevType === types.name)\n    { return false }\n  return !this.exprAllowed\n};\n\npp$7.inGeneratorContext = function() {\n  for (var i = this.context.length - 1; i >= 1; i--) {\n    var context = this.context[i];\n    if (context.token === \"function\")\n      { return context.generator }\n  }\n  return false\n};\n\npp$7.updateContext = function(prevType) {\n  var update, type = this.type;\n  if (type.keyword && prevType === types.dot)\n    { this.exprAllowed = false; }\n  else if (update = type.updateContext)\n    { update.call(this, prevType); }\n  else\n    { this.exprAllowed = type.beforeExpr; }\n};\n\n// Token-specific context update code\n\ntypes.parenR.updateContext = types.braceR.updateContext = function() {\n  if (this.context.length === 1) {\n    this.exprAllowed = true;\n    return\n  }\n  var out = this.context.pop();\n  if (out === types$1.b_stat && this.curContext().token === \"function\") {\n    out = this.context.pop();\n  }\n  this.exprAllowed = !out.isExpr;\n};\n\ntypes.braceL.updateContext = function(prevType) {\n  this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n  this.exprAllowed = true;\n};\n\ntypes.dollarBraceL.updateContext = function() {\n  this.context.push(types$1.b_tmpl);\n  this.exprAllowed = true;\n};\n\ntypes.parenL.updateContext = function(prevType) {\n  var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n  this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n  this.exprAllowed = true;\n};\n\ntypes.incDec.updateContext = function() {\n  // tokExprAllowed stays unchanged\n};\n\ntypes._function.updateContext = types._class.updateContext = function(prevType) {\n  if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n      !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n      !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n    { this.context.push(types$1.f_expr); }\n  else\n    { this.context.push(types$1.f_stat); }\n  this.exprAllowed = false;\n};\n\ntypes.backQuote.updateContext = function() {\n  if (this.curContext() === types$1.q_tmpl)\n    { this.context.pop(); }\n  else\n    { this.context.push(types$1.q_tmpl); }\n  this.exprAllowed = false;\n};\n\ntypes.star.updateContext = function(prevType) {\n  if (prevType === types._function) {\n    var index = this.context.length - 1;\n    if (this.context[index] === types$1.f_expr)\n      { this.context[index] = types$1.f_expr_gen; }\n    else\n      { this.context[index] = types$1.f_gen; }\n  }\n  this.exprAllowed = true;\n};\n\ntypes.name.updateContext = function(prevType) {\n  var allowed = false;\n  if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n    if (this.value === \"of\" && !this.exprAllowed ||\n        this.value === \"yield\" && this.inGeneratorContext())\n      { allowed = true; }\n  }\n  this.exprAllowed = allowed;\n};\n\n// This file contains Unicode properties extracted from the ECMAScript\n// specification. The lists are extracted like so:\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n// #table-binary-unicode-properties\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\nvar ecma11BinaryProperties = ecma10BinaryProperties;\nvar unicodeBinaryProperties = {\n  9: ecma9BinaryProperties,\n  10: ecma10BinaryProperties,\n  11: ecma11BinaryProperties\n};\n\n// #table-unicode-general-category-values\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n// #table-unicode-script-values\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\nvar unicodeScriptValues = {\n  9: ecma9ScriptValues,\n  10: ecma10ScriptValues,\n  11: ecma11ScriptValues\n};\n\nvar data = {};\nfunction buildUnicodeData(ecmaVersion) {\n  var d = data[ecmaVersion] = {\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n    nonBinary: {\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n    }\n  };\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n  d.nonBinary.gc = d.nonBinary.General_Category;\n  d.nonBinary.sc = d.nonBinary.Script;\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\n}\nbuildUnicodeData(9);\nbuildUnicodeData(10);\nbuildUnicodeData(11);\n\nvar pp$8 = Parser.prototype;\n\nvar RegExpValidationState = function RegExpValidationState(parser) {\n  this.parser = parser;\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n  this.source = \"\";\n  this.flags = \"\";\n  this.start = 0;\n  this.switchU = false;\n  this.switchN = false;\n  this.pos = 0;\n  this.lastIntValue = 0;\n  this.lastStringValue = \"\";\n  this.lastAssertionIsQuantifiable = false;\n  this.numCapturingParens = 0;\n  this.maxBackReference = 0;\n  this.groupNames = [];\n  this.backReferenceNames = [];\n};\n\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n  var unicode = flags.indexOf(\"u\") !== -1;\n  this.start = start | 0;\n  this.source = pattern + \"\";\n  this.flags = flags;\n  this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n  this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n};\n\nRegExpValidationState.prototype.raise = function raise (message) {\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n};\n\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\nRegExpValidationState.prototype.at = function at (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return -1\n  }\n  var c = s.charCodeAt(i);\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n    return c\n  }\n  var next = s.charCodeAt(i + 1);\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n};\n\nRegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return l\n  }\n  var c = s.charCodeAt(i), next;\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n    return i + 1\n  }\n  return i + 2\n};\n\nRegExpValidationState.prototype.current = function current (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.pos, forceU)\n};\n\nRegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.nextIndex(this.pos, forceU), forceU)\n};\n\nRegExpValidationState.prototype.advance = function advance (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  this.pos = this.nextIndex(this.pos, forceU);\n};\n\nRegExpValidationState.prototype.eat = function eat (ch, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  if (this.current(forceU) === ch) {\n    this.advance(forceU);\n    return true\n  }\n  return false\n};\n\nfunction codePointToString(ch) {\n  if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n  ch -= 0x10000;\n  return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n}\n\n/**\n * Validate the flags part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$8.validateRegExpFlags = function(state) {\n  var validFlags = state.validFlags;\n  var flags = state.flags;\n\n  for (var i = 0; i < flags.length; i++) {\n    var flag = flags.charAt(i);\n    if (validFlags.indexOf(flag) === -1) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n    if (flags.indexOf(flag, i + 1) > -1) {\n      this.raise(state.start, \"Duplicate regular expression flag\");\n    }\n  }\n};\n\n/**\n * Validate the pattern part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$8.validateRegExpPattern = function(state) {\n  this.regexp_pattern(state);\n\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n  // parsing contains a |GroupName|, reparse with the goal symbol\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\n  // were not matched by the parse, or if any Early Error conditions exist.\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n    state.switchN = true;\n    this.regexp_pattern(state);\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\npp$8.regexp_pattern = function(state) {\n  state.pos = 0;\n  state.lastIntValue = 0;\n  state.lastStringValue = \"\";\n  state.lastAssertionIsQuantifiable = false;\n  state.numCapturingParens = 0;\n  state.maxBackReference = 0;\n  state.groupNames.length = 0;\n  state.backReferenceNames.length = 0;\n\n  this.regexp_disjunction(state);\n\n  if (state.pos !== state.source.length) {\n    // Make the same messages as V8.\n    if (state.eat(0x29 /* ) */)) {\n      state.raise(\"Unmatched ')'\");\n    }\n    if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }\n  if (state.maxBackReference > state.numCapturingParens) {\n    state.raise(\"Invalid escape\");\n  }\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n    var name = list[i];\n\n    if (state.groupNames.indexOf(name) === -1) {\n      state.raise(\"Invalid named capture referenced\");\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\npp$8.regexp_disjunction = function(state) {\n  this.regexp_alternative(state);\n  while (state.eat(0x7C /* | */)) {\n    this.regexp_alternative(state);\n  }\n\n  // Make the same message as V8.\n  if (this.regexp_eatQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  if (state.eat(0x7B /* { */)) {\n    state.raise(\"Lone quantifier brackets\");\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\npp$8.regexp_alternative = function(state) {\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\n    { }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\npp$8.regexp_eatTerm = function(state) {\n  if (this.regexp_eatAssertion(state)) {\n    // Handle `QuantifiableAssertion Quantifier` alternative.\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n    // is a QuantifiableAssertion.\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n      // Make the same message as V8.\n      if (state.switchU) {\n        state.raise(\"Invalid quantifier\");\n      }\n    }\n    return true\n  }\n\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n    this.regexp_eatQuantifier(state);\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\npp$8.regexp_eatAssertion = function(state) {\n  var start = state.pos;\n  state.lastAssertionIsQuantifiable = false;\n\n  // ^, $\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n    return true\n  }\n\n  // \\b \\B\n  if (state.eat(0x5C /* \\ */)) {\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  // Lookahead / Lookbehind\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n    var lookbehind = false;\n    if (this.options.ecmaVersion >= 9) {\n      lookbehind = state.eat(0x3C /* < */);\n    }\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n      this.regexp_disjunction(state);\n      if (!state.eat(0x29 /* ) */)) {\n        state.raise(\"Unterminated group\");\n      }\n      state.lastAssertionIsQuantifiable = !lookbehind;\n      return true\n    }\n  }\n\n  state.pos = start;\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\npp$8.regexp_eatQuantifier = function(state, noError) {\n  if ( noError === void 0 ) noError = false;\n\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\n    state.eat(0x3F /* ? */);\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\npp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n  return (\n    state.eat(0x2A /* * */) ||\n    state.eat(0x2B /* + */) ||\n    state.eat(0x3F /* ? */) ||\n    this.regexp_eatBracedQuantifier(state, noError)\n  )\n};\npp$8.regexp_eatBracedQuantifier = function(state, noError) {\n  var start = state.pos;\n  if (state.eat(0x7B /* { */)) {\n    var min = 0, max = -1;\n    if (this.regexp_eatDecimalDigits(state)) {\n      min = state.lastIntValue;\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n        max = state.lastIntValue;\n      }\n      if (state.eat(0x7D /* } */)) {\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n        if (max !== -1 && max < min && !noError) {\n          state.raise(\"numbers out of order in {} quantifier\");\n        }\n        return true\n      }\n    }\n    if (state.switchU && !noError) {\n      state.raise(\"Incomplete quantifier\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\npp$8.regexp_eatAtom = function(state) {\n  return (\n    this.regexp_eatPatternCharacters(state) ||\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state)\n  )\n};\npp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatAtomEscape(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatUncapturingGroup = function(state) {\n  var start = state.pos;\n  if (state.eat(0x28 /* ( */)) {\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatCapturingGroup = function(state) {\n  if (state.eat(0x28 /* ( */)) {\n    if (this.options.ecmaVersion >= 9) {\n      this.regexp_groupSpecifier(state);\n    } else if (state.current() === 0x3F /* ? */) {\n      state.raise(\"Invalid group\");\n    }\n    this.regexp_disjunction(state);\n    if (state.eat(0x29 /* ) */)) {\n      state.numCapturingParens += 1;\n      return true\n    }\n    state.raise(\"Unterminated group\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\npp$8.regexp_eatExtendedAtom = function(state) {\n  return (\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state) ||\n    this.regexp_eatInvalidBracedQuantifier(state) ||\n    this.regexp_eatExtendedPatternCharacter(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\npp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n  if (this.regexp_eatBracedQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\npp$8.regexp_eatSyntaxCharacter = function(state) {\n  var ch = state.current();\n  if (isSyntaxCharacter(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isSyntaxCharacter(ch) {\n  return (\n    ch === 0x24 /* $ */ ||\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n    ch === 0x2E /* . */ ||\n    ch === 0x3F /* ? */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n// But eat eager.\npp$8.regexp_eatPatternCharacters = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n    state.advance();\n  }\n  return state.pos !== start\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\npp$8.regexp_eatExtendedPatternCharacter = function(state) {\n  var ch = state.current();\n  if (\n    ch !== -1 &&\n    ch !== 0x24 /* $ */ &&\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n    ch !== 0x2E /* . */ &&\n    ch !== 0x3F /* ? */ &&\n    ch !== 0x5B /* [ */ &&\n    ch !== 0x5E /* ^ */ &&\n    ch !== 0x7C /* | */\n  ) {\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// GroupSpecifier ::\n//   [empty]\n//   `?` GroupName\npp$8.regexp_groupSpecifier = function(state) {\n  if (state.eat(0x3F /* ? */)) {\n    if (this.regexp_eatGroupName(state)) {\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n        state.raise(\"Duplicate capture group name\");\n      }\n      state.groupNames.push(state.lastStringValue);\n      return\n    }\n    state.raise(\"Invalid group\");\n  }\n};\n\n// GroupName ::\n//   `<` RegExpIdentifierName `>`\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$8.regexp_eatGroupName = function(state) {\n  state.lastStringValue = \"\";\n  if (state.eat(0x3C /* < */)) {\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n      return true\n    }\n    state.raise(\"Invalid capture group name\");\n  }\n  return false\n};\n\n// RegExpIdentifierName ::\n//   RegExpIdentifierStart\n//   RegExpIdentifierName RegExpIdentifierPart\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$8.regexp_eatRegExpIdentifierName = function(state) {\n  state.lastStringValue = \"\";\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\n    state.lastStringValue += codePointToString(state.lastIntValue);\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n    }\n    return true\n  }\n  return false\n};\n\n// RegExpIdentifierStart ::\n//   UnicodeIDStart\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\npp$8.regexp_eatRegExpIdentifierStart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierStart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierStart(ch) {\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n}\n\n// RegExpIdentifierPart ::\n//   UnicodeIDContinue\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\n//   <ZWNJ>\n//   <ZWJ>\npp$8.regexp_eatRegExpIdentifierPart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierPart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierPart(ch) {\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\npp$8.regexp_eatAtomEscape = function(state) {\n  if (\n    this.regexp_eatBackReference(state) ||\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state) ||\n    (state.switchN && this.regexp_eatKGroupName(state))\n  ) {\n    return true\n  }\n  if (state.switchU) {\n    // Make the same message as V8.\n    if (state.current() === 0x63 /* c */) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.raise(\"Invalid escape\");\n  }\n  return false\n};\npp$8.regexp_eatBackReference = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatDecimalEscape(state)) {\n    var n = state.lastIntValue;\n    if (state.switchU) {\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n      if (n > state.maxBackReference) {\n        state.maxBackReference = n;\n      }\n      return true\n    }\n    if (n <= state.numCapturingParens) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatKGroupName = function(state) {\n  if (state.eat(0x6B /* k */)) {\n    if (this.regexp_eatGroupName(state)) {\n      state.backReferenceNames.push(state.lastStringValue);\n      return true\n    }\n    state.raise(\"Invalid named reference\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\npp$8.regexp_eatCharacterEscape = function(state) {\n  return (\n    this.regexp_eatControlEscape(state) ||\n    this.regexp_eatCControlLetter(state) ||\n    this.regexp_eatZero(state) ||\n    this.regexp_eatHexEscapeSequence(state) ||\n    this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n    this.regexp_eatIdentityEscape(state)\n  )\n};\npp$8.regexp_eatCControlLetter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x63 /* c */)) {\n    if (this.regexp_eatControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$8.regexp_eatZero = function(state) {\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n    state.lastIntValue = 0;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\npp$8.regexp_eatControlEscape = function(state) {\n  var ch = state.current();\n  if (ch === 0x74 /* t */) {\n    state.lastIntValue = 0x09; /* \\t */\n    state.advance();\n    return true\n  }\n  if (ch === 0x6E /* n */) {\n    state.lastIntValue = 0x0A; /* \\n */\n    state.advance();\n    return true\n  }\n  if (ch === 0x76 /* v */) {\n    state.lastIntValue = 0x0B; /* \\v */\n    state.advance();\n    return true\n  }\n  if (ch === 0x66 /* f */) {\n    state.lastIntValue = 0x0C; /* \\f */\n    state.advance();\n    return true\n  }\n  if (ch === 0x72 /* r */) {\n    state.lastIntValue = 0x0D; /* \\r */\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\npp$8.regexp_eatControlLetter = function(state) {\n  var ch = state.current();\n  if (isControlLetter(ch)) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isControlLetter(ch) {\n  return (\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\npp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n  if ( forceU === void 0 ) forceU = false;\n\n  var start = state.pos;\n  var switchU = forceU || state.switchU;\n\n  if (state.eat(0x75 /* u */)) {\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\n      var lead = state.lastIntValue;\n      if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n        var leadSurrogateEnd = state.pos;\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n          var trail = state.lastIntValue;\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n            return true\n          }\n        }\n        state.pos = leadSurrogateEnd;\n        state.lastIntValue = lead;\n      }\n      return true\n    }\n    if (\n      switchU &&\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatHexDigits(state) &&\n      state.eat(0x7D /* } */) &&\n      isValidUnicode(state.lastIntValue)\n    ) {\n      return true\n    }\n    if (switchU) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.pos = start;\n  }\n\n  return false\n};\nfunction isValidUnicode(ch) {\n  return ch >= 0 && ch <= 0x10FFFF\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\npp$8.regexp_eatIdentityEscape = function(state) {\n  if (state.switchU) {\n    if (this.regexp_eatSyntaxCharacter(state)) {\n      return true\n    }\n    if (state.eat(0x2F /* / */)) {\n      state.lastIntValue = 0x2F; /* / */\n      return true\n    }\n    return false\n  }\n\n  var ch = state.current();\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\npp$8.regexp_eatDecimalEscape = function(state) {\n  state.lastIntValue = 0;\n  var ch = state.current();\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n    do {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\npp$8.regexp_eatCharacterClassEscape = function(state) {\n  var ch = state.current();\n\n  if (isCharacterClassEscape(ch)) {\n    state.lastIntValue = -1;\n    state.advance();\n    return true\n  }\n\n  if (\n    state.switchU &&\n    this.options.ecmaVersion >= 9 &&\n    (ch === 0x50 /* P */ || ch === 0x70 /* p */)\n  ) {\n    state.lastIntValue = -1;\n    state.advance();\n    if (\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatUnicodePropertyValueExpression(state) &&\n      state.eat(0x7D /* } */)\n    ) {\n      return true\n    }\n    state.raise(\"Invalid property name\");\n  }\n\n  return false\n};\nfunction isCharacterClassEscape(ch) {\n  return (\n    ch === 0x64 /* d */ ||\n    ch === 0x44 /* D */ ||\n    ch === 0x73 /* s */ ||\n    ch === 0x53 /* S */ ||\n    ch === 0x77 /* w */ ||\n    ch === 0x57 /* W */\n  )\n}\n\n// UnicodePropertyValueExpression ::\n//   UnicodePropertyName `=` UnicodePropertyValue\n//   LoneUnicodePropertyNameOrValue\npp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n  var start = state.pos;\n\n  // UnicodePropertyName `=` UnicodePropertyValue\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n    var name = state.lastStringValue;\n    if (this.regexp_eatUnicodePropertyValue(state)) {\n      var value = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n      return true\n    }\n  }\n  state.pos = start;\n\n  // LoneUnicodePropertyNameOrValue\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n    var nameOrValue = state.lastStringValue;\n    this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n    return true\n  }\n  return false\n};\npp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n  if (!has(state.unicodeProperties.nonBinary, name))\n    { state.raise(\"Invalid property name\"); }\n  if (!state.unicodeProperties.nonBinary[name].test(value))\n    { state.raise(\"Invalid property value\"); }\n};\npp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n  if (!state.unicodeProperties.binary.test(nameOrValue))\n    { state.raise(\"Invalid property name\"); }\n};\n\n// UnicodePropertyName ::\n//   UnicodePropertyNameCharacters\npp$8.regexp_eatUnicodePropertyName = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyNameCharacter(ch) {\n  return isControlLetter(ch) || ch === 0x5F /* _ */\n}\n\n// UnicodePropertyValue ::\n//   UnicodePropertyValueCharacters\npp$8.regexp_eatUnicodePropertyValue = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyValueCharacter(ch) {\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n}\n\n// LoneUnicodePropertyNameOrValue ::\n//   UnicodePropertyValueCharacters\npp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n  return this.regexp_eatUnicodePropertyValue(state)\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\npp$8.regexp_eatCharacterClass = function(state) {\n  if (state.eat(0x5B /* [ */)) {\n    state.eat(0x5E /* ^ */);\n    this.regexp_classRanges(state);\n    if (state.eat(0x5D /* ] */)) {\n      return true\n    }\n    // Unreachable since it threw \"unterminated regular expression\" error before.\n    state.raise(\"Unterminated character class\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\npp$8.regexp_classRanges = function(state) {\n  while (this.regexp_eatClassAtom(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n      var right = state.lastIntValue;\n      if (state.switchU && (left === -1 || right === -1)) {\n        state.raise(\"Invalid character class\");\n      }\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\npp$8.regexp_eatClassAtom = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatClassEscape(state)) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      var ch$1 = state.current();\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n        state.raise(\"Invalid class escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n\n  var ch = state.current();\n  if (ch !== 0x5D /* ] */) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\npp$8.regexp_eatClassEscape = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x62 /* b */)) {\n    state.lastIntValue = 0x08; /* <BS> */\n    return true\n  }\n\n  if (state.switchU && state.eat(0x2D /* - */)) {\n    state.lastIntValue = 0x2D; /* - */\n    return true\n  }\n\n  if (!state.switchU && state.eat(0x63 /* c */)) {\n    if (this.regexp_eatClassControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  return (\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\npp$8.regexp_eatClassControlLetter = function(state) {\n  var ch = state.current();\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$8.regexp_eatHexEscapeSequence = function(state) {\n  var start = state.pos;\n  if (state.eat(0x78 /* x */)) {\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\npp$8.regexp_eatDecimalDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isDecimalDigit(ch = state.current())) {\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isDecimalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\npp$8.regexp_eatHexDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isHexDigit(ch = state.current())) {\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isHexDigit(ch) {\n  return (\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n  )\n}\nfunction hexToInt(ch) {\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n    return 10 + (ch - 0x41 /* A */)\n  }\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n    return 10 + (ch - 0x61 /* a */)\n  }\n  return ch - 0x30 /* 0 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n// Allows only 0-377(octal) i.e. 0-255(decimal).\npp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n  if (this.regexp_eatOctalDigit(state)) {\n    var n1 = state.lastIntValue;\n    if (this.regexp_eatOctalDigit(state)) {\n      var n2 = state.lastIntValue;\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n      } else {\n        state.lastIntValue = n1 * 8 + n2;\n      }\n    } else {\n      state.lastIntValue = n1;\n    }\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\npp$8.regexp_eatOctalDigit = function(state) {\n  var ch = state.current();\n  if (isOctalDigit(ch)) {\n    state.lastIntValue = ch - 0x30; /* 0 */\n    state.advance();\n    return true\n  }\n  state.lastIntValue = 0;\n  return false\n};\nfunction isOctalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$8.regexp_eatFixedHexDigits = function(state, length) {\n  var start = state.pos;\n  state.lastIntValue = 0;\n  for (var i = 0; i < length; ++i) {\n    var ch = state.current();\n    if (!isHexDigit(ch)) {\n      state.pos = start;\n      return false\n    }\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return true\n};\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nvar Token = function Token(p) {\n  this.type = p.type;\n  this.value = p.value;\n  this.start = p.start;\n  this.end = p.end;\n  if (p.options.locations)\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n  if (p.options.ranges)\n    { this.range = [p.start, p.end]; }\n};\n\n// ## Tokenizer\n\nvar pp$9 = Parser.prototype;\n\n// Move to the next token\n\npp$9.next = function(ignoreEscapeSequenceInKeyword) {\n  if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n    { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n  if (this.options.onToken)\n    { this.options.onToken(new Token(this)); }\n\n  this.lastTokEnd = this.end;\n  this.lastTokStart = this.start;\n  this.lastTokEndLoc = this.endLoc;\n  this.lastTokStartLoc = this.startLoc;\n  this.nextToken();\n};\n\npp$9.getToken = function() {\n  this.next();\n  return new Token(this)\n};\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  { pp$9[Symbol.iterator] = function() {\n    var this$1 = this;\n\n    return {\n      next: function () {\n        var token = this$1.getToken();\n        return {\n          done: token.type === types.eof,\n          value: token\n        }\n      }\n    }\n  }; }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\npp$9.curContext = function() {\n  return this.context[this.context.length - 1]\n};\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp$9.nextToken = function() {\n  var curContext = this.curContext();\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n  this.start = this.pos;\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\n  if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n  if (curContext.override) { return curContext.override(this) }\n  else { this.readToken(this.fullCharCodeAtPos()); }\n};\n\npp$9.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    { return this.readWord() }\n\n  return this.getTokenFromCode(code)\n};\n\npp$9.fullCharCodeAtPos = function() {\n  var code = this.input.charCodeAt(this.pos);\n  if (code <= 0xd7ff || code >= 0xe000) { return code }\n  var next = this.input.charCodeAt(this.pos + 1);\n  return (code << 10) + next - 0x35fdc00\n};\n\npp$9.skipBlockComment = function() {\n  var startLoc = this.options.onComment && this.curPosition();\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n  this.pos = end + 2;\n  if (this.options.locations) {\n    lineBreakG.lastIndex = start;\n    var match;\n    while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n      ++this.curLine;\n      this.lineStart = match.index + match[0].length;\n    }\n  }\n  if (this.options.onComment)\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\npp$9.skipLineComment = function(startSkip) {\n  var start = this.pos;\n  var startLoc = this.options.onComment && this.curPosition();\n  var ch = this.input.charCodeAt(this.pos += startSkip);\n  while (this.pos < this.input.length && !isNewLine(ch)) {\n    ch = this.input.charCodeAt(++this.pos);\n  }\n  if (this.options.onComment)\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp$9.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    var ch = this.input.charCodeAt(this.pos);\n    switch (ch) {\n    case 32: case 160: // ' '\n      ++this.pos;\n      break\n    case 13:\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\n        ++this.pos;\n      }\n    case 10: case 8232: case 8233:\n      ++this.pos;\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      break\n    case 47: // '/'\n      switch (this.input.charCodeAt(this.pos + 1)) {\n      case 42: // '*'\n        this.skipBlockComment();\n        break\n      case 47:\n        this.skipLineComment(2);\n        break\n      default:\n        break loop\n      }\n      break\n    default:\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++this.pos;\n      } else {\n        break loop\n      }\n    }\n  }\n};\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp$9.finishToken = function(type, val) {\n  this.end = this.pos;\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\n  var prevType = this.type;\n  this.type = type;\n  this.value = val;\n\n  this.updateContext(prevType);\n};\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp$9.readToken_dot = function() {\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\n  var next2 = this.input.charCodeAt(this.pos + 2);\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3;\n    return this.finishToken(types.ellipsis)\n  } else {\n    ++this.pos;\n    return this.finishToken(types.dot)\n  }\n};\n\npp$9.readToken_slash = function() { // '/'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.slash, 1)\n};\n\npp$9.readToken_mult_modulo_exp = function(code) { // '%*'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  var tokentype = code === 42 ? types.star : types.modulo;\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n    ++size;\n    tokentype = types.starstar;\n    next = this.input.charCodeAt(this.pos + 2);\n  }\n\n  if (next === 61) { return this.finishOp(types.assign, size + 1) }\n  return this.finishOp(tokentype, size)\n};\n\npp$9.readToken_pipe_amp = function(code) { // '|&'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (this.options.ecmaVersion >= 12) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 === 61) { return this.finishOp(types.assign, 3) }\n    }\n    return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2)\n  }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n};\n\npp$9.readToken_caret = function() { // '^'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.bitwiseXOR, 1)\n};\n\npp$9.readToken_plus_min = function(code) { // '+-'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n      // A `-->` line comment\n      this.skipLineComment(3);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    return this.finishOp(types.incDec, 2)\n  }\n  if (next === 61) { return this.finishOp(types.assign, 2) }\n  return this.finishOp(types.plusMin, 1)\n};\n\npp$9.readToken_lt_gt = function(code) { // '<>'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(types.bitShift, size)\n  }\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n      this.input.charCodeAt(this.pos + 3) === 45) {\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4);\n    this.skipSpace();\n    return this.nextToken()\n  }\n  if (next === 61) { size = 2; }\n  return this.finishOp(types.relational, size)\n};\n\npp$9.readToken_eq_excl = function(code) { // '=!'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2;\n    return this.finishToken(types.arrow)\n  }\n  return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n};\n\npp$9.readToken_question = function() { // '?'\n  var ecmaVersion = this.options.ecmaVersion;\n  if (ecmaVersion >= 11) {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 46) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 < 48 || next2 > 57) { return this.finishOp(types.questionDot, 2) }\n    }\n    if (next === 63) {\n      if (ecmaVersion >= 12) {\n        var next2$1 = this.input.charCodeAt(this.pos + 2);\n        if (next2$1 === 61) { return this.finishOp(types.assign, 3) }\n      }\n      return this.finishOp(types.coalesce, 2)\n    }\n  }\n  return this.finishOp(types.question, 1)\n};\n\npp$9.getTokenFromCode = function(code) {\n  switch (code) {\n  // The interpretation of a dot depends on whether it is followed\n  // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n  // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(types.parenL)\n  case 41: ++this.pos; return this.finishToken(types.parenR)\n  case 59: ++this.pos; return this.finishToken(types.semi)\n  case 44: ++this.pos; return this.finishToken(types.comma)\n  case 91: ++this.pos; return this.finishToken(types.bracketL)\n  case 93: ++this.pos; return this.finishToken(types.bracketR)\n  case 123: ++this.pos; return this.finishToken(types.braceL)\n  case 125: ++this.pos; return this.finishToken(types.braceR)\n  case 58: ++this.pos; return this.finishToken(types.colon)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) { break }\n    ++this.pos;\n    return this.finishToken(types.backQuote)\n\n  case 48: // '0'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n    }\n\n  // Anything else beginning with a digit is an integer, octal\n  // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n  // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n  // Operators are parsed inline in tiny state machines. '=' (61) is\n  // often referred to. `finishOp` simply skips the amount of\n  // characters it is given as second argument, and returns a token\n  // of the type given by its first argument.\n\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 63: // '?'\n    return this.readToken_question()\n\n  case 126: // '~'\n    return this.finishOp(types.prefix, 1)\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n};\n\npp$9.finishOp = function(type, size) {\n  var str = this.input.slice(this.pos, this.pos + size);\n  this.pos += size;\n  return this.finishToken(type, str)\n};\n\npp$9.readRegexp = function() {\n  var escaped, inClass, start = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n    var ch = this.input.charAt(this.pos);\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n    if (!escaped) {\n      if (ch === \"[\") { inClass = true; }\n      else if (ch === \"]\" && inClass) { inClass = false; }\n      else if (ch === \"/\" && !inClass) { break }\n      escaped = ch === \"\\\\\";\n    } else { escaped = false; }\n    ++this.pos;\n  }\n  var pattern = this.input.slice(start, this.pos);\n  ++this.pos;\n  var flagsStart = this.pos;\n  var flags = this.readWord1();\n  if (this.containsEsc) { this.unexpected(flagsStart); }\n\n  // Validate pattern\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n  state.reset(start, pattern, flags);\n  this.validateRegExpFlags(state);\n  this.validateRegExpPattern(state);\n\n  // Create Literal#value property value.\n  var value = null;\n  try {\n    value = new RegExp(pattern, flags);\n  } catch (e) {\n    // ESTree requires null if it failed to instantiate RegExp object.\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n  }\n\n  return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n};\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp$9.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n  // `len` is used for character escape sequences. In that case, disallow separators.\n  var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n  // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n  // and isn't fraction part nor exponent part. In that case, if the first digit\n  // is zero then disallow separators.\n  var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n  var start = this.pos, total = 0, lastCode = 0;\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n    if (allowSeparators && code === 95) {\n      if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n      if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n      if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n      lastCode = code;\n      continue\n    }\n\n    if (code >= 97) { val = code - 97 + 10; } // a\n    else if (code >= 65) { val = code - 65 + 10; } // A\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n    else { val = Infinity; }\n    if (val >= radix) { break }\n    lastCode = code;\n    total = total * radix + val;\n  }\n\n  if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n  return total\n};\n\nfunction stringToNumber(str, isLegacyOctalNumericLiteral) {\n  if (isLegacyOctalNumericLiteral) {\n    return parseInt(str, 8)\n  }\n\n  // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n  return parseFloat(str.replace(/_/g, \"\"))\n}\n\nfunction stringToBigInt(str) {\n  if (typeof BigInt !== \"function\") {\n    return null\n  }\n\n  // `BigInt(value)` throws syntax error if the string contains numeric separators.\n  return BigInt(str.replace(/_/g, \"\"))\n}\n\npp$9.readRadixNumber = function(radix) {\n  var start = this.pos;\n  this.pos += 2; // 0x\n  var val = this.readInt(radix);\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n    val = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n  return this.finishToken(types.num, val)\n};\n\n// Read an integer, octal integer, or floating-point number.\n\npp$9.readNumber = function(startsWithDot) {\n  var start = this.pos;\n  if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n  var next = this.input.charCodeAt(this.pos);\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n    var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val$1)\n  }\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n  if (next === 46 && !octal) { // '.'\n    ++this.pos;\n    this.readInt(10);\n    next = this.input.charCodeAt(this.pos);\n  }\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\n    next = this.input.charCodeAt(++this.pos);\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n  var val = stringToNumber(this.input.slice(start, this.pos), octal);\n  return this.finishToken(types.num, val)\n};\n\n// Read a string value, interpreting backslash-escapes.\n\npp$9.readCodePoint = function() {\n  var ch = this.input.charCodeAt(this.pos), code;\n\n  if (ch === 123) { // '{'\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\n    var codePos = ++this.pos;\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n    ++this.pos;\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n  } else {\n    code = this.readHexChar(4);\n  }\n  return code\n};\n\nfunction codePointToString$1(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\n  code -= 0x10000;\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\npp$9.readString = function(quote) {\n  var out = \"\", chunkStart = ++this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === quote) { break }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(false);\n      chunkStart = this.pos;\n    } else {\n      if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++);\n  return this.finishToken(types.string, out)\n};\n\n// Reads template string tokens.\n\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\npp$9.tryReadTemplateToken = function() {\n  this.inTemplateElement = true;\n  try {\n    this.readTmplToken();\n  } catch (err) {\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n      this.readInvalidTemplateToken();\n    } else {\n      throw err\n    }\n  }\n\n  this.inTemplateElement = false;\n};\n\npp$9.invalidStringToken = function(position, message) {\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\n  } else {\n    this.raise(position, message);\n  }\n};\n\npp$9.readTmplToken = function() {\n  var out = \"\", chunkStart = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n        if (ch === 36) {\n          this.pos += 2;\n          return this.finishToken(types.dollarBraceL)\n        } else {\n          ++this.pos;\n          return this.finishToken(types.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos);\n      return this.finishToken(types.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(true);\n      chunkStart = this.pos;\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos);\n      ++this.pos;\n      switch (ch) {\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n      case 10:\n        out += \"\\n\";\n        break\n      default:\n        out += String.fromCharCode(ch);\n        break\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      chunkStart = this.pos;\n    } else {\n      ++this.pos;\n    }\n  }\n};\n\n// Reads a template token to search for the end, without validating any escape sequences\npp$9.readInvalidTemplateToken = function() {\n  for (; this.pos < this.input.length; this.pos++) {\n    switch (this.input[this.pos]) {\n    case \"\\\\\":\n      ++this.pos;\n      break\n\n    case \"$\":\n      if (this.input[this.pos + 1] !== \"{\") {\n        break\n      }\n    // falls through\n\n    case \"`\":\n      return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n    // no default\n    }\n  }\n  this.raise(this.start, \"Unterminated template\");\n};\n\n// Used to read escaped characters\n\npp$9.readEscapedChar = function(inTemplate) {\n  var ch = this.input.charCodeAt(++this.pos);\n  ++this.pos;\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString$1(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n    return \"\"\n  case 56:\n  case 57:\n    if (inTemplate) {\n      var codePos = this.pos - 1;\n\n      this.invalidStringToken(\n        codePos,\n        \"Invalid escape sequence in template string\"\n      );\n\n      return null\n    }\n  default:\n    if (ch >= 48 && ch <= 55) {\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n      var octal = parseInt(octalStr, 8);\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1);\n        octal = parseInt(octalStr, 8);\n      }\n      this.pos += octalStr.length - 1;\n      ch = this.input.charCodeAt(this.pos);\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n        this.invalidStringToken(\n          this.pos - 1 - octalStr.length,\n          inTemplate\n            ? \"Octal literal in template string\"\n            : \"Octal literal in strict mode\"\n        );\n      }\n      return String.fromCharCode(octal)\n    }\n    if (isNewLine(ch)) {\n      // Unicode new line characters after \\ get removed from output in both\n      // template literals and strings\n      return \"\"\n    }\n    return String.fromCharCode(ch)\n  }\n};\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp$9.readHexChar = function(len) {\n  var codePos = this.pos;\n  var n = this.readInt(16, len);\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n  return n\n};\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp$9.readWord1 = function() {\n  this.containsEsc = false;\n  var word = \"\", first = true, chunkStart = this.pos;\n  var astral = this.options.ecmaVersion >= 6;\n  while (this.pos < this.input.length) {\n    var ch = this.fullCharCodeAtPos();\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2;\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true;\n      word += this.input.slice(chunkStart, this.pos);\n      var escStart = this.pos;\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n      ++this.pos;\n      var esc = this.readCodePoint();\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n      word += codePointToString$1(esc);\n      chunkStart = this.pos;\n    } else {\n      break\n    }\n    first = false;\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n};\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp$9.readWord = function() {\n  var word = this.readWord1();\n  var type = types.name;\n  if (this.keywords.test(word)) {\n    type = keywords$1[word];\n  }\n  return this.finishToken(type, word)\n};\n\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n\nvar version = \"7.4.1\";\n\nParser.acorn = {\n  Parser: Parser,\n  version: version,\n  defaultOptions: defaultOptions,\n  Position: Position,\n  SourceLocation: SourceLocation,\n  getLineInfo: getLineInfo,\n  Node: Node,\n  TokenType: TokenType,\n  tokTypes: types,\n  keywordTypes: keywords$1,\n  TokContext: TokContext,\n  tokContexts: types$1,\n  isIdentifierChar: isIdentifierChar,\n  isIdentifierStart: isIdentifierStart,\n  Token: Token,\n  isNewLine: isNewLine,\n  lineBreak: lineBreak,\n  lineBreakG: lineBreakG,\n  nonASCIIwhitespace: nonASCIIwhitespace\n};\n\n// The main exported interface (under `self.acorn` when in the\n// browser) is a `parse` function that takes a code string and\n// returns an abstract syntax tree as specified by [Mozilla parser\n// API][api].\n//\n// [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\nfunction parse(input, options) {\n  return Parser.parse(input, options)\n}\n\n// This function tries to parse a single expression at a given\n// offset in a string. Useful for parsing mixed-language formats\n// that embed JavaScript expressions.\n\nfunction parseExpressionAt(input, pos, options) {\n  return Parser.parseExpressionAt(input, pos, options)\n}\n\n// Acorn is organized as a tokenizer and a recursive-descent parser.\n// The `tokenizer` export provides an interface to the tokenizer.\n\nfunction tokenizer(input, options) {\n  return Parser.tokenizer(input, options)\n}\n\nexport { Node, Parser, Position, SourceLocation, TokContext, Token, TokenType, defaultOptions, getLineInfo, isIdentifierChar, isIdentifierStart, isNewLine, keywords$1 as keywordTypes, lineBreak, lineBreakG, nonASCIIwhitespace, parse, parseExpressionAt, types$1 as tokContexts, types as tokTypes, tokenizer, version };\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  if (!IS_IOS && !IS_NODE && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","!function(t,e){\"object\"==typeof exports?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):t.Draggable=e()}(this,function(){\"use strict\";var t={grid:0,filterTarget:null,limit:{x:null,y:null},threshold:0,setCursor:!1,setPosition:!0,smoothDrag:!0,useGPU:!0,onDrag:u,onDragStart:u,onDragEnd:u},e={transform:function(){for(var t=\" -o- -ms- -moz- -webkit-\".split(\" \"),e=document.body.style,n=t.length;n--;){var o=t[n]+\"transform\";if(o in e)return o}}()},n={assign:function(){for(var t=arguments[0],e=arguments.length,n=1;n<e;n++){var o=arguments[n];for(var i in o)t[i]=o[i]}return t},bind:function(t,e){return function(){t.apply(e,arguments)}},on:function(t,e,o){if(e&&o)n.addEvent(t,e,o);else if(e)for(var i in e)n.addEvent(t,i,e[i])},off:function(t,e,o){if(e&&o)n.removeEvent(t,e,o);else if(e)for(var i in e)n.removeEvent(t,i,e[i])},limit:function(t,e){return e instanceof Array?t<(e=[+e[0],+e[1]])[0]?t=e[0]:t>e[1]&&(t=e[1]):t=+e,t},addEvent:\"attachEvent\"in Element.prototype?function(t,e,n){t.attachEvent(\"on\"+e,n)}:function(t,e,n){t.addEventListener(e,n,!1)},removeEvent:\"attachEvent\"in Element.prototype?function(t,e,n){t.detachEvent(\"on\"+e,n)}:function(t,e,n){t.removeEventListener(e,n)}};function o(e,o){var i=this,r=n.bind(i.start,i),s=n.bind(i.drag,i),u=n.bind(i.stop,i);if(!a(e))throw new TypeError(\"Draggable expects argument 0 to be an Element\");o=n.assign({},t,o),n.assign(i,{element:e,handle:o.handle&&a(o.handle)?o.handle:e,handlers:{start:{mousedown:r,touchstart:r},move:{mousemove:s,mouseup:u,touchmove:s,touchend:u}},options:o}),i.initialize()}function i(t){return parseInt(t,10)}function r(t){return\"currentStyle\"in t?t.currentStyle:getComputedStyle(t)}function s(t){return null!=t}function a(t){return t instanceof Element||\"undefined\"!=typeof HTMLDocument&&t instanceof HTMLDocument}function u(){}return n.assign(o.prototype,{setOption:function(t,e){var n=this;return n.options[t]=e,n.initialize(),n},get:function(){var t=this.dragEvent;return{x:t.x,y:t.y}},set:function(t,e){var n=this.dragEvent;return n.original={x:n.x,y:n.y},this.move(t,e),this},dragEvent:{started:!1,x:0,y:0},initialize:function(){var t,o=this,i=o.element,s=(o.handle,i.style),a=r(i),u=o.options,f=e.transform,l=o._dimensions={height:i.offsetHeight,left:i.offsetLeft,top:i.offsetTop,width:i.offsetWidth};u.useGPU&&f&&(\"none\"===(t=a[f])&&(t=\"\"),s[f]=t+\" translate3d(0,0,0)\"),u.setPosition&&(s.display=\"block\",s.left=l.left+\"px\",s.top=l.top+\"px\",s.width=l.width+\"px\",s.height=l.height+\"px\",s.bottom=s.right=\"auto\",s.margin=0,s.position=\"absolute\"),u.setCursor&&(s.cursor=\"move\"),o.setLimit(u.limit),n.assign(o.dragEvent,{x:l.left,y:l.top}),n.on(o.handle,o.handlers.start)},start:function(t){var e=this,o=e.getCursor(t),i=e.element;e.useTarget(t.target||t.srcElement)&&(t.preventDefault&&!t.target.getAttribute(\"contenteditable\")?t.preventDefault():t.target.getAttribute(\"contenteditable\")||(t.returnValue=!1),e.dragEvent.oldZindex=i.style.zIndex,i.style.zIndex=1e4,e.setCursor(o),e.setPosition(),e.setZoom(),n.on(document,e.handlers.move))},drag:function(t){var e=this,n=e.dragEvent,o=e.element,i=e._cursor,r=e._dimensions,s=e.options,a=r.zoom,u=e.getCursor(t),f=s.threshold,l=(u.x-i.x)/a+r.left,d=(u.y-i.y)/a+r.top;!n.started&&f&&Math.abs(i.x-u.x)<f&&Math.abs(i.y-u.y)<f||(n.original||(n.original={x:l,y:d}),n.started||(s.onDragStart(o,l,d,t),n.started=!0),e.move(l,d)&&s.onDrag(o,n.x,n.y,t))},move:function(t,e){var n=this,o=n.dragEvent,i=n.options,r=i.grid,s=n.element.style,a=n.limit(t,e,o.original.x,o.original.y);return!i.smoothDrag&&r&&(a=n.round(a,r)),(a.x!==o.x||a.y!==o.y)&&(o.x=a.x,o.y=a.y,s.left=a.x+\"px\",s.top=a.y+\"px\",!0)},stop:function(t){var e,o=this,i=o.dragEvent,r=o.element,s=o.options,a=s.grid;n.off(document,o.handlers.move),r.style.zIndex=i.oldZindex,s.smoothDrag&&a&&(e=o.round({x:i.x,y:i.y},a),o.move(e.x,e.y),n.assign(o.dragEvent,e)),o.dragEvent.started&&s.onDragEnd(r,i.x,i.y,t),o.reset()},reset:function(){this.dragEvent.started=!1},round:function(t){var e=this.options.grid;return{x:e*Math.round(t.x/e),y:e*Math.round(t.y/e)}},getCursor:function(t){return{x:(t.targetTouches?t.targetTouches[0]:t).clientX,y:(t.targetTouches?t.targetTouches[0]:t).clientY}},setCursor:function(t){this._cursor=t},setLimit:function(t){var e=this,o=function(t,e){return{x:t,y:e}};if(t instanceof Function)e.limit=t;else if(a(t)){var i=e._dimensions,r=t.scrollHeight-i.height,u=t.scrollWidth-i.width;e.limit=function(t,e){return{x:n.limit(t,[0,u]),y:n.limit(e,[0,r])}}}else if(t){var f=s(t.x),l=s(t.y);e.limit=f||l?function(e,o){return{x:f?n.limit(e,t.x):e,y:l?n.limit(o,t.y):o}}:o}else e.limit=o},setPosition:function(){var t=this.element,e=t.style;n.assign(this._dimensions,{left:i(e.left)||t.offsetLeft,top:i(e.top)||t.offsetTop})},setZoom:function(){for(var t=this.element,e=1;t=t.offsetParent;){var n=r(t).zoom;if(n&&\"normal\"!==n){e=n;break}}this._dimensions.zoom=e},useTarget:function(t){var e=this.options.filterTarget;return!(e instanceof Function)||e(t)},destroy:function(){n.off(this.handle,this.handlers.start),n.off(document,this.handlers.move)}}),o});","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}